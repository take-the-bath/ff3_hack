; da65 V2.11.0 - (C) Copyright 2000-2005,  Ullrich von Bassewitz
; Created:    2017-12-24 07:34:20
; Input file: D:\Documents\programming\eclipse workspaces\ff3\hack-and-patch\work\base-binary\ff3_plain.nes.noheader
; Page:   1


    .setcpu "65C02"

; ----------------------------------------------------------------------------
.L_139D       := $139D
.L_2221       := $2221
menu.party_summary.put_pc_sprites:= $8000   ; bank $3c
.L_808C       := $808C
.L_80CB       := $80CB
.L_8129       := $8129
.L_8136       := $8136
.L_8236       := $8236
.L_8241       := $8241
.L_850C       := $850C
.L_8E55       := $8E55
.L_8F58       := $8F58
menu.accept_input_action:= $8F74            ; bank $3c
menu.items.save_render_params:= $903D       ; bank $3c
menu.items.load_render_params:= $9075       ; bank $3c
.L_90B9       := $90B9
menu.put_cursor_on_window1:= $9119          ; bank $3c
menu.put_cursor_on_window2:= $912A          ; bank $3c
menu.put_cursor_on_window3:= $914C          ; bank $3c
menu.put_cursor_attrs_on_sprite_cache:= $9164   ; bank $3c
menu.get_input_and_queue_SE:= $9175         ; bank $3c
menu.window1.get_input_and_update_cursor:= $91A3; bank $3c
menu.window2.get_input_and_update_cursor:= $91D9; bank $3c
menu.window3.get_input_and_scroll:= $920D   ; bank $3c
.L_923D       := $923D
floor.copyEventScriptStream:= $92F3         ; bank $3c
.L_92F5       := $92F5
.L_931B       := $931B
getEventFlag    := $9344; bank $3c
.L_9362       := $9362
floor.searchSpaceForItem:= $937E            ; bank $3c
.L_93EE       := $93EE
.L_9406       := $9406
.L_943E       := $943E
.L_947B       := $947B
.L_949B       := $949B
menu.upload_default_bg_attrs:= $956F        ; bank $3c
field.queue_SE_of_healing:= $958C           ; bank $3c
menu.init_input_states:= $9592              ; bank $3c
.L_9599       := $9599
menu.init_ppu   := $959F; bank $3c
.L_95B2       := $95B2
.L_95D7       := $95D7
.L_961C       := $961C
jobMenu.main    := $962F; bank $3c
.L_9698       := $9698
.L_96A5       := $96A5
.L_96BA       := $96BA
.L_96DA       := $96DA
.L_96F5       := $96F5
.L_9737       := $9737
.L_9753       := $9753
menu.magic.main_loop:= $9761                ; bank $3c
.L_9785       := $9785
.L_97D9       := $97D9
.L_9819       := $9819
.L_988F       := $988F
.L_9897       := $9897
.L_98BB       := $98BB
.L_98D5       := $98D5
.L_98EC       := $98EC
.L_9918       := $9918
.L_9921       := $9921
.L_9957       := $9957
.L_99E1       := $99E1
.L_99EB       := $99EB
.L_9A56       := $9A56
.L_9A65       := $9A65
.L_9A76       := $9A76
.L_9A7E       := $9A7E
.L_9A8B       := $9A8B
.L_9A8F       := $9A8F
.L_9A97       := $9A97
.L_9A9B       := $9A9B
.L_9AA3       := $9AA3
.L_9AA5       := $9AA5
.L_9ABB       := $9ABB
.L_9ABF       := $9ABF
.L_9AC4       := $9AC4
.L_9ACC       := $9ACC
.L_9AD0       := $9AD0
.L_9AD8       := $9AD8
.L_9B4C       := $9B4C
.L_9B5D       := $9B5D
.L_9B7A       := $9B7A
.L_9BB5       := $9BB5
.L_9C1E       := $9C1E
.L_9C3C       := $9C3C
.L_9C6B       := $9C6B
.L_9CAA       := $9CAA
.L_9CC6       := $9CC6
.L_9CF6       := $9CF6
.L_9D2F       := $9D2F
.L_9D5B       := $9D5B
.L_9D68       := $9D68
.L_9D9B       := $9D9B
.L_9E0F       := $9E0F
.L_9E2A       := $9E2A
.L_9E4B       := $9E4B
menu.items.on_close:= $9EBC                 ; bank $3c
menu.items.main_loop:= $9EC2                ; bank $3c
.L_9EFE       := $9EFE
menu.items.on_2nd_item_selected:= $9FA5     ; bank $3c
.L_A08B       := $A08B
.L_A0A4       := $A0A4
.L_A12B       := $A12B
.L_A144       := $A144
.L_A15F       := $A15F
.L_A161       := $A161
.L_A17C       := $A17C
.L_A19C       := $A19C
.L_A1C9       := $A1C9
.L_A1F4       := $A1F4
.L_A2B4       := $A2B4
checkmagic  := $A2DF; bank $3d
.L_A2F6       := $A2F6
.L_A305       := $A305
menu.pc_select.draw_window:= $A328          ; bank $3d
menu.party_summary.draw_content:= $A332     ; bank $3d
menu.items.consume_item:= $A33C             ; bank $3d
.L_A349       := $A349
.L_A356       := $A356
menu.items.clone_for_2nd_selection:= $A363  ; bank $3d
menu.pc_select.load_states:= $A38E          ; bank $3d
menu.pc_select.save_states:= $A3A8          ; bank $3d
.L_A3C2       := $A3C2
.L_A40F       := $A40F
.L_A418       := $A418
.L_A429       := $A429
.L_A438       := $A438
.L_A458       := $A458
.L_A466       := $A466
.L_A48A       := $A48A
.L_A4B5       := $A4B5
.L_A4D4       := $A4D4
.L_A500       := $A500
.L_A525       := $A525
menu.main_loop  := $A52F; bank $3d
.L_A534       := $A534
.L_A567       := $A567
.L_A5A9       := $A5A9
.L_A646       := $A646
.L_A654       := $A654
menu.draw_window:= $A666; bank $3d
menu.stream_window_content:= $A66B          ; bank $3d
menu.draw_window_content:= $A678            ; bank $3d
menu.main.erase := $A685; bank $3d
.L_A696       := $A696
fieldMenu.selectCharacter:= $A6B4           ; bank $3d
.L_A6CD       := $A6CD
.L_A6E7       := $A6E7
.L_A715       := $A715
.L_A75F       := $A75F
.L_A799       := $A799
menu.render_cursor:= $A7CD                  ; bank $3d
.L_A7E6       := $A7E6
.L_A83B       := $A83B
.L_A864       := $A864
.L_A875       := $A875
menu.draw_view_of_buffered_string:= $A87A   ; bank $3d
menu.savefile.close:= $A88C                 ; bank $3d
menu.savefile.main_loop:= $A897             ; bank $3d
menu.savefile.build_menu:= $A984            ; bank $3d
menu.savefile.draw_message:= $A996          ; bank $3d
menu.savefile.build_file_menu:= $A9A0       ; bank $3d
menu.savefile.draw_file_summary:= $A9E1     ; bank $3d
menu.savefile.load_game_at:= $A9F9          ; bank $3d
menu.savefile.load_game:= $AA06             ; bank $3d
menu.savefile.save_or_load_current_game_with_buffer:= $AA18; bank $3d
menu.await_new_input:= $AA4B                ; bank $3d
menu.await_nmi_with_sound:= $AA60           ; bank $3d
menu.savefile.draw_saved_file_summary:= $AA67   ; bank $3d
menu.items.erase_message:= $AA8E            ; bank $3d
menu.draw_window_top:= $AAA0                ; bank $3d
menu.get_window_content_metrics:= $AAA6     ; bank $3d
menu.get_window_metrics:= $AABC             ; bank $3d
menu.draw_window_box:= $AAF1                ; bank $3d
field.menu_window_metrics:= $AAF7           ; bank $3d
.L_AB8F       := $AB8F
.L_AC31       := $AC31
.L_AD1E       := $AD1E
.L_AD45       := $AD45
.L_AD4F       := $AD4F
menu.jobs.get_change_costs:= $AD85          ; bank $3d
.L_AD89       := $AD89
getJobParameter := $ADF2; bank $3d
.L_AE23       := $AE23
.L_AE5C       := $AE5C
.L_AE97       := $AE97
.L_AEC3       := $AEC3
.L_AED5       := $AED5
.L_AEE3       := $AEE3
.L_AF5E       := $AF5E
.L_AF76       := $AF76
.L_AFCF       := $AFCF
.L_AFF2       := $AFF2
.L_B01A       := $B01A
.L_B04D       := $B04D
.L_B0CA       := $B0CA
floor.shop  := $B0EB; bank $3d
.L_B106       := $B106
.L_B137       := $B137
.L_B13D       := $B13D
.L_B1CB       := $B1CB
.L_B1EB       := $B1EB
.L_B1F2       := $B1F2
.L_B1FC       := $B1FC
.L_B20C       := $B20C
.L_B216       := $B216
floor.shop.getItemValues:= $B220            ; bank $3d
floor.shop.getSellingPrice:= $B248          ; bank $3d
.L_B269       := $B269
floor.shop.getItemValue:= $B270             ; bank $3d
.L_B281       := $B281
.L_B335       := $B335
.L_B369       := $B369
.L_B383       := $B383
.L_B3F2       := $B3F2
.L_B401       := $B401
.L_B44D       := $B44D
.L_B492       := $B492
.L_B4AE       := $B4AE
.L_B504       := $B504
.L_B542       := $B542
menu.stomach.build_content_text:= $B570     ; bank $3d
.L_B5A2       := $B5A2
.L_B5ED       := $B5ED
.L_B5F7       := $B5F7
.L_B619       := $B619
.L_B645       := $B645
.L_B654       := $B654
.L_B693       := $B693
.L_B716       := $B716
.L_B723       := $B723
.L_B75B       := $B75B
.L_B7F4       := $B7F4
.L_B83F       := $B83F
.L_B864       := $B864
.L_B886       := $B886
.L_B895       := $B895
.L_B8C6       := $B8C6
.L_B8E6       := $B8E6
.L_B8F7       := $B8F7
.L_B981       := $B981
.L_B9B7       := $B9B7
.L_B9CA       := $B9CA
.L_BADD       := $BADD
.L_BB66       := $BB66
.L_BB7D       := $BB7D
.L_BBAD       := $BBAD
.L_BBEF       := $BBEF
.L_BC03       := $BC03
.L_BC4D       := $BC4D
.L_BC60       := $BC60
getEncounterId  := $BD4D; bank $3d
isEncounterOccured:= $BDB9                  ; bank $3d
.L_BDD2       := $BDD2
.L_BE7C       := $BE7C
.L_BE92       := $BE92
.L_BE9D       := $BE9D
.L_BEAD       := $BEAD
beginBattle := $C049; bank $3e
.L_C063       := $C063
menu.opening.title_page:= $C06E             ; bank $3e
.L_C0ED       := $C0ED
field.enterDungeon:= $C1BB                  ; bank $3e
field.dispatchInput:= $C243                 ; bank $3e
field_OnStart   := $C269; bank $3e
field_doScroll  := $C389; bank $3e
field_setScroll := $C398; bank $3e
field.init_sprites_cache:= $C486            ; bank $3e
field.OnMove    := $C4FC; bank $3e
field       := $C6B9; bank $3e
field.OnCharacterMoved:= $C6D5              ; bank $3e
field.getRandom := $C711; bank $3e
floor.getObjectEventPtr:= $C72C             ; bank $3e
field.call_sound_driver:= $C750             ; bank $3e
field.call_sound_driver_and_restore_banks:= $C758; bank $3e
dive_into_float_land:= $C966                ; bank $3e
switchToBank3C  := $C98A; bank $3e
field.update_window_attr_buff:= $C98F       ; bank $3e
field.set_bg_attr_for_window:= $C9A9        ; bank $3e
field.merge_bg_attributes_with_buffer:= $CAB1   ; bank $3e
field.copyToVramWith_07d0:= $CB6B           ; bank $3e
field.loadWarpDestinationFloor:= $CBA4      ; bank $3e
loadFloorData   := $CBFA; bank $3e
field.loadMapRow:= $CC47; bank $3e
field.getMapDataPointers:= $CCBB            ; bank $3e
vehicleSpeeds   := $CD76; bank $3e
getVehicleSpeed := $CD7E; bank $3e
getTileParamsVertical:= $CE7A               ; bank $3e
; ----------------------------------------------------------------------------
.L_D10B:
  inc $9285   ; D10B EE 85 92
    lda #$00    ; D10E A9 00
    sta <$94     ; D110 85 94
    .byte   <$A9     ; D112 A9
.L_D113:
  .byte   <$82     ; D113 82
    sta <$95     ; D114 85 95
    jmp field.load_and_draw_string  ; D116 4C 9A EE
; ----------------------------------------------------------------------------
    lda <$A2     ; D119 A5 A2
    bne .L_D11E   ; D11B D0 01
    rts             ; D11D 60
; ----------------------------------------------------------------------------
.L_D11E:
  ldy $78F0   ; D11E AC F0 78
    ldx $7800,y ; D121 BE 00 78
    lda $7801,y ; D124 B9 01 78
    jmp menu.put_cursor_attrs_on_sprite_cache; D127 4C 64 91
; ----------------------------------------------------------------------------
    lda <$A3     ; D12A A5 A3
    bne .L_D12F   ; D12C D0 01
.L_D12E:
  rts             ; D12E 60
; ----------------------------------------------------------------------------
.L_D12F:
  cmp #$01    ; D12F C9 01
    beq .L_D140   ; D131 F0 0D
    lda $79F2   ; D133 AD F2 79
    bne .L_D12E   ; D136 D0 F6
    lda $79F0   ; D138 AD F0 79
    cmp $79F1   ; D13B CD F1 79
    bcs .L_D12E   ; D13E B0 EE
.L_D140:
  .byte   <$AC     ; D140 AC
    .byte   <$F0     ; D141 F0
.L_D142:
  adc $BE,y   ; D142 79 BE 00
    adc $01B9,y ; D145 79 B9 01
    adc $644C,y ; D148 79 4C 64
    sta [$A5],y ; D14B 91 A5
    ldy <$D0     ; D14D A4 D0
    .byte   <$01     ; D14F 01
.L_D150:
  rts             ; D150 60
; ----------------------------------------------------------------------------
.L_D151:
  cmp #$01    ; D151 C9 01
    beq .L_D15B   ; D153 F0 06
    lda <$F0     ; D155 A5 F0
    and #$04    ; D157 29 04
    bne .L_D150   ; D159 D0 F5
.L_D15B:
  ldy $7AF0   ; D15B AC F0 7A
    ldx $7A00,y ; D15E BE 00 7A
    lda $7A01,y ; D161 B9 01 7A
    asl a       ; D164 0A
    asl a       ; D165 0A
    asl a       ; D166 0A
    sta <$41     ; D167 85 41
    txa             ; D169 8A
    asl a       ; D16A 0A
    asl a       ; D16B 0A
    asl a       ; D16C 0A
    sta <$40     ; D16D 85 40
    asl a       ; D16F 0A
    asl a       ; D170 0A
    asl a       ; D171 0A
    jmp .L_D5EB   ; D172 4C EB D5
; ----------------------------------------------------------------------------
    jsr floor.getInputOrFireObjectEvent ; D175 20 19 D2
    lda <$20     ; D178 A5 20
    and #$0F    ; D17A 29 0F
    beq .L_D18A   ; D17C F0 0C
    cmp <$A1     ; D17E C5 A1
    beq .L_D191   ; D180 F0 0F
    sta <$A1     ; D182 85 A1
    jsr field.queue_SE_of_move_of_cursor; D184 20 13 D2
    lda <$A1     ; D187 A5 A1
    rts             ; D189 60
; ----------------------------------------------------------------------------
.L_D18A:
  lda #$00    ; D18A A9 00
    sta <$47     ; D18C 85 47
    sta <$A1     ; D18E 85 A1
    rts             ; D190 60
; ----------------------------------------------------------------------------
.L_D191:
  lda <$47     ; D191 A5 47
    clc             ; D193 18
    adc #$01    ; D194 69 01
    sta <$47     ; D196 85 47
.L_D198:
  cmp #$10    ; D198 C9 10
    bcc .L_D1A0   ; D19A 90 04
    lda #$00    ; D19C A9 00
    sta <$A1     ; D19E 85 A1
.L_D1A0:
  lda #$00    ; D1A0 A9 00
    rts             ; D1A2 60
; ----------------------------------------------------------------------------
    sta <$06     ; D1A3 85 06
    jsr menu.get_input_and_queue_SE ; D1A5 20 75 91
    and #$0F    ; D1A8 29 0F
    sta <$80     ; D1AA 85 80
.L_D1AC:
  beq .L_D1C8   ; D1AC F0 1A
    cmp #$04    ; D1AE C9 04
    .byte   <$B0     ; D1B0 B0
; bank $3e
field.load_label_text_into_buffer:
    tsb <$A2     ; D1B1 04 A2
    tsb <$86     ; D1B3 04 86
    asl <$29     ; D1B5 06 29
    ora <$D0     ; D1B7 05 D0
    bbr0    $AD,.L_D1AC                   ; D1B9 0F AD F0
    sei             ; D1BC 78
    sec             ; D1BD 38
    sbc <$06     ; D1BE E5 06
    bcs .L_D1C5   ; D1C0 B0 03
    adc $78F1   ; D1C2 6D F1 78
.L_D1C5:
  sta $78F0   ; D1C5 8D F0 78
.L_D1C8:
  rts             ; D1C8 60
; ----------------------------------------------------------------------------
    lda $78F0   ; D1C9 AD F0 78
    clc             ; D1CC 18
    adc <$06     ; D1CD 65 06
    cmp $78F1   ; D1CF CD F1 78
    bcc .L_D1C5   ; D1D2 90 F1
    sbc $78F1   ; D1D4 ED F1 78
    bcs .L_D1C5   ; D1D7 B0 EC
    sta <$06     ; D1D9 85 06
    jsr menu.get_input_and_queue_SE ; D1DB 20 75 91
    and #$0F    ; D1DE 29 0F
    beq .L_D1FC   ; D1E0 F0 1A
    cmp #$04    ; D1E2 C9 04
    bcs .L_D1EA   ; D1E4 B0 04
    ldx #$04    ; D1E6 A2 04
    stx <$06     ; D1E8 86 06
.L_D1EA:
  and #$05    ; D1EA 29 05
    bne .L_D1FD   ; D1EC D0 0F
    lda $79F0   ; D1EE AD F0 79
    sec             ; D1F1 38
    sbc <$06     ; D1F2 E5 06
    bcs .L_D1F9   ; D1F4 B0 03
    adc $79F1   ; D1F6 6D F1 79
.L_D1F9:
  sta $79F0   ; D1F9 8D F0 79
.L_D1FC:
  rts             ; D1FC 60
; ----------------------------------------------------------------------------
.L_D1FD:
  lda $79F0   ; D1FD AD F0 79
    clc             ; D200 18
    adc <$06     ; D201 65 06
    cmp $79F1   ; D203 CD F1 79
    bcc .L_D1F9   ; D206 90 F1
    sbc $79F1   ; D208 ED F1 79
    bcs .L_D1F9   ; D20B B0 EC
; bank $3e
field.queue_SE_of_valid_action:
    sta <$05     ; D20D 85 05
    sta <$06     ; D20F 85 06
    .byte   <$20     ; D211 20
    .byte   <$75     ; D212 75
; bank $3e
field.queue_SE_of_move_of_cursor:
    sta [$29],y ; D213 91 29
    bbr0    $F0,.L_D240                   ; D215 0F F0 28
    .byte   <$C9     ; D218 C9
; bank $3e
floor.getInputOrFireObjectEvent:
    tsb <$B0     ; D219 04 B0
    tsb <$A2     ; D21B 04 A2
    tsb <$86     ; D21D 04 86
    asl <$29     ; D21F 06 29
    ora <$D0     ; D221 05 D0
    ora .L_F0AD,x ; D223 1D AD F0
    ply             ; D226 7A
    sec             ; D227 38
    sbc <$06     ; D228 E5 06
    bcs .L_D23D   ; D22A B0 11
    adc <$05     ; D22C 65 05
    sta <$05     ; D22E 85 05
    jsr menu.items.load_render_params   ; D230 20 75 90
    jsr field.scrollup_item_window  ; D233 20 69 EB
    bcs .L_D25A   ; D236 B0 22
    jsr menu.items.save_render_params   ; D238 20 3D 90
    lda <$05     ; D23B A5 05
.L_D23D:
  sta $7AF0   ; D23D 8D F0 7A
.L_D240:
  rts             ; D240 60
; ----------------------------------------------------------------------------
    lda $7AF0   ; D241 AD F0 7A
    clc             ; D244 18
    adc <$06     ; D245 65 06
    bcs .L_D24E   ; D247 B0 05
    cmp $7AF1   ; D249 CD F1 7A
    bcc .L_D23D   ; D24C 90 EF
.L_D24E:
  sbc <$05     ; D24E E5 05
    sta <$05     ; D250 85 05
    jsr menu.items.load_render_params   ; D252 20 75 90
    jsr field.scrolldown_item_window    ; D255 20 2D EB
    bcc .L_D261   ; D258 90 07
.L_D25A:
  lda #$00    ; D25A A9 00
    sta <$47     ; D25C 85 47
    jmp menu.queue_SE_of_invalid_action ; D25E 4C 29 D5
; ----------------------------------------------------------------------------
.L_D261:
  jsr menu.items.save_render_params   ; D261 20 3D 90
    lda <$05     ; D264 A5 05
    cmp $7AF1   ; D266 CD F1 7A
    bcc .L_D23D   ; D269 90 D2
    lda $7AF1   ; D26B AD F1 7A
    sec             ; D26E 38
    sbc #$04    ; D26F E9 04
    jmp .L_923D   ; D271 4C 3D 92
; ----------------------------------------------------------------------------
    lda $6102   ; D274 AD 02 61
    and $6142   ; D277 2D 42 61
; bank $3e
field.getAndMaskInput:
    and $6182   ; D27A 2D 82 61
    and $61C2   ; D27D 2D C2 61
    tax             ; D280 AA
; bank $3e
field.get_input:
    and #$20    ; D281 29 20
    asl a       ; D283 0A
    sta <$80     ; D284 85 80
    txa             ; D286 8A
    and #$08    ; D287 29 08
    asl a       ; D289 0A
    asl a       ; D28A 0A
    asl a       ; D28B 0A
    asl a       ; D28C 0A
    ora <$80     ; D28D 05 80
    sta <$80     ; D28F 85 80
    lda $602E   ; D291 AD 2E 60
    and #$3F    ; D294 29 3F
    ora <$80     ; D296 05 80
    .byte   <$8D     ; D298 8D
    .byte   <$2E     ; D299 2E
; bank $3e
field_maskInput:
    rts             ; D29A 60
; ----------------------------------------------------------------------------
    lda $6021   ; D29B AD 21 60
    and #$7F    ; D29E 29 7F
    sta $6021   ; D2A0 8D 21 60
    lda $602F   ; D2A3 AD 2F 60
    and #$C3    ; D2A6 29 C3
    sta $602F   ; D2A8 8D 2F 60
    lda <$42     ; D2AB A5 42
    cmp #$01    ; D2AD C9 01
    bne .L_D2BA   ; D2AF D0 09
    lda $6021   ; D2B1 AD 21 60
    ora #$80    ; D2B4 09 80
    sta $6021   ; D2B6 8D 21 60
.L_D2B9:
  rts             ; D2B9 60
; ----------------------------------------------------------------------------
.L_D2BA:
  cmp #$05    ; D2BA C9 05
    bne .L_D2C7   ; D2BC D0 09
    lda $602F   ; D2BE AD 2F 60
    ora #$04    ; D2C1 09 04
    sta $602F   ; D2C3 8D 2F 60
    rts             ; D2C6 60
; ----------------------------------------------------------------------------
.L_D2C7:
  cmp #$04    ; D2C7 C9 04
    bne .L_D2D4   ; D2C9 D0 09
    lda $602F   ; D2CB AD 2F 60
    ora #$08    ; D2CE 09 08
    sta $602F   ; D2D0 8D 2F 60
    rts             ; D2D3 60
; ----------------------------------------------------------------------------
.L_D2D4:
  cmp #$06    ; D2D4 C9 06
    bne .L_D2E1   ; D2D6 D0 09
    lda $602F   ; D2D8 AD 2F 60
    ora #$10    ; D2DB 09 10
    sta $602F   ; D2DD 8D 2F 60
    rts             ; D2E0 60
; ----------------------------------------------------------------------------
.L_D2E1:
  cmp #$07    ; D2E1 C9 07
    bne .L_D2B9   ; D2E3 D0 D4
    lda $602F   ; D2E5 AD 2F 60
    ora #$20    ; D2E8 09 20
    sta $602F   ; D2EA 8D 2F 60
    rts             ; D2ED 60
; ----------------------------------------------------------------------------
    ldx #$01    ; D2EE A2 01
    jmp .L_931B   ; D2F0 4C 1B 93
; ----------------------------------------------------------------------------
    ldx #$00    ; D2F3 A2 00
    lda $7B00,x ; D2F5 BD 00 7B
    cmp #$FF    ; D2F8 C9 FF
    beq .L_D309   ; D2FA F0 0D
.L_D2FC:
  inx             ; D2FC E8
    lda $7B00,x ; D2FD BD 00 7B
    cmp #$FF    ; D300 C9 FF
    bne .L_D2FC   ; D302 D0 F8
    inx             ; D304 E8
    inx             ; D305 E8
    .byte   <$4C     ; D306 4C
    .byte   <$F5     ; D307 F5
.L_D308:
  .byte   <$92     ; D308 92
.L_D309:
  inx             ; D309 E8
    inx             ; D30A E8
    ldy #$00    ; D30B A0 00
.L_D30D:
  lda $7B00,x ; D30D BD 00 7B
    sta $0740,y ; D310 99 40 07
    inx             ; D313 E8
    iny             ; D314 C8
    cpy #$20    ; D315 C0 20
    bcc .L_D30D   ; D317 90 F4
    ldx #$00    ; D319 A2 00
.L_D31B:
  lda $7B00,x ; D31B BD 00 7B
    cmp #$FF    ; D31E C9 FF
    bne .L_D328   ; D320 D0 06
    lda $7B01,x ; D322 BD 01 7B
    sta <$6C     ; D325 85 6C
    rts             ; D327 60
; ----------------------------------------------------------------------------
.L_D328:
  bpl .L_D332   ; D328 10 08
    inx             ; D32A E8
    jsr getEventFlag                ; D32B 20 44 93
    bne .L_D31B   ; D32E D0 EB
    beq .L_D338   ; D330 F0 06
.L_D332:
  inx             ; D332 E8
    jsr getEventFlag                ; D333 20 44 93
; bank $3e
field.clear_all_sprites:
    beq .L_D31B   ; D336 F0 E3
.L_D338:
  lda $7B00,x ; D338 BD 00 7B
    inx             ; D33B E8
    cmp #$FF    ; D33C C9 FF
    bne .L_D338   ; D33E D0 F8
    inx             ; D340 E8
    jmp .L_931B   ; D341 4C 1B 93
; ----------------------------------------------------------------------------
    and #$7F    ; D344 29 7F
    pha             ; D346 48
    and #$07    ; D347 29 07
    tay             ; D349 A8
    lda $935A,y ; D34A B9 5A 93
    sta <$80     ; D34D 85 80
    pla             ; D34F 68
    lsr a       ; D350 4A
    lsr a       ; D351 4A
    lsr a       ; D352 4A
    tay             ; D353 A8
    lda $6020,y ; D354 B9 20 60
    and <$80     ; D357 25 80
    rts             ; D359 60
; ----------------------------------------------------------------------------
    ora ($02,x) ; D35A 01 02
    tsb <$08     ; D35C 04 08
    bpl .L_D380   ; D35E 10 20
    rti             ; D360 40
; ----------------------------------------------------------------------------
    bra .L_D383   ; D361 80 20
    ror $9093,x ; D363 7E 93 90
    ora ($60,x) ; D366 01 60
    lda <$80     ; D368 A5 80
    sta $60C0,x ; D36A 9D C0 60
    lda $60E0,x ; D36D BD E0 60
    clc             ; D370 18
    adc <$81     ; D371 65 81
    cmp #$63    ; D373 C9 63
    bcc .L_D379   ; D375 90 02
    lda #$63    ; D377 A9 63
.L_D379:
  sta $60E0,x ; D379 9D E0 60
    clc             ; D37C 18
    rts             ; D37D 60
; ----------------------------------------------------------------------------
    ldx #$00    ; D37E A2 00
.L_D380:
  .byte   <$BD     ; D380 BD
; bank $3e
field.upload_palette:
    cpy #$60    ; D381 C0 60
.L_D383:
  cmp <$80     ; D383 C5 80
    beq .L_D399   ; D385 F0 12
    inx             ; D387 E8
    cpx #$20    ; D388 E0 20
    bcc .L_D380   ; D38A 90 F4
    ldx #$00    ; D38C A2 00
.L_D38E:
  lda $60C0,x ; D38E BD C0 60
    beq .L_D399   ; D391 F0 06
    inx             ; D393 E8
    cpx #$20    ; D394 E0 20
    bcc .L_D38E   ; D396 90 F6
    rts             ; D398 60
; ----------------------------------------------------------------------------
.L_D399:
  clc             ; D399 18
    rts             ; D39A 60
; ----------------------------------------------------------------------------
    lda $6011   ; D39B AD 11 60
    and #$7F    ; D39E 29 7F
    sta $6011   ; D3A0 8D 11 60
    lda #$8E    ; D3A3 A9 8E
    sta $7F49   ; D3A5 8D 49 7F
    jsr field.init_sprites_cache    ; D3A8 20 86 C4
    jsr thunk_await_nmi_by_set_handler  ; D3AB 20 00 FF
    lda #$02    ; D3AE A9 02
    sta $4014   ; D3B0 8D 14 40
    lda #$00    ; D3B3 A9 00
    sta <$65     ; D3B5 85 65
.L_D3B7:
  lda #$00    ; D3B7 A9 00
    sta <$64     ; D3B9 85 64
.L_D3BB:
  jsr .L_93EE   ; D3BB 20 EE 93
    inc <$64     ; D3BE E6 64
    lda <$64     ; D3C0 A5 64
    and #$0F    ; D3C2 29 0F
    bne .L_D3BB   ; D3C4 D0 F5
    inc <$65     ; D3C6 E6 65
    lda <$65     ; D3C8 A5 65
    cmp #$08    ; D3CA C9 08
    bne .L_D3B7   ; D3CC D0 E9
    lda #$00    ; D3CE A9 00
    jsr call_switch2ndBank          ; D3D0 20 09 FF
    ldx #$0F    ; D3D3 A2 0F
.L_D3D5:
  lda $B650,x ; D3D5 BD 50 B6
    sta $03C0,x ; D3D8 9D C0 03
    dex             ; D3DB CA
    bpl .L_D3D5   ; D3DC 10 F7
    jsr thunk_await_nmi_by_set_handler  ; D3DE 20 00 FF
    jsr .L_D308   ; D3E1 20 08 D3
    jsr field_setScroll             ; D3E4 20 98 C3
    lda #$3C    ; D3E7 A9 3C
    sta <$57     ; D3E9 85 57
    jmp field.call_sound_driver_and_restore_banks; D3EB 4C 58 C7
; ----------------------------------------------------------------------------
    lda <$64     ; D3EE A5 64
    cmp #$08    ; D3F0 C9 08
    bcc .L_D3F7   ; D3F2 90 03
    clc             ; D3F4 18
    adc #$08    ; D3F5 69 08
.L_D3F7:
  sta <$63     ; D3F7 85 63
.L_D3F9:
  jsr .L_9406   ; D3F9 20 06 94
    lda <$63     ; D3FC A5 63
    clc             ; D3FE 18
    adc #$40    ; D3FF 69 40
    sta <$63     ; D401 85 63
    bcc .L_D3F9   ; D403 90 F4
    rts             ; D405 60
; ----------------------------------------------------------------------------
    lda <$63     ; D406 A5 63
    sta <$61     ; D408 85 61
    lda #$00    ; D40A A9 00
    sta <$8C     ; D40C 85 8C
    jsr .L_947B   ; D40E 20 7B 94
    lda <$63     ; D411 A5 63
    clc             ; D413 18
    adc #$08    ; D414 69 08
    sta <$61     ; D416 85 61
    jsr .L_947B   ; D418 20 7B 94
    lda <$63     ; D41B A5 63
    and #$C0    ; D41D 29 C0
    lsr a       ; D41F 4A
    lsr a       ; D420 4A
    lsr a       ; D421 4A
    lsr a       ; D422 4A
    sta <$8F     ; D423 85 8F
    lda <$63     ; D425 A5 63
    and #$17    ; D427 29 17
    sta <$8E     ; D429 85 8E
    jsr thunk_await_nmi_by_set_handler  ; D42B 20 00 FF
    jsr .L_943E   ; D42E 20 3E 94
    jsr .L_D308   ; D431 20 08 D3
    jsr field_setScroll             ; D434 20 98 C3
    lda #$3C    ; D437 A9 3C
    sta <$57     ; D439 85 57
    jmp field.call_sound_driver_and_restore_banks; D43B 4C 58 C7
; ----------------------------------------------------------------------------
    lda #$04    ; D43E A9 04
    sta $2000   ; D440 8D 00 20
    bit $2002   ; D443 2C 02 20
    lda <$8F     ; D446 A5 8F
    sta $2006   ; D448 8D 06 20
    lda <$8E     ; D44B A5 8E
    sta $2006   ; D44D 8D 06 20
    ldx #$00    ; D450 A2 00
.L_D452:
  lda $0780,x ; D452 BD 80 07
    sta $2007   ; D455 8D 07 20
    inx             ; D458 E8
    cpx #$20    ; D459 E0 20
    bcc .L_D452   ; D45B 90 F5
    lda <$8F     ; D45D A5 8F
    sta $2006   ; D45F 8D 06 20
    lda <$8E     ; D462 A5 8E
    clc             ; D464 18
    adc #$08    ; D465 69 08
    sta $2006   ; D467 8D 06 20
.L_D46A:
  lda $0780,x ; D46A BD 80 07
    sta $2007   ; D46D 8D 07 20
    inx             ; D470 E8
    cpx #$40    ; D471 E0 40
    bcc .L_D46A   ; D473 90 F5
    lda <$FD     ; D475 A5 FD
    sta $2000   ; D477 8D 00 20
    rts             ; D47A 60
; ----------------------------------------------------------------------------
    lda <$65     ; D47B A5 65
    asl a       ; D47D 0A
    asl a       ; D47E 0A
    asl a       ; D47F 0A
    sta <$8A     ; D480 85 8A
    lda #$20    ; D482 A9 20
    sta <$89     ; D484 85 89
    lda <$61     ; D486 A5 61
    and #$C0    ; D488 29 C0
    sta <$88     ; D48A 85 88
.L_D48C:
  jsr .L_949B   ; D48C 20 9B 94
    lda <$88     ; D48F A5 88
    clc             ; D491 18
    adc #$02    ; D492 69 02
    sta <$88     ; D494 85 88
    dec <$89     ; D496 C6 89
    bne .L_D48C   ; D498 D0 F2
    rts             ; D49A 60
; ----------------------------------------------------------------------------
    lda #$0A    ; D49B A9 0A
    sta <$82     ; D49D 85 82
    lda <$88     ; D49F A5 88
    lsr a       ; D4A1 4A
    lsr a       ; D4A2 4A
    lsr a       ; D4A3 4A
    lsr a       ; D4A4 4A
    cmp #$08    ; D4A5 C9 08
    bcs .L_D4AD   ; D4A7 B0 04
    adc #$AC    ; D4A9 69 AC
    bne .L_D4BB   ; D4AB D0 0E
.L_D4AD:
  cmp #$0C    ; D4AD C9 0C
    bcs .L_D4B5   ; D4AF B0 04
    adc #$B4    ; D4B1 69 B4
    bne .L_D4BB   ; D4B3 D0 06
.L_D4B5:
  inc <$82     ; D4B5 E6 82
    and #$03    ; D4B7 29 03
    ora #$A0    ; D4B9 09 A0
.L_D4BB:
  sta <$81     ; D4BB 85 81
    lda <$88     ; D4BD A5 88
    asl a       ; D4BF 0A
    asl a       ; D4C0 0A
    asl a       ; D4C1 0A
    asl a       ; D4C2 0A
    sta <$80     ; D4C3 85 80
    lda <$61     ; D4C5 A5 61
    and #$1F    ; D4C7 29 1F
    tay             ; D4C9 A8
    and #$07    ; D4CA 29 07
    ora <$8A     ; D4CC 05 8A
    tax             ; D4CE AA
    lda $952F,x ; D4CF BD 2F 95
    sta <$83     ; D4D2 85 83
    eor #$FF    ; D4D4 49 FF
    sta <$84     ; D4D6 85 84
    tya             ; D4D8 98
    ora <$80     ; D4D9 05 80
    and #$3F    ; D4DB 29 3F
    eor #$20    ; D4DD 49 20
    tax             ; D4DF AA
    lda #$0A    ; D4E0 A9 0A
    jsr call_switch2ndBank          ; D4E2 20 09 FF
    lda $AE20,x ; D4E5 BD 20 AE
    and <$84     ; D4E8 25 84
    sta <$84     ; D4EA 85 84
    lda <$82     ; D4EC A5 82
    jsr call_switch2ndBank          ; D4EE 20 09 FF
    lda [$80],y ; D4F1 B1 80
    and <$83     ; D4F3 25 83
    ora <$84     ; D4F5 05 84
    ldx <$8C     ; D4F7 A6 8C
    inc <$8C     ; D4F9 E6 8C
    sta $0780,x ; D4FB 9D 80 07
    rts             ; D4FE 60
; ----------------------------------------------------------------------------
    lda #$0A    ; D4FF A9 0A
    jsr call_switch2ndBank          ; D501 20 09 FF
    bit $2002   ; D504 2C 02 20
    lda #$00    ; D507 A9 00
    sta $2006   ; D509 8D 06 20
    sta $2006   ; D50C 8D 06 20
    ldy #$40    ; D50F A0 40
.L_D511:
  ldx #$00    ; D511 A2 00
.L_D513:
  lda $AE40,x ; D513 BD 40 AE
    sta $2007   ; D516 8D 07 20
    inx             ; D519 E8
    cpx #$20    ; D51A E0 20
    bcc .L_D513   ; D51C 90 F5
    ldx #$00    ; D51E A2 00
.L_D520:
  lda $AE20,x ; D520 BD 20 AE
    sta $2007   ; D523 8D 07 20
    inx             ; D526 E8
    cpx #$20    ; D527 E0 20
; bank $3e
menu.queue_SE_of_invalid_action:
    bcc .L_D520   ; D529 90 F5
    dey             ; D52B 88
    bne .L_D511   ; D52C D0 E3
    rts             ; D52E 60
; ----------------------------------------------------------------------------
    rti             ; D52F 40
; ----------------------------------------------------------------------------
    tsb <$80     ; D530 04 80
    bpl .L_D535   ; D532 10 01
    .byte   <$20     ; D534 20
.L_D535:
  tsb <$80     ; D535 04 80
    eor ($14,x) ; D537 41 14
    .byte   <$82     ; D539 82
    bvc .L_D541   ; D53A 50 05
.L_D53C:
  ldy #$05    ; D53C A0 05
    bcc .L_D589   ; D53E 90 49
    .byte   <$34     ; D540 34
.L_D541:
  txa             ; D541 8A
    eor [$85],y ; D542 51 85
    ldx #$45    ; D544 A2 45
    sta ($69)   ; D546 92 69
    ldy <$AA,x   ; D548 B4 AA
    eor <$A5,x   ; D54A 55 A5
    tax             ; D54C AA
    eor <$D2,x   ; D54D 55 D2
    adc $ABBC   ; D54F 6D BC AB
    adc <$AD,x   ; D552 75 AD
    tsx             ; D554 BA
    rmb5    <$F2     ; D555 57
    sbc ($7D)   ; D556 F2 7D
    lda $7DEB,x ; D558 BD EB 7D
    bbs2    $FA,.L_D5D5                   ; D55B AF FA 77
    inc <$7F,x   ; D55E F6 7F
    sbc .L_F0EF,x ; D560 FD EF F0
    bbs3    $FB,.L_D5E5                   ; D563 BF FB 7F
    smb7    <$FF     ; D566 F7
    .byte   <$FF     ; D567 FF
    .byte   <$FF     ; D568 FF
.L_D569:
  bbs7    $FF,$FF ; D569 FF FF FF
.L_D56C:
  bbs7    $FF,$FF ; D56C FF FF FF
    jsr thunk_await_nmi_by_set_handler  ; D56F 20 00 FF
    bit $2002   ; D572 2C 02 20
    .byte   <$A9     ; D575 A9
.L_D576:
  .byte   <$23     ; D576 23
    sta $2006   ; D577 8D 06 20
    lda #$C0    ; D57A A9 C0
    sta $2006   ; D57C 8D 06 20
    lda #$FF    ; D57F A9 FF
    ldx #$40    ; D581 A2 40
.L_D583:
  sta $2007   ; D583 8D 07 20
    dex             ; D586 CA
    bne .L_D583   ; D587 D0 FA
.L_D589:
  jmp menu.init_ppu               ; D589 4C 9F 95
; ----------------------------------------------------------------------------
    lda #$DD    ; D58C A9 DD
    .byte   <$8D     ; D58E 8D
    .byte   <$49     ; D58F 49
.L_D590:
  bbr7    $60,.L_D53C                   ; D590 7F 60 A9
    brk             ; D593 00
    sta <$24     ; D594 85 24
    sta <$25     ; D596 85 25
    rts             ; D598 60
; ----------------------------------------------------------------------------
    jsr thunk_await_nmi_by_set_handler  ; D599 20 00 FF
    jsr .L_95B2   ; D59C 20 B2 95
    lda <$FF     ; D59F A5 FF
    sta $2000   ; D5A1 8D 00 20
    lda #$1E    ; D5A4 A9 1E
    sta $2001   ; D5A6 8D 01 20
    lda #$00    ; D5A9 A9 00
    sta $2005   ; D5AB 8D 05 20
    sta $2005   ; D5AE 8D 05 20
    rts             ; D5B1 60
; ----------------------------------------------------------------------------
    ldx #$00    ; D5B2 A2 00
    ldy #$CA    ; D5B4 A0 CA
    lda $6102   ; D5B6 AD 02 61
    jsr .L_95D7   ; D5B9 20 D7 95
    ldx #$04    ; D5BC A2 04
    ldy #$D2    ; D5BE A0 D2
    lda $6142   ; D5C0 AD 42 61
    jsr .L_95D7   ; D5C3 20 D7 95
    ldx #$08    ; D5C6 A2 08
    ldy #$E2    ; D5C8 A0 E2
    lda $6182   ; D5CA AD 82 61
    jsr .L_95D7   ; D5CD 20 D7 95
    ldx #$0C    ; D5D0 A2 0C
    ldy #$EA    ; D5D2 A0 EA
    .byte   <$AD     ; D5D4 AD
.L_D5D5:
  .byte   <$C2     ; D5D5 C2
    adc ($48,x) ; D5D6 61 48
    lda $2002   ; D5D8 AD 02 20
    lda #$23    ; D5DB A9 23
    sta $2006   ; D5DD 8D 06 20
    sty $2006   ; D5E0 8C 06 20
    ldy #$04    ; D5E3 A0 04
.L_D5E5:
  pla             ; D5E5 68
    and #$FE    ; D5E6 29 FE
    beq .L_D5F4   ; D5E8 F0 0A
    .byte   <$29     ; D5EA 29
.L_D5EB:
  cpy #$C9    ; D5EB C0 C9
    ora ($A9,x) ; D5ED 01 A9
    tax             ; D5EF AA
    bcs .L_D5F4   ; D5F0 B0 02
    lda #$55    ; D5F2 A9 55
.L_D5F4:
  sta <$80     ; D5F4 85 80
.L_D5F6:
  lda $960C,x ; D5F6 BD 0C 96
    eor #$FF    ; D5F9 49 FF
    sta <$81     ; D5FB 85 81
    lda $960C,x ; D5FD BD 0C 96
    and <$80     ; D600 25 80
.L_D602:
  ora <$81     ; D602 05 81
    sta $2007   ; D604 8D 07 20
    inx             ; D607 E8
    dey             ; D608 88
    .byte   <$D0     ; D609 D0
.L_D60A:
  .byte   <$EB     ; D60A EB
    rts             ; D60B 60
; ----------------------------------------------------------------------------
    bbr0    $0F,.L_D61E                   ; D60C 0F 0F 0F
    .byte   <$03     ; D60F 03
    beq .L_D602   ; D610 F0 F0
    beq .L_D644   ; D612 F0 30
    bbr0    $0F,.L_D626                   ; D614 0F 0F 0F
    .byte   <$03     ; D617 03
    beq .L_D60A   ; D618 F0 F0
    beq .L_D64C   ; D61A F0 30
.L_D61C:
  .byte   <$20     ; D61C 20
    .byte   <$74     ; D61D 74
.L_D61E:
  bbs0    $A9,.L_D635                   ; D61E 8F A9 14
    sta $78F0   ; D621 8D F0 78
    lda <$7F     ; D624 A5 7F
.L_D626:
  ora #$0F    ; D626 09 0F
    tax             ; D628 AA
    jsr .L_D10B   ; D629 20 0B D1
    jmp menu.main.erase             ; D62C 4C 85 A6
; ----------------------------------------------------------------------------
    jsr .L_96BA   ; D62F 20 BA 96
    jsr menu.init_input_states      ; D632 20 92 95
.L_D635:
  jsr menu.main.erase             ; D635 20 85 A6
    jsr menu.upload_default_bg_attrs    ; D638 20 6F 95
    jsr menu.jobs.get_change_costs  ; D63B 20 85 AD
    lda #$00    ; D63E A9 00
    sta $78F0   ; D640 8D F0 78
    .byte   <$85     ; D643 85
.L_D644:
  .byte   <$A3     ; D644 A3
    ldx #$0C    ; D645 A2 0C
    jsr menu.draw_window_box        ; D647 20 F1 AA
    lda #$48    ; D64A A9 48
.L_D64C:
  jsr menu.draw_view_of_buffered_string; D64C 20 7A A8
    ldx #$0D    ; D64F A2 0D
    jsr menu.draw_window_box        ; D651 20 F1 AA
    lda #$49    ; D654 A9 49
    jsr menu.draw_window_content    ; D656 20 78 A6
    ldx #$0E    ; D659 A2 0E
    jsr menu.draw_window_box        ; D65B 20 F1 AA
.L_D65E:
  ldx #$0E    ; D65E A2 0E
    jsr menu.get_window_content_metrics ; D660 20 A6 AA
    lda #$4A    ; D663 A9 4A
    jsr menu.draw_view_of_buffered_string; D665 20 7A A8
.L_D668:
  lda #$01    ; D668 A9 01
    sta <$A2     ; D66A 85 A2
    jsr menu.render_cursor          ; D66C 20 CD A7
    lda #$08    ; D66F A9 08
    jsr menu.window1.get_input_and_update_cursor; D671 20 A3 91
    jsr .L_9698   ; D674 20 98 96
    lda <$25     ; D677 A5 25
    bne .L_D61C   ; D679 D0 A1
    lda <$24     ; D67B A5 24
    beq .L_D668   ; D67D F0 E9
    jsr menu.accept_input_action    ; D67F 20 74 8F
    jsr .L_96A5   ; D682 20 A5 96
    bcc .L_D65E   ; D685 90 D7
    lda #$70    ; D687 A9 70
    jsr .L_96DA   ; D689 20 DA 96
    lda <$20     ; D68C A5 20
    and #$80    ; D68E 29 80
    beq .L_D65E   ; D690 F0 CC
    jsr .L_AB8F   ; D692 20 8F AB
    jmp .L_961C   ; D695 4C 1C 96
; ----------------------------------------------------------------------------
    lda #$B0    ; D698 A9 B0
    sta <$40     ; D69A 85 40
    lda #$10    ; D69C A9 10
    sta <$41     ; D69E 85 41
    ldx <$7F     ; D6A0 A6 7F
    jmp .L_8136   ; D6A2 4C 36 81
; ----------------------------------------------------------------------------
    lda $78F0   ; D6A5 AD F0 78
    lsr a       ; D6A8 4A
    lsr a       ; D6A9 4A
    sta <$8F     ; D6AA 85 8F
    ldx <$7F     ; D6AC A6 7F
    lda $6100,x ; D6AE BD 00 61
    cmp <$8F     ; D6B1 C5 8F
    bne .L_D6D0   ; D6B3 D0 1B
    jsr menu.queue_SE_of_invalid_action ; D6B5 20 29 D5
    clc             ; D6B8 18
    rts             ; D6B9 60
; ----------------------------------------------------------------------------
    ldx <$7F     ; D6BA A6 7F
    lda $6100,x ; D6BC BD 00 61
    asl a       ; D6BF 0A
    ora <$7F     ; D6C0 05 7F
    tay             ; D6C2 A8
    lda $6111,x ; D6C3 BD 11 61
    sta $6211,y ; D6C6 99 11 62
    lda $6110,x ; D6C9 BD 10 61
    sta $6210,y ; D6CC 99 10 62
    rts             ; D6CF 60
; ----------------------------------------------------------------------------
.L_D6D0:
  jsr .L_AE23   ; D6D0 20 23 AE
    bcs .L_D6D9   ; D6D3 B0 04
    jsr .L_96DA   ; D6D5 20 DA 96
    clc             ; D6D8 18
.L_D6D9:
  rts             ; D6D9 60
; ----------------------------------------------------------------------------
    pha             ; D6DA 48
    lda #$00    ; D6DB A9 00
    sta <$A2     ; D6DD 85 A2
    jsr menu.render_cursor          ; D6DF 20 CD A7
    jsr .L_9698   ; D6E2 20 98 96
    jsr menu.render_cursor          ; D6E5 20 CD A7
    ldx #$20    ; D6E8 A2 20
    jsr menu.draw_window_box        ; D6EA 20 F1 AA
    pla             ; D6ED 68
    jsr menu.stream_window_content  ; D6EE 20 6B A6
    jsr .L_A305   ; D6F1 20 05 A3
    rts             ; D6F4 60
; ----------------------------------------------------------------------------
    jsr .L_A715   ; D6F5 20 15 A7
    bcc .L_D6FB   ; D6F8 90 01
    rts             ; D6FA 60
; ----------------------------------------------------------------------------
.L_D6FB:
  ldx <$7F     ; D6FB A6 7F
    cpx <$0A     ; D6FD E4 0A
    bne .L_D704   ; D6FF D0 03
.L_D701:
  jmp menu.queue_SE_of_invalid_action ; D701 4C 29 D5
; ----------------------------------------------------------------------------
.L_D704:
  lda $6102,x ; D704 BD 02 61
    and #$C0    ; D707 29 C0
    bne .L_D701   ; D709 D0 F6
    lda <$7F     ; D70B A5 7F
    pha             ; D70D 48
    jsr .L_A356   ; D70E 20 56 A3
    jsr .L_A1C9   ; D711 20 C9 A1
    pla             ; D714 68
    tay             ; D715 A8
    ldx <$7F     ; D716 A6 7F
    lda #$08    ; D718 A9 08
    sta <$80     ; D71A 85 80
.L_D71C:
  lda $6207,x ; D71C BD 07 62
    pha             ; D71F 48
    lda $6207,y ; D720 B9 07 62
    sta $6207,x ; D723 9D 07 62
    pla             ; D726 68
    sta $6207,y ; D727 99 07 62
    inx             ; D72A E8
    iny             ; D72B C8
    dec <$80     ; D72C C6 80
    bne .L_D71C   ; D72E D0 EC
    jsr .L_A2B4   ; D730 20 B4 A2
    jsr .L_D198   ; D733 20 98 D1
    rts             ; D736 60
; ----------------------------------------------------------------------------
    pha             ; D737 48
    ldy #$3F    ; D738 A0 3F
.L_D73A:
  lda $7B00,y ; D73A B9 00 7B
    sta $7BC0,y ; D73D 99 C0 7B
    dey             ; D740 88
    bpl .L_D73A   ; D741 10 F7
    pla             ; D743 68
    jsr .L_A875   ; D744 20 75 A8
    ldx #$3F    ; D747 A2 3F
.L_D749:
  lda $7BC0,x ; D749 BD C0 7B
    sta $7B00,x ; D74C 9D 00 7B
    dex             ; D74F CA
    bpl .L_D749   ; D750 10 F7
    rts             ; D752 60
; ----------------------------------------------------------------------------
    jsr menu.accept_input_action    ; D753 20 74 8F
    lda #$04    ; D756 A9 04
    sta $78F0   ; D758 8D F0 78
    jsr .L_A1C9   ; D75B 20 C9 A1
    jmp menu.main.erase             ; D75E 4C 85 A6
; ----------------------------------------------------------------------------
    jsr menu.init_input_states      ; D761 20 92 95
    jsr menu.main.erase             ; D764 20 85 A6
    jsr menu.upload_default_bg_attrs    ; D767 20 6F 95
    jsr .L_A349   ; D76A 20 49 A3
    lda #$00    ; D76D A9 00
    sta $78F0   ; D76F 8D F0 78
    jsr .L_A2B4   ; D772 20 B4 A2
    jsr .L_D198   ; D775 20 98 D1
    jsr menu.pc_select.draw_window  ; D778 20 28 A3
    ldx #$06    ; D77B A2 06
    jsr menu.draw_window_box        ; D77D 20 F1 AA
    lda #$3C    ; D780 A9 3C
    jsr menu.draw_view_of_buffered_string; D782 20 7A A8
    jsr .L_A356   ; D785 20 56 A3
    ldx #$24    ; D788 A2 24
    lda #$36    ; D78A A9 36
    jsr .L_9737   ; D78C 20 37 97
    ldx #$06    ; D78F A2 06
    jsr menu.get_window_content_metrics ; D791 20 A6 AA
    lda #$3C    ; D794 A9 3C
    jsr menu.draw_view_of_buffered_string; D796 20 7A A8
.L_D799:
  jsr menu.init_input_states      ; D799 20 92 95
.L_D79C:
  lda #$00    ; D79C A9 00
    sta <$A3     ; D79E 85 A3
    lda #$01    ; D7A0 A9 01
    sta <$A2     ; D7A2 85 A2
    jsr menu.render_cursor          ; D7A4 20 CD A7
    lda #$04    ; D7A7 A9 04
    jsr menu.window1.get_input_and_update_cursor; D7A9 20 A3 91
    lda #$03    ; D7AC A9 03
    jsr menu.party_summary.put_pc_sprites; D7AE 20 00 80
    lda <$25     ; D7B1 A5 25
    beq .L_D7B8   ; D7B3 F0 03
    jmp .L_9753   ; D7B5 4C 53 97
; ----------------------------------------------------------------------------
.L_D7B8:
  lda <$24     ; D7B8 A5 24
    beq .L_D79C   ; D7BA F0 E0
    jsr menu.accept_input_action    ; D7BC 20 74 8F
    lda #$01    ; D7BF A9 01
    sta <$A3     ; D7C1 85 A3
    lda #$00    ; D7C3 A9 00
    sta $79F0   ; D7C5 8D F0 79
    lda $78F0   ; D7C8 AD F0 78
    lsr a       ; D7CB 4A
    lsr a       ; D7CC 4A
    sta <$8E     ; D7CD 85 8E
    cmp #$01    ; D7CF C9 01
    bne .L_D7D9   ; D7D1 D0 06
    jsr .L_96F5   ; D7D3 20 F5 96
    jmp .L_9785   ; D7D6 4C 85 97
; ----------------------------------------------------------------------------
.L_D7D9:
  jsr menu.render_cursor          ; D7D9 20 CD A7
    lda #$0C    ; D7DC A9 0C
    jsr menu.window2.get_input_and_update_cursor; D7DE 20 D9 91
    lda #$03    ; D7E1 A9 03
    jsr menu.party_summary.put_pc_sprites; D7E3 20 00 80
    lda <$25     ; D7E6 A5 25
    bne .L_D799   ; D7E8 D0 AF
    lda <$24     ; D7EA A5 24
    beq .L_D7D9   ; D7EC F0 EB
    jsr menu.accept_input_action    ; D7EE 20 74 8F
    ldx $79F0   ; D7F1 AE F0 79
    lda $7903,x ; D7F4 BD 03 79
    sec             ; D7F7 38
    sbc #$08    ; D7F8 E9 08
    sta <$8F     ; D7FA 85 8F
    lda <$8E     ; D7FC A5 8E
    cmp #$03    ; D7FE C9 03
    bcc .L_D808   ; D800 90 06
    jsr .L_988F   ; D802 20 8F 98
    jmp .L_9785   ; D805 4C 85 97
; ----------------------------------------------------------------------------
.L_D808:
  cmp #$02    ; D808 C9 02
    bcc .L_D812   ; D80A 90 06
    jsr .L_9897   ; D80C 20 97 98
    jmp .L_9785   ; D80F 4C 85 97
; ----------------------------------------------------------------------------
.L_D812:
  ldx <$8F     ; D812 A6 8F
    lda $7C00,x ; D814 BD 00 7C
    bne .L_D81F   ; D817 D0 06
.L_D819:
  jsr menu.queue_SE_of_invalid_action ; D819 20 29 D5
    jmp .L_97D9   ; D81C 4C D9 97
; ----------------------------------------------------------------------------
.L_D81F:
  tax             ; D81F AA
    lda $7200,x ; D820 BD 00 72
    bne .L_D819   ; D823 D0 F4
    txa             ; D825 8A
    sec             ; D826 38
    sbc #$C8    ; D827 E9 C8
    tay             ; D829 A8
    lda $A244,y ; D82A B9 44 A2
    asl a       ; D82D 0A
    ora <$0A     ; D82E 05 0A
    tay             ; D830 A8
    lda $6130,y ; D831 B9 30 61
    beq .L_D819   ; D834 F0 E3
    cpx #$CC    ; D836 E0 CC
    beq .L_D875   ; D838 F0 3B
    cpx #$D2    ; D83A E0 D2
    beq .L_D875   ; D83C F0 37
    cpx #$D3    ; D83E E0 D3
    beq .L_D875   ; D840 F0 33
    cpx #$D8    ; D842 E0 D8
    beq .L_D875   ; D844 F0 2F
    cpx #$DA    ; D846 E0 DA
    beq .L_D875   ; D848 F0 2B
    cpx #$E0    ; D84A E0 E0
    beq .L_D875   ; D84C F0 27
    cpx #$E1    ; D84E E0 E1
    beq .L_D875   ; D850 F0 23
    cpx #$EE    ; D852 E0 EE
    beq .L_D875   ; D854 F0 1F
    cpx #$EF    ; D856 E0 EF
    beq .L_D875   ; D858 F0 1B
    cpx #$F6    ; D85A E0 F6
    beq .L_D884   ; D85C F0 26
    cpx #$F0    ; D85E E0 F0
    beq .L_D875   ; D860 F0 13
    cpx #$F7    ; D862 E0 F7
    beq .L_D875   ; D864 F0 0F
    cpx #$FC    ; D866 E0 FC
    beq .L_D875   ; D868 F0 0B
    cpx #$FD    ; D86A E0 FD
    beq .L_D875   ; D86C F0 07
    cpx #$FE    ; D86E E0 FE
    beq .L_D875   ; D870 F0 03
.L_D872:
  jmp .L_9819   ; D872 4C 19 98
; ----------------------------------------------------------------------------
.L_D875:
  ldx <$0A     ; D875 A6 0A
    lda $6102,x ; D877 BD 02 61
    and #$F0    ; D87A 29 F0
    bne .L_D872   ; D87C D0 F4
.L_D87E:
  jsr .L_98EC   ; D87E 20 EC 98
    jmp .L_9785   ; D881 4C 85 97
; ----------------------------------------------------------------------------
.L_D884:
  ldx <$0A     ; D884 A6 0A
    lda $6102,x ; D886 BD 02 61
    and #$D0    ; D889 29 D0
    bne .L_D872   ; D88B D0 E5
    beq .L_D87E   ; D88D F0 EF
    ldx <$8F     ; D88F A6 8F
    lda #$00    ; D891 A9 00
    sta $7C00,x ; D893 9D 00 7C
    rts             ; D896 60
; ----------------------------------------------------------------------------
    ldx <$8F     ; D897 A6 8F
    lda $7C00,x ; D899 BD 00 7C
    bne .L_D89F   ; D89C D0 01
    rts             ; D89E 60
; ----------------------------------------------------------------------------
.L_D89F:
  sta <$80     ; D89F 85 80
    lda #$01    ; D8A1 A9 01
    sta <$81     ; D8A3 85 81
    jsr .L_9362   ; D8A5 20 62 93
    bcc .L_D8AF   ; D8A8 90 05
    lda #$6B    ; D8AA A9 6B
    jmp .L_98BB   ; D8AC 4C BB 98
; ----------------------------------------------------------------------------
.L_D8AF:
  ldx <$8F     ; D8AF A6 8F
    lda #$00    ; D8B1 A9 00
    sta $7C00,x ; D8B3 9D 00 7C
    lda #$6E    ; D8B6 A9 6E
    jmp .L_98BB   ; D8B8 4C BB 98
; ----------------------------------------------------------------------------
    pha             ; D8BB 48
    ldx #$24    ; D8BC A2 24
    jsr menu.draw_window_box        ; D8BE 20 F1 AA
    pla             ; D8C1 68
    jsr menu.stream_window_content  ; D8C2 20 6B A6
    lda #$F8    ; D8C5 A9 F8
    ldx #$0F    ; D8C7 A2 0F
.L_D8C9:
  sta $0200,x ; D8C9 9D 00 02
    dex             ; D8CC CA
    bpl .L_D8C9   ; D8CD 10 FA
    jsr menu.render_cursor          ; D8CF 20 CD A7
    jmp .L_A305   ; D8D2 4C 05 A3
; ----------------------------------------------------------------------------
    pha             ; D8D5 48
    ldx #$24    ; D8D6 A2 24
    jsr menu.draw_window_box        ; D8D8 20 F1 AA
    pla             ; D8DB 68
    jsr menu.stream_window_content  ; D8DC 20 6B A6
    lda #$F8    ; D8DF A9 F8
    ldx #$0F    ; D8E1 A2 0F
.L_D8E3:
  sta $0200,x ; D8E3 9D 00 02
    dex             ; D8E6 CA
    bpl .L_D8E3   ; D8E7 10 FA
    jmp menu.render_cursor          ; D8E9 4C CD A7
; ----------------------------------------------------------------------------
    bit <$53     ; D8EC 24 53
    bpl .L_D8F5   ; D8EE 10 05
    lda #$79    ; D8F0 A9 79
    jmp .L_98BB   ; D8F2 4C BB 98
; ----------------------------------------------------------------------------
.L_D8F5:
  ldx <$8F     ; D8F5 A6 8F
    lda $7C00,x ; D8F7 BD 00 7C
    cmp #$EF    ; D8FA C9 EF
    bne .L_D92E   ; D8FC D0 30
    bit <$53     ; D8FE 24 53
    bvc .L_D907   ; D900 50 05
    lda #$78    ; D902 A9 78
    jmp .L_98BB   ; D904 4C BB 98
; ----------------------------------------------------------------------------
.L_D907:
  lda #$68    ; D907 A9 68
    jsr .L_98BB   ; D909 20 BB 98
    lda <$20     ; D90C A5 20
    and #$40    ; D90E 29 40
    bne .L_D92A   ; D910 D0 18
    jsr .L_9918   ; D912 20 18 99
    jmp .L_C0ED   ; D915 4C ED C0
; ----------------------------------------------------------------------------
    jsr field.queue_SE_of_healing   ; D918 20 8C 95
    jsr .L_9957   ; D91B 20 57 99
    jsr .L_A1C9   ; D91E 20 C9 A1
    jsr menu.main.erase             ; D921 20 85 A6
    lda #$00    ; D924 A9 00
    sta $2001   ; D926 8D 01 20
    rts             ; D929 60
; ----------------------------------------------------------------------------
.L_D92A:
  jsr menu.queue_SE_of_invalid_action ; D92A 20 29 D5
    rts             ; D92D 60
; ----------------------------------------------------------------------------
.L_D92E:
  cmp #$D8    ; D92E C9 D8
    bne .L_D948   ; D930 D0 16
    lda <$2D     ; D932 A5 2D
    lsr a       ; D934 4A
    bcc .L_D92A   ; D935 90 F3
    bit <$53     ; D937 24 53
    bvc .L_D940   ; D939 50 05
    lda #$78    ; D93B A9 78
    jmp .L_98BB   ; D93D 4C BB 98
; ----------------------------------------------------------------------------
.L_D940:
  lda #$67    ; D940 A9 67
    jsr .L_98D5   ; D942 20 D5 98
    jmp .L_9AD0   ; D945 4C D0 9A
; ----------------------------------------------------------------------------
.L_D948:
  cmp #$FE    ; D948 C9 FE
    bne .L_D971   ; D94A D0 25
    lda <$2D     ; D94C A5 2D
    lsr a       ; D94E 4A
    bcs .L_D92A   ; D94F B0 D9
    jsr .L_9957   ; D951 20 57 99
    jmp .L_A525   ; D954 4C 25 A5
; ----------------------------------------------------------------------------
    ldx <$8F     ; D957 A6 8F
    lda $7C00,x ; D959 BD 00 7C
    sec             ; D95C 38
    sbc #$C8    ; D95D E9 C8
    tay             ; D95F A8
    lda $A244,y ; D960 B9 44 A2
    asl a       ; D963 0A
    ora <$0A     ; D964 05 0A
    tax             ; D966 AA
    lda $6130,x ; D967 BD 30 61
    sec             ; D96A 38
    sbc #$01    ; D96B E9 01
    sta $6130,x ; D96D 9D 30 61
    rts             ; D970 60
; ----------------------------------------------------------------------------
.L_D971:
  ldx #$5E    ; D971 A2 5E
    cmp #$CC    ; D973 C9 CC
    beq .L_D9C5   ; D975 F0 4E
    ldx #$5C    ; D977 A2 5C
    cmp #$D2    ; D979 C9 D2
    beq .L_D9D4   ; D97B F0 57
    ldx #$66    ; D97D A2 66
    cmp #$D3    ; D97F C9 D3
    beq .L_D9C5   ; D981 F0 42
    ldx #$5F    ; D983 A2 5F
    cmp #$DA    ; D985 C9 DA
    beq .L_D9D4   ; D987 F0 4B
    ldx #$5C    ; D989 A2 5C
    cmp #$E0    ; D98B C9 E0
    beq .L_D9D4   ; D98D F0 45
    ldx #$5E    ; D98F A2 5E
    cmp #$E1    ; D991 C9 E1
    beq .L_D9D4   ; D993 F0 3F
    ldx #$5C    ; D995 A2 5C
    cmp #$EE    ; D997 C9 EE
    beq .L_D9D4   ; D999 F0 39
    ldx #$69    ; D99B A2 69
    cmp #$F6    ; D99D C9 F6
    beq .L_D9AD   ; D99F F0 0C
    ldx #$63    ; D9A1 A2 63
    cmp #$F0    ; D9A3 C9 F0
    beq .L_D9D4   ; D9A5 F0 2D
    ldx #$6A    ; D9A7 A2 6A
    cmp #$F7    ; D9A9 C9 F7
    bne .L_D9B8   ; D9AB D0 0B
.L_D9AD:
  lda <$53     ; D9AD A5 53
    and #$20    ; D9AF 29 20
    beq .L_D9D4   ; D9B1 F0 21
    lda #$77    ; D9B3 A9 77
    jmp .L_98BB   ; D9B5 4C BB 98
; ----------------------------------------------------------------------------
.L_D9B8:
  ldx #$5C    ; D9B8 A2 5C
    cmp #$FC    ; D9BA C9 FC
    beq .L_D9D4   ; D9BC F0 16
    ldx #$64    ; D9BE A2 64
    cmp #$FD    ; D9C0 C9 FD
    beq .L_D9D4   ; D9C2 F0 10
    rts             ; D9C4 60
; ----------------------------------------------------------------------------
.L_D9C5:
  txa             ; D9C5 8A
    jsr .L_98D5   ; D9C6 20 D5 98
    lda #$00    ; D9C9 A9 00
    sta <$A2     ; D9CB 85 A2
    jsr .L_A715   ; D9CD 20 15 A7
    bcs .L_D9E1   ; D9D0 B0 0F
    bcc .L_D9E2   ; D9D2 90 0E
.L_D9D4:
  txa             ; D9D4 8A
    jsr .L_98D5   ; D9D5 20 D5 98
    lda #$00    ; D9D8 A9 00
    sta <$A2     ; D9DA 85 A2
    jsr .L_A75F   ; D9DC 20 5F A7
    bcc .L_D9E2   ; D9DF 90 01
.L_D9E1:
  rts             ; D9E1 60
; ----------------------------------------------------------------------------
.L_D9E2:
  jsr field.queue_SE_of_healing   ; D9E2 20 8C 95
    jsr .L_99EB   ; D9E5 20 EB 99
    jmp menu.party_summary.draw_content ; D9E8 4C 32 A3
; ----------------------------------------------------------------------------
    lda $79F0   ; D9EB AD F0 79
    cmp #$10    ; D9EE C9 10
    lda #$01    ; D9F0 A9 01
    bcc .L_D9F6   ; D9F2 90 02
    lda #$04    ; D9F4 A9 04
.L_D9F6:
  sta <$8B     ; D9F6 85 8B
    ldx <$8F     ; D9F8 A6 8F
    lda $7C00,x ; D9FA BD 00 7C
    ldx <$7F     ; D9FD A6 7F
    cmp #$CC    ; D9FF C9 CC
    bne .L_DA06   ; DA01 D0 03
    jmp .L_9A56   ; DA03 4C 56 9A
; ----------------------------------------------------------------------------
.L_DA06:
  cmp #$D2    ; DA06 C9 D2
    bne .L_DA0D   ; DA08 D0 03
    jmp .L_9A65   ; DA0A 4C 65 9A
; ----------------------------------------------------------------------------
.L_DA0D:
  cmp #$D3    ; DA0D C9 D3
    bne .L_DA14   ; DA0F D0 03
    jmp .L_9A7E   ; DA11 4C 7E 9A
; ----------------------------------------------------------------------------
.L_DA14:
  cmp #$DA    ; DA14 C9 DA
    bne .L_DA1B   ; DA16 D0 03
    jmp .L_9A8B   ; DA18 4C 8B 9A
; ----------------------------------------------------------------------------
.L_DA1B:
  cmp #$E0    ; DA1B C9 E0
    bne .L_DA22   ; DA1D D0 03
    jmp .L_9A8F   ; DA1F 4C 8F 9A
; ----------------------------------------------------------------------------
.L_DA22:
  cmp #$E1    ; DA22 C9 E1
    bne .L_DA29   ; DA24 D0 03
    jmp .L_9A97   ; DA26 4C 97 9A
; ----------------------------------------------------------------------------
.L_DA29:
  cmp #$EE    ; DA29 C9 EE
    bne .L_DA30   ; DA2B D0 03
    jmp .L_9A9B   ; DA2D 4C 9B 9A
; ----------------------------------------------------------------------------
.L_DA30:
  cmp #$F6    ; DA30 C9 F6
    bne .L_DA37   ; DA32 D0 03
    jmp .L_9AA3   ; DA34 4C A3 9A
; ----------------------------------------------------------------------------
.L_DA37:
  cmp #$F0    ; DA37 C9 F0
    .byte   <$D0     ; DA39 D0
; bank $3e
floor.load_object_sprite_into_buffer:
    .byte   <$03     ; DA3A 03
    jmp .L_9ABB   ; DA3B 4C BB 9A
; ----------------------------------------------------------------------------
    cmp #$F7    ; DA3E C9 F7
    bne .L_DA45   ; DA40 D0 03
    jmp .L_9ABF   ; DA42 4C BF 9A
; ----------------------------------------------------------------------------
.L_DA45:
  cmp #$FC    ; DA45 C9 FC
    bne .L_DA4C   ; DA47 D0 03
    jmp .L_9AC4   ; DA49 4C C4 9A
; ----------------------------------------------------------------------------
.L_DA4C:
  cmp #$FD    ; DA4C C9 FD
    bne .L_DA53   ; DA4E D0 03
    jmp .L_9ACC   ; DA50 4C CC 9A
; ----------------------------------------------------------------------------
.L_DA53:
  jmp .L_99E1   ; DA53 4C E1 99
; ----------------------------------------------------------------------------
    lda #$80    ; DA56 A9 80
    sta <$87     ; DA58 85 87
    jsr .L_A3C2   ; DA5A 20 C2 A3
    bcs .L_DA8A   ; DA5D B0 2B
    jsr .L_A458   ; DA5F 20 58 A4
    jmp .L_9957   ; DA62 4C 57 99
; ----------------------------------------------------------------------------
    jsr .L_9B7A   ; DA65 20 7A 9B
    lda <$8B     ; DA68 A5 8B
    cmp #$01    ; DA6A C9 01
    bne .L_DA74   ; DA6C D0 06
    jsr .L_A458   ; DA6E 20 58 A4
    jmp .L_9957   ; DA71 4C 57 99
; ----------------------------------------------------------------------------
.L_DA74:
  lda #$DC    ; DA74 A9 DC
    sta <$8D     ; DA76 85 8D
    jsr .L_A466   ; DA78 20 66 A4
    jmp .L_9957   ; DA7B 4C 57 99
; ----------------------------------------------------------------------------
    lda #$7F    ; DA7E A9 7F
.L_DA80:
  sta <$87     ; DA80 85 87
    jsr .L_A3C2   ; DA82 20 C2 A3
    bcs .L_DA8A   ; DA85 B0 03
    jsr .L_9957   ; DA87 20 57 99
.L_DA8A:
  rts             ; DA8A 60
; ----------------------------------------------------------------------------
    lda #$40    ; DA8B A9 40
    bne .L_DA80   ; DA8D D0 F1
    jsr .L_9B7A   ; DA8F 20 7A 9B
    lda #$B4    ; DA92 A9 B4
    jmp .L_9A76   ; DA94 4C 76 9A
; ----------------------------------------------------------------------------
    lda #$80    ; DA97 A9 80
    bne .L_DA80   ; DA99 D0 E5
    jsr .L_9B7A   ; DA9B 20 7A 9B
    lda #$7D    ; DA9E A9 7D
    jmp .L_9A76   ; DAA0 4C 76 9A
; ----------------------------------------------------------------------------
    lda #$20    ; DAA3 A9 20
    sta <$80     ; DAA5 85 80
.L_DAA7:
  lda $6102,x ; DAA7 BD 02 61
    eor <$80     ; DAAA 45 80
    sta $6102,x ; DAAC 9D 02 61
    txa             ; DAAF 8A
    clc             ; DAB0 18
    adc #$40    ; DAB1 69 40
    tax             ; DAB3 AA
    dec <$8B     ; DAB4 C6 8B
    bne .L_DAA7   ; DAB6 D0 EF
    jmp .L_9957   ; DAB8 4C 57 99
; ----------------------------------------------------------------------------
    lda #$04    ; DABB A9 04
    bne .L_DA80   ; DABD D0 C1
    lda #$08    ; DABF A9 08
    jmp .L_9AA5   ; DAC1 4C A5 9A
; ----------------------------------------------------------------------------
    jsr .L_9B7A   ; DAC4 20 7A 9B
    lda #$2A    ; DAC7 A9 2A
    jmp .L_9A76   ; DAC9 4C 76 9A
; ----------------------------------------------------------------------------
    lda #$02    ; DACC A9 02
    bne .L_DA80   ; DACE D0 B0
    lda #$00    ; DAD0 A9 00
    sta <$61     ; DAD2 85 61
    sta <$20     ; DAD4 85 20
    sta <$62     ; DAD6 85 62
.L_DAD8:
  ldx #$00    ; DAD8 A2 00
    lda <$61     ; DADA A5 61
.L_DADC:
  cmp #$0A    ; DADC C9 0A
    bcc .L_DAE7   ; DADE 90 07
    sbc #$0A    ; DAE0 E9 0A
    inx             ; DAE2 E8
    cpx #$07    ; DAE3 E0 07
    bcc .L_DADC   ; DAE5 90 F5
.L_DAE7:
  stx <$81     ; DAE7 86 81
    sta <$80     ; DAE9 85 80
    jsr thunk_await_nmi_by_set_handler  ; DAEB 20 00 FF
    inc <$F0     ; DAEE E6 F0
    bit $2002   ; DAF0 2C 02 20
    lda #$20    ; DAF3 A9 20
    sta $2006   ; DAF5 8D 06 20
    lda #$7A    ; DAF8 A9 7A
    sta $2006   ; DAFA 8D 06 20
    lda <$81     ; DAFD A5 81
    clc             ; DAFF 18
    adc #$80    ; DB00 69 80
    sta $2007   ; DB02 8D 07 20
    lda <$80     ; DB05 A5 80
    clc             ; DB07 18
    adc #$80    ; DB08 69 80
    sta $2007   ; DB0A 8D 07 20
    jsr menu.init_ppu               ; DB0D 20 9F 95
    jsr field.call_sound_driver_and_restore_banks; DB10 20 58 C7
    jsr field.get_input             ; DB13 20 81 D2
    lda <$20     ; DB16 A5 20
    bmi .L_DB1D   ; DB18 30 03
    sec             ; DB1A 38
    rol <$62     ; DB1B 26 62
.L_DB1D:
  beq .L_DAD8   ; DB1D F0 B9
    and #$0F    ; DB1F 29 0F
    bne .L_DB35   ; DB21 D0 12
    bit <$20     ; DB23 24 20
    bmi .L_DB2A   ; DB25 30 03
    bvc .L_DAD8   ; DB27 50 AF
.L_DB29:
  rts             ; DB29 60
; ----------------------------------------------------------------------------
.L_DB2A:
  lda <$62     ; DB2A A5 62
    beq .L_DAD8   ; DB2C F0 AA
    lda <$61     ; DB2E A5 61
    beq .L_DB29   ; DB30 F0 F7
    jmp .L_9B5D   ; DB32 4C 5D 9B
; ----------------------------------------------------------------------------
.L_DB35:
  lda <$F0     ; DB35 A5 F0
    and #$03    ; DB37 29 03
    bne .L_DAD8   ; DB39 D0 9D
    lda <$20     ; DB3B A5 20
    and #$05    ; DB3D 29 05
    beq .L_DB51   ; DB3F F0 10
    lda <$61     ; DB41 A5 61
    clc             ; DB43 18
    adc #$01    ; DB44 69 01
    cmp #$2E    ; DB46 C9 2E
    bcc .L_DB4C   ; DB48 90 02
    lda #$00    ; DB4A A9 00
.L_DB4C:
  sta <$61     ; DB4C 85 61
    jmp .L_9AD8   ; DB4E 4C D8 9A
; ----------------------------------------------------------------------------
.L_DB51:
  lda <$61     ; DB51 A5 61
    sec             ; DB53 38
    sbc #$01    ; DB54 E9 01
    bpl .L_DB4C   ; DB56 10 F4
    lda #$2D    ; DB58 A9 2D
    jmp .L_9B4C   ; DB5A 4C 4C 9B
; ----------------------------------------------------------------------------
    ldy <$61     ; DB5D A4 61
    tsx             ; DB5F BA
    txa             ; DB60 8A
    clc             ; DB61 18
    adc #$08    ; DB62 69 08
    cmp #$FB    ; DB64 C9 FB
    bcs .L_DB75   ; DB66 B0 0D
    dey             ; DB68 88
    beq .L_DB75   ; DB69 F0 0A
.L_DB6B:
  clc             ; DB6B 18
    adc #$05    ; DB6C 69 05
    cmp #$FB    ; DB6E C9 FB
    bcs .L_DB75   ; DB70 B0 03
    dey             ; DB72 88
    bne .L_DB6B   ; DB73 D0 F6
.L_DB75:
  tax             ; DB75 AA
    txs             ; DB76 9A
    jmp .L_9918   ; DB77 4C 18 99
; ----------------------------------------------------------------------------
    lda <$8B     ; DB7A A5 8B
    cmp #$01    ; DB7C C9 01
    bne .L_DB8D   ; DB7E D0 0D
    lda $6102,x ; DB80 BD 02 61
    and #$C0    ; DB83 29 C0
    beq .L_DB8C   ; DB85 F0 05
    pla             ; DB87 68
    pla             ; DB88 68
    jmp menu.queue_SE_of_invalid_action ; DB89 4C 29 D5
; ----------------------------------------------------------------------------
.L_DB8C:
  rts             ; DB8C 60
; ----------------------------------------------------------------------------
.L_DB8D:
  ldx #$00    ; DB8D A2 00
.L_DB8F:
  lda $6102,x ; DB8F BD 02 61
    cmp #$40    ; DB92 C9 40
    bcc .L_DBA0   ; DB94 90 0A
    dec <$8B     ; DB96 C6 8B
    txa             ; DB98 8A
    clc             ; DB99 18
    adc #$40    ; DB9A 69 40
    tax             ; DB9C AA
    bne .L_DB8F   ; DB9D D0 F0
    rts             ; DB9F 60
; ----------------------------------------------------------------------------
.L_DBA0:
  txa             ; DBA0 8A
    stx <$7F     ; DBA1 86 7F
    clc             ; DBA3 18
    adc #$40    ; DBA4 69 40
    tax             ; DBA6 AA
    bne .L_DB8F   ; DBA7 D0 E6
    rts             ; DBA9 60
; ----------------------------------------------------------------------------
.L_DBAA:
  jsr menu.accept_input_action    ; DBAA 20 74 8F
    lda #$08    ; DBAD A9 08
    sta $78F0   ; DBAF 8D F0 78
    jmp menu.main.erase             ; DBB2 4C 85 A6
; ----------------------------------------------------------------------------
    jsr menu.init_input_states      ; DBB5 20 92 95
    lda #$00    ; DBB8 A9 00
    sta <$B4     ; DBBA 85 B4
    jsr menu.main.erase             ; DBBC 20 85 A6
    jsr menu.upload_default_bg_attrs    ; DBBF 20 6F 95
    lda #$00    ; DBC2 A9 00
    sta $7AF0   ; DBC4 8D F0 7A
    sta $78F0   ; DBC7 8D F0 78
    jsr .L_D142   ; DBCA 20 42 D1
.L_DBCD:
  jsr menu.init_input_states      ; DBCD 20 92 95
    lda #$12    ; DBD0 A9 12
    jsr menu.erase_box_of_width_1e  ; DBD2 20 67 F4
    lda #$00    ; DBD5 A9 00
    sta <$A4     ; DBD7 85 A4
    sta <$A3     ; DBD9 85 A3
    sta <$B4     ; DBDB 85 B4
    sta <$24     ; DBDD 85 24
    sta <$25     ; DBDF 85 25
    ldx #$0A    ; DBE1 A2 0A
    jsr menu.draw_window_box        ; DBE3 20 F1 AA
    lda #$3E    ; DBE6 A9 3E
    jsr menu.draw_view_of_buffered_string; DBE8 20 7A A8
.L_DBEB:
  jsr menu.render_cursor          ; DBEB 20 CD A7
    lda #$08    ; DBEE A9 08
    jsr menu.window1.get_input_and_update_cursor; DBF0 20 A3 91
    jsr .L_9D5B   ; DBF3 20 5B 9D
    lda <$25     ; DBF6 A5 25
    bne .L_DBAA   ; DBF8 D0 B0
    lda <$24     ; DBFA A5 24
    beq .L_DBEB   ; DBFC F0 ED
    jsr menu.accept_input_action    ; DBFE 20 74 8F
    jsr .L_9D9B   ; DC01 20 9B 9D
    bcs .L_DBCD   ; DC04 B0 C7
    lda #$01    ; DC06 A9 01
    sta <$A4     ; DC08 85 A4
    ldx #$0B    ; DC0A A2 0B
    jsr menu.draw_window_box        ; DC0C 20 F1 AA
    lda #$2F    ; DC0F A9 2F
    jsr menu.draw_window_content    ; DC11 20 78 A6
    jsr menu.items.save_render_params   ; DC14 20 3D 90
    lda #$80    ; DC17 A9 80
    sta <$B4     ; DC19 85 B4
    jsr menu.pc_select.save_states  ; DC1B 20 A8 A3
.L_DC1E:
  jsr menu.render_cursor          ; DC1E 20 CD A7
    lda #$08    ; DC21 A9 08
    jsr menu.window3.get_input_and_scroll; DC23 20 0D 92
    jsr .L_9D5B   ; DC26 20 5B 9D
    lda <$25     ; DC29 A5 25
    bne .L_DBCD   ; DC2B D0 A0
    lda <$24     ; DC2D A5 24
    beq .L_DC1E   ; DC2F F0 ED
    jsr .L_9C3C   ; DC31 20 3C 9C
    bcs .L_DBCD   ; DC34 B0 97
    jsr menu.accept_input_action    ; DC36 20 74 8F
    jmp .L_9C1E   ; DC39 4C 1E 9C
; ----------------------------------------------------------------------------
    ldx $78F0   ; DC3C AE F0 78
    lda $7803,x ; DC3F BD 03 78
    sec             ; DC42 38
    sbc #$03    ; DC43 E9 03
    cmp #$04    ; DC45 C9 04
    bne .L_DC4C   ; DC47 D0 03
    clc             ; DC49 18
    adc #$01    ; DC4A 69 01
.L_DC4C:
  sta <$8E     ; DC4C 85 8E
    ora <$7F     ; DC4E 05 7F
    tax             ; DC50 AA
    stx <$8A     ; DC51 86 8A
    ldx $7AF0   ; DC53 AE F0 7A
    lda $7A03,x ; DC56 BD 03 7A
    sta <$8B     ; DC59 85 8B
    tax             ; DC5B AA
    lda $60C0,x ; DC5C BD C0 60
    bne .L_DC63   ; DC5F D0 02
    clc             ; DC61 18
    rts             ; DC62 60
; ----------------------------------------------------------------------------
.L_DC63:
  tax             ; DC63 AA
    stx <$8C     ; DC64 86 8C
    lda $7200,x ; DC66 BD 00 72
    beq .L_DC72   ; DC69 F0 07
.L_DC6B:
  lda #$6F    ; DC6B A9 6F
    jsr .L_9E2A   ; DC6D 20 2A 9E
    clc             ; DC70 18
    rts             ; DC71 60
; ----------------------------------------------------------------------------
.L_DC72:
  lda <$8E     ; DC72 A5 8E
    cmp #$03    ; DC74 C9 03
    bcc .L_DC7B   ; DC76 90 03
    jmp .L_9CC6   ; DC78 4C C6 9C
; ----------------------------------------------------------------------------
.L_DC7B:
  cmp #$00    ; DC7B C9 00
    bne .L_DC8C   ; DC7D D0 0D
    lda <$8C     ; DC7F A5 8C
    cmp #$62    ; DC81 C9 62
    bcc .L_DC6B   ; DC83 90 E6
    cmp #$72    ; DC85 C9 72
    bcs .L_DC6B   ; DC87 B0 E2
    jmp .L_9CAA   ; DC89 4C AA 9C
; ----------------------------------------------------------------------------
.L_DC8C:
  cmp #$01    ; DC8C C9 01
    bne .L_DC9D   ; DC8E D0 0D
    lda <$8C     ; DC90 A5 8C
    cmp #$72    ; DC92 C9 72
    bcc .L_DC6B   ; DC94 90 D5
    cmp #$8B    ; DC96 C9 8B
    bcs .L_DC6B   ; DC98 B0 D1
    jmp .L_9CAA   ; DC9A 4C AA 9C
; ----------------------------------------------------------------------------
.L_DC9D:
  lda <$8C     ; DC9D A5 8C
    cmp #$8B    ; DC9F C9 8B
    bcc .L_DC6B   ; DCA1 90 C8
    cmp #$98    ; DCA3 C9 98
    bcs .L_DC6B   ; DCA5 B0 C4
    jmp .L_9CAA   ; DCA7 4C AA 9C
; ----------------------------------------------------------------------------
    lda #$01    ; DCAA A9 01
    sta <$81     ; DCAC 85 81
    lda <$8C     ; DCAE A5 8C
    sta <$80     ; DCB0 85 80
    ldx <$8A     ; DCB2 A6 8A
    sta $6200,x ; DCB4 9D 00 62
    jsr .L_90B9   ; DCB7 20 B9 90
    ldx <$8A     ; DCBA A6 8A
    lda <$8A     ; DCBC A5 8A
    jsr .L_D10B   ; DCBE 20 0B D1
    jsr .L_9E4B   ; DCC1 20 4B 9E
    sec             ; DCC4 38
    rts             ; DCC5 60
; ----------------------------------------------------------------------------
    lda <$8A     ; DCC6 A5 8A
    eor #$06    ; DCC8 49 06
    sta <$89     ; DCCA 85 89
    lda <$8C     ; DCCC A5 8C
    cmp #$62    ; DCCE C9 62
    bcc .L_DCD5   ; DCD0 90 03
    jmp .L_9C6B   ; DCD2 4C 6B 9C
; ----------------------------------------------------------------------------
.L_DCD5:
  ldx <$89     ; DCD5 A6 89
    lda $6200,x ; DCD7 BD 00 62
    bne .L_DCDF   ; DCDA D0 03
    jmp .L_9CF6   ; DCDC 4C F6 9C
; ----------------------------------------------------------------------------
.L_DCDF:
  jsr .L_9D2F   ; DCDF 20 2F 9D
    sta <$80     ; DCE2 85 80
    lda <$8C     ; DCE4 A5 8C
    jsr .L_9D2F   ; DCE6 20 2F 9D
    asl a       ; DCE9 0A
    asl a       ; DCEA 0A
    ora <$80     ; DCEB 05 80
    tax             ; DCED AA
    lda $9D4B,x ; DCEE BD 4B 9D
    beq .L_DCF6   ; DCF1 F0 03
    jmp .L_9C6B   ; DCF3 4C 6B 9C
; ----------------------------------------------------------------------------
.L_DCF6:
  ldx <$8B     ; DCF6 A6 8B
    lda $60E0,x ; DCF8 BD E0 60
    cmp #$15    ; DCFB C9 15
    bcc .L_DD01   ; DCFD 90 02
    lda #$14    ; DCFF A9 14
.L_DD01:
  sta <$81     ; DD01 85 81
    lda <$8C     ; DD03 A5 8C
    .byte   <$C9     ; DD05 C9
.L_DD06:
  bbr4    $90,.L_DD0D                   ; DD06 4F 90 04
    cmp #$57    ; DD09 C9 57
    bcc .L_DD11   ; DD0B 90 04
.L_DD0D:
  lda #$01    ; DD0D A9 01
    sta <$81     ; DD0F 85 81
.L_DD11:
  lda <$8C     ; DD11 A5 8C
    sta <$80     ; DD13 85 80
    ldx <$8A     ; DD15 A6 8A
    lda <$80     ; DD17 A5 80
    sta $6200,x ; DD19 9D 00 62
    lda <$81     ; DD1C A5 81
    sta $6201,x ; DD1E 9D 01 62
    jsr .L_90B9   ; DD21 20 B9 90
    lda <$8A     ; DD24 A5 8A
    tax             ; DD26 AA
    jsr .L_D10B   ; DD27 20 0B D1
    jsr .L_9E4B   ; DD2A 20 4B 9E
    sec             ; DD2D 38
    rts             ; DD2E 60
; ----------------------------------------------------------------------------
    cmp #$46    ; DD2F C9 46
    bcc .L_DD48   ; DD31 90 15
    cmp #$4A    ; DD33 C9 4A
    bcs .L_DD3A   ; DD35 B0 03
    lda #$03    ; DD37 A9 03
    rts             ; DD39 60
; ----------------------------------------------------------------------------
.L_DD3A:
  cmp #$4F    ; DD3A C9 4F
    bcs .L_DD41   ; DD3C B0 03
    lda #$01    ; DD3E A9 01
    rts             ; DD40 60
; ----------------------------------------------------------------------------
.L_DD41:
  cmp #$57    ; DD41 C9 57
    bcs .L_DD48   ; DD43 B0 03
    lda #$02    ; DD45 A9 02
    rts             ; DD47 60
; ----------------------------------------------------------------------------
.L_DD48:
  lda #$00    ; DD48 A9 00
    rts             ; DD4A 60
; ----------------------------------------------------------------------------
    brk             ; DD4B 00
    ora ($01,x) ; DD4C 01 01
    ora ($01,x) ; DD4E 01 01
    ora ($00,x) ; DD50 01 00
    ora ($01,x) ; DD52 01 01
    brk             ; DD54 00
    ora ($01,x) ; DD55 01 01
    ora ($01,x) ; DD57 01 01
    ora ($01,x) ; DD59 01 01
    lda #$80    ; DD5B A9 80
    sta <$40     ; DD5D 85 40
    lda #$28    ; DD5F A9 28
    sta <$41     ; DD61 85 41
    ldx <$7F     ; DD63 A6 7F
    jmp .L_8136   ; DD65 4C 36 81
; ----------------------------------------------------------------------------
    lda <$61     ; DD68 A5 61
    sta <$8E     ; DD6A 85 8E
    ora <$7F     ; DD6C 05 7F
    tax             ; DD6E AA
    lda $6200,x ; DD6F BD 00 62
    bne .L_DD78   ; DD72 D0 04
    lda #$00    ; DD74 A9 00
    clc             ; DD76 18
    rts             ; DD77 60
; ----------------------------------------------------------------------------
.L_DD78:
  stx <$8A     ; DD78 86 8A
    sta <$8B     ; DD7A 85 8B
    sta <$80     ; DD7C 85 80
    lda #$01    ; DD7E A9 01
    sta <$81     ; DD80 85 81
    lda <$8E     ; DD82 A5 8E
    cmp #$03    ; DD84 C9 03
    bcc .L_DD8D   ; DD86 90 05
    lda $6201,x ; DD88 BD 01 62
    sta <$81     ; DD8B 85 81
.L_DD8D:
  jsr .L_9362   ; DD8D 20 62 93
    bcc .L_DD96   ; DD90 90 04
    lda #$6B    ; DD92 A9 6B
    sec             ; DD94 38
    rts             ; DD95 60
; ----------------------------------------------------------------------------
.L_DD96:
  jsr .L_9E0F   ; DD96 20 0F 9E
    clc             ; DD99 18
    rts             ; DD9A 60
; ----------------------------------------------------------------------------
    lda $78F0   ; DD9B AD F0 78
    cmp #$10    ; DD9E C9 10
    bne .L_DDCE   ; DDA0 D0 2C
    lda #$00    ; DDA2 A9 00
    sta <$62     ; DDA4 85 62
    lda #$05    ; DDA6 A9 05
    sta <$61     ; DDA8 85 61
.L_DDAA:
  jsr .L_9D68   ; DDAA 20 68 9D
    bcc .L_DDB4   ; DDAD 90 05
.L_DDAF:
  jsr .L_9E2A   ; DDAF 20 2A 9E
.L_DDB2:
  sec             ; DDB2 38
    rts             ; DDB3 60
; ----------------------------------------------------------------------------
.L_DDB4:
  beq .L_DDB8   ; DDB4 F0 02
    inc <$62     ; DDB6 E6 62
.L_DDB8:
  dec <$61     ; DDB8 C6 61
    bmi .L_DDC6   ; DDBA 30 0A
    lda <$61     ; DDBC A5 61
    cmp #$04    ; DDBE C9 04
    bne .L_DDAA   ; DDC0 D0 E8
    dec <$61     ; DDC2 C6 61
    bpl .L_DDAA   ; DDC4 10 E4
.L_DDC6:
  lda <$62     ; DDC6 A5 62
    beq .L_DDB2   ; DDC8 F0 E8
    lda #$6E    ; DDCA A9 6E
    bne .L_DDAF   ; DDCC D0 E1
.L_DDCE:
  ldx $78F0   ; DDCE AE F0 78
    lda $7803,x ; DDD1 BD 03 78
    sec             ; DDD4 38
    sbc #$03    ; DDD5 E9 03
    cmp #$04    ; DDD7 C9 04
    bne .L_DDDE   ; DDD9 D0 03
    clc             ; DDDB 18
    adc #$01    ; DDDC 69 01
.L_DDDE:
  sta <$8E     ; DDDE 85 8E
    ora <$7F     ; DDE0 05 7F
    tax             ; DDE2 AA
    lda $6200,x ; DDE3 BD 00 62
    bne .L_DDEA   ; DDE6 D0 02
    clc             ; DDE8 18
    rts             ; DDE9 60
; ----------------------------------------------------------------------------
.L_DDEA:
  stx <$8A     ; DDEA 86 8A
    sta <$8B     ; DDEC 85 8B
    sta <$80     ; DDEE 85 80
    lda #$01    ; DDF0 A9 01
    sta <$81     ; DDF2 85 81
    lda <$8E     ; DDF4 A5 8E
    cmp #$03    ; DDF6 C9 03
    bcc .L_DDFF   ; DDF8 90 05
    lda $6201,x ; DDFA BD 01 62
    sta <$81     ; DDFD 85 81
.L_DDFF:
  jsr .L_9362   ; DDFF 20 62 93
    bcc .L_DE09   ; DE02 90 05
    lda #$6B    ; DE04 A9 6B
    jmp .L_9E2A   ; DE06 4C 2A 9E
; ----------------------------------------------------------------------------
.L_DE09:
  jsr .L_9E0F   ; DE09 20 0F 9E
    jmp .L_9E2A   ; DE0C 4C 2A 9E
; ----------------------------------------------------------------------------
; bank $3e
loadPatternToVramEx:
    ldx <$8A     ; DE0F A6 8A
    lda #$00    ; DE11 A9 00
    sta $6200,x ; DE13 9D 00 62
    lda <$8E     ; DE16 A5 8E
    cmp #$03    ; DE18 C9 03
; bank $3e
loadPatternToVram:
    bcc .L_DE21   ; DE1A 90 05
    lda #$00    ; DE1C A9 00
    sta $6201,x ; DE1E 9D 01 62
.L_DE21:
  ldx <$8A     ; DE21 A6 8A
    txa             ; DE23 8A
    jsr .L_D10B   ; DE24 20 0B D1
    lda #$6E    ; DE27 A9 6E
    rts             ; DE29 60
; ----------------------------------------------------------------------------
; bank $3e
loadSmallPatternToVram:
    pha             ; DE2A 48
    jsr menu.pc_select.save_states  ; DE2B 20 A8 A3
    lda #$00    ; DE2E A9 00
    sta <$B4     ; DE30 85 B4
    ldx #$1E    ; DE32 A2 1E
    jsr menu.draw_window_box        ; DE34 20 F1 AA
    pla             ; DE37 68
    jsr menu.draw_window_content    ; DE38 20 78 A6
    jsr .L_A305   ; DE3B 20 05 A3
    ldx #$1E    ; DE3E A2 1E
    jsr menu.draw_window_box        ; DE40 20 F1 AA
    jsr menu.items.load_render_params   ; DE43 20 75 90
    jsr menu.pc_select.load_states  ; DE46 20 8E A3
    sec             ; DE49 38
    rts             ; DE4A 60
; ----------------------------------------------------------------------------
    ldx #$06    ; DE4B A2 06
    lda <$8A     ; DE4D A5 8A
    and #$0F    ; DE4F 29 0F
    beq .L_DE67   ; DE51 F0 14
    ldx #$0E    ; DE53 A2 0E
    cmp #$01    ; DE55 C9 01
    beq .L_DE67   ; DE57 F0 0E
    .byte   <$A2     ; DE59 A2
; bank $3e
floor.loadPatternForTiles:
    asl <$C9,x   ; DE5A 16 C9
    .byte   <$02     ; DE5C 02
    beq .L_DE67   ; DE5D F0 08
    ldx #$1E    ; DE5F A2 1E
    cmp #$03    ; DE61 C9 03
    beq .L_DE67   ; DE63 F0 02
    ldx #$26    ; DE65 A2 26
.L_DE67:
  lda $7400,x ; DE67 BD 00 74
    bne .L_DE6D   ; DE6A D0 01
    rts             ; DE6C 60
; ----------------------------------------------------------------------------
.L_DE6D:
  asl a       ; DE6D 0A
    pha             ; DE6E 48
    bcc .L_DE76   ; DE6F 90 05
    lda #$3F    ; DE71 A9 3F
    jsr .L_9E2A   ; DE73 20 2A 9E
.L_DE76:
  pla             ; DE76 68
    asl a       ; DE77 0A
    pha             ; DE78 48
    bcc .L_DE80   ; DE79 90 05
    lda #$40    ; DE7B A9 40
    jsr .L_9E2A   ; DE7D 20 2A 9E
.L_DE80:
  pla             ; DE80 68
    asl a       ; DE81 0A
    pha             ; DE82 48
    bcc .L_DE8A   ; DE83 90 05
    lda #$41    ; DE85 A9 41
    jsr .L_9E2A   ; DE87 20 2A 9E
.L_DE8A:
  pla             ; DE8A 68
    asl a       ; DE8B 0A
    pha             ; DE8C 48
    bcc .L_DE94   ; DE8D 90 05
    lda #$42    ; DE8F A9 42
    jsr .L_9E2A   ; DE91 20 2A 9E
.L_DE94:
  pla             ; DE94 68
    asl a       ; DE95 0A
    pha             ; DE96 48
    bcc .L_DE9E   ; DE97 90 05
    lda #$43    ; DE99 A9 43
    jsr .L_9E2A   ; DE9B 20 2A 9E
.L_DE9E:
  pla             ; DE9E 68
    asl a       ; DE9F 0A
    pha             ; DEA0 48
    bcc .L_DEA8   ; DEA1 90 05
    lda #$44    ; DEA3 A9 44
    jsr .L_9E2A   ; DEA5 20 2A 9E
.L_DEA8:
  pla             ; DEA8 68
    asl a       ; DEA9 0A
    pha             ; DEAA 48
    bcc .L_DEB2   ; DEAB 90 05
    lda #$45    ; DEAD A9 45
    jsr .L_9E2A   ; DEAF 20 2A 9E
.L_DEB2:
  pla             ; DEB2 68
    asl a       ; DEB3 0A
    bcc .L_DEBB   ; DEB4 90 05
    lda #$46    ; DEB6 A9 46
    jsr .L_9E2A   ; DEB8 20 2A 9E
.L_DEBB:
  rts             ; DEBB 60
; ----------------------------------------------------------------------------
.L_DEBC:
  jsr menu.accept_input_action    ; DEBC 20 74 8F
    jmp menu.main.erase             ; DEBF 4C 85 A6
; ----------------------------------------------------------------------------
    jsr menu.init_input_states      ; DEC2 20 92 95
    lda #$80    ; DEC5 A9 80
    sta <$B4     ; DEC7 85 B4
    jsr menu.main.erase             ; DEC9 20 85 A6
    jsr menu.upload_default_bg_attrs    ; DECC 20 6F 95
    jsr menu.pc_select.draw_window  ; DECF 20 28 A3
    lda #$00    ; DED2 A9 00
    sta <$A2     ; DED4 85 A2
    sta <$A3     ; DED6 85 A3
    lda #$01    ; DED8 A9 01
    sta <$A4     ; DEDA 85 A4
    lda #$00    ; DEDC A9 00
    sta $7AF0   ; DEDE 8D F0 7A
    ldx #$06    ; DEE1 A2 06
    jsr menu.draw_window_box        ; DEE3 20 F1 AA
    lda #$3D    ; DEE6 A9 3D
    .byte   <$20     ; DEE8 20
    sei             ; DEE9 78
; bank $3e
loadTilePatternToVram:
    ldx <$20     ; DEEA A6 20
    and $2090,x ; DEEC 3D 90 20
    tay             ; DEEF A8
    .byte   <$A3     ; DEF0 A3
    ldx #$05    ; DEF1 A2 05
    jsr menu.draw_window_box        ; DEF3 20 F1 AA
    lda #$35    ; DEF6 A9 35
    jsr menu.stream_window_content  ; DEF8 20 6B A6
    jsr menu.pc_select.load_states  ; DEFB 20 8E A3
.L_DEFE:
  jsr menu.render_cursor          ; DEFE 20 CD A7
    lda #$08    ; DF01 A9 08
    jsr menu.window3.get_input_and_scroll; DF03 20 0D 92
    lda #$03    ; DF06 A9 03
; bank $3e
floor.loadObjectPatterns:
    jsr menu.party_summary.put_pc_sprites; DF08 20 00 80
    lda <$25     ; DF0B A5 25
    bne .L_DEBC   ; DF0D D0 AD
    lda <$24     ; DF0F A5 24
    beq .L_DEFE   ; DF11 F0 EB
    jsr menu.accept_input_action    ; DF13 20 74 8F
    lda #$02    ; DF16 A9 02
    sta <$A3     ; DF18 85 A3
    sta <$A4     ; DF1A 85 A4
    jsr menu.items.clone_for_2nd_selection; DF1C 20 63 A3
    lda $7AF0   ; DF1F AD F0 7A
    sta $79F0   ; DF22 8D F0 79
    tax             ; DF25 AA
    lda $7A02,x ; DF26 BD 02 7A
    cmp #$0F    ; DF29 C9 0F
    bne .L_DF31   ; DF2B D0 04
    lda #$FF    ; DF2D A9 FF
    bne .L_DF34   ; DF2F D0 03
.L_DF31:
  lda $7A03,x ; DF31 BD 03 7A
.L_DF34:
  sta <$8E     ; DF34 85 8E
    lda #$00    ; DF36 A9 00
    sta $79F2   ; DF38 8D F2 79
.L_DF3B:
  jsr menu.render_cursor          ; DF3B 20 CD A7
    lda #$08    ; DF3E A9 08
    .byte   <$20     ; DF40 20
; bank $3e
floor.loadObjectPattern:
    ora $A992   ; DF41 0D 92 A9
    .byte   <$03     ; DF44 03
    jsr menu.party_summary.put_pc_sprites; DF45 20 00 80
    lda <$25     ; DF48 A5 25
    beq .L_DF5A   ; DF4A F0 0E
    jsr menu.accept_input_action    ; DF4C 20 74 8F
    lda #$00    ; DF4F A9 00
    sta <$A3     ; DF51 85 A3
    lda #$01    ; DF53 A9 01
    sta <$A4     ; DF55 85 A4
    jmp .L_9EFE   ; DF57 4C FE 9E
; ----------------------------------------------------------------------------
.L_DF5A:
  lda <$24     ; DF5A A5 24
    beq .L_DF3B   ; DF5C F0 DD
    jsr menu.pc_select.save_states  ; DF5E 20 A8 A3
    jsr .L_A349   ; DF61 20 49 A3
    jsr menu.accept_input_action    ; DF64 20 74 8F
    lda #$00    ; DF67 A9 00
    sta <$A3     ; DF69 85 A3
    sta <$B4     ; DF6B 85 B4
    lda #$01    ; DF6D A9 01
    sta <$A4     ; DF6F 85 A4
    jsr menu.items.on_2nd_item_selected ; DF71 20 A5 9F
    php             ; DF74 08
    jsr menu.pc_select.load_states  ; DF75 20 8E A3
    jsr .L_A356   ; DF78 20 56 A3
    plp             ; DF7B 28
    bcs .L_DEFE   ; DF7C B0 80
    jsr menu.items.erase_message    ; DF7E 20 8E AA
    jsr .L_A356   ; DF81 20 56 A3
    jsr menu.items.load_render_params   ; DF84 20 75 90
    jsr menu.pc_select.load_states  ; DF87 20 8E A3
    lda <$1C     ; DF8A A5 1C
    sta <$3E     ; DF8C 85 3E
    lda <$1D     ; DF8E A5 1D
    sta <$3F     ; DF90 85 3F
    jsr field.reflect_window_scroll ; DF92 20 61 EB
    jsr menu.init_input_states      ; DF95 20 92 95
    lda #$00    ; DF98 A9 00
    sta <$A3     ; DF9A 85 A3
    sta <$A2     ; DF9C 85 A2
    lda #$01    ; DF9E A9 01
    sta <$A4     ; DFA0 85 A4
    jmp .L_9EFE   ; DFA2 4C FE 9E
; ----------------------------------------------------------------------------
    ldx $7AF0   ; DFA5 AE F0 7A
    lda $7A03,x ; DFA8 BD 03 7A
    sta <$8F     ; DFAB 85 8F
    lda $7A02,x ; DFAD BD 02 7A
    cmp #$0F    ; DFB0 C9 0F
    bne .L_DFDC   ; DFB2 D0 28
    ldx <$8E     ; DFB4 A6 8E
    cpx #$20    ; DFB6 E0 20
    bcs .L_DFCD   ; DFB8 B0 13
.L_DFBA:
  lda $60C0,x ; DFBA BD C0 60
    cmp #$F6    ; DFBD C9 F6
    beq .L_DFCD   ; DFBF F0 0C
    cmp #$F7    ; DFC1 C9 F7
    beq .L_DFCD   ; DFC3 F0 08
    cmp #$9A    ; DFC5 C9 9A
    bcc .L_DFD2   ; DFC7 90 09
    cmp #$A4    ; DFC9 C9 A4
    bcs .L_DFD2   ; DFCB B0 05
.L_DFCD:
  jsr menu.queue_SE_of_invalid_action ; DFCD 20 29 D5
    sec             ; DFD0 38
    rts             ; DFD1 60
; ----------------------------------------------------------------------------
.L_DFD2:
  lda #$00    ; DFD2 A9 00
    sta $60C0,x ; DFD4 9D C0 60
    sta $60E0,x ; DFD7 9D E0 60
    clc             ; DFDA 18
    rts             ; DFDB 60
; ----------------------------------------------------------------------------
.L_DFDC:
  ldx <$8F     ; DFDC A6 8F
    ldy <$8E     ; DFDE A4 8E
    cpy #$20    ; DFE0 C0 20
    bcs .L_DFBA   ; DFE2 B0 D6
    cpy <$8F     ; DFE4 C4 8F
    beq .L_E033   ; DFE6 F0 4B
    lda $60C0,x ; DFE8 BD C0 60
    pha             ; DFEB 48
    lda $60C0,y ; DFEC B9 C0 60
    sta $60C0,x ; DFEF 9D C0 60
    pla             ; DFF2 68
    sta $60C0,y ; DFF3 99 C0 60
    lda $60E0,x ; DFF6 BD E0 60
    pha             ; DFF9 48
    lda $60E0,y ; DFFA B9 E0 60
    sta $60E0,x ; DFFD 9D E0 60
    pla             ; E000 68
    sta $60E0,y ; E001 99 E0 60
    clc             ; E004 18
    rts             ; E005 60
; ----------------------------------------------------------------------------
.L_E006:
  lda <$2D     ; E006 A5 2D
    lsr a       ; E008 4A
    bcs .L_E03C   ; E009 B0 31
    jsr menu.items.consume_item     ; E00B 20 3C A3
    jmp .L_A525   ; E00E 4C 25 A5
; ----------------------------------------------------------------------------
.L_E011:
  pla             ; E011 68
    lda #$65    ; E012 A9 65
    jsr .L_A2F6   ; E014 20 F6 A2
    lda <$20     ; E017 A5 20
    and #$40    ; E019 29 40
    bne .L_E031   ; E01B D0 14
    jsr menu.items.consume_item     ; E01D 20 3C A3
    jsr field.queue_SE_of_healing   ; E020 20 8C 95
    jsr .L_9921   ; E023 20 21 99
    jmp .L_C0ED   ; E026 4C ED C0
; ----------------------------------------------------------------------------
.L_E029:
  lda #$5A    ; E029 A9 5A
.L_E02B:
  jsr .L_A2F6   ; E02B 20 F6 A2
    jsr menu.init_input_states      ; E02E 20 92 95
.L_E031:
  clc             ; E031 18
    rts             ; E032 60
; ----------------------------------------------------------------------------
.L_E033:
  ldx <$8E     ; E033 A6 8E
    stx <$63     ; E035 86 63
    lda $60E0,x ; E037 BD E0 60
    bne .L_E044   ; E03A D0 08
.L_E03C:
  jsr menu.queue_SE_of_invalid_action ; E03C 20 29 D5
    sec             ; E03F 38
    rts             ; E040 60
; ----------------------------------------------------------------------------
.L_E041:
  jmp .L_A15F   ; E041 4C 5F A1
; ----------------------------------------------------------------------------
.L_E044:
  ldy $60C0,x ; E044 BC C0 60
    cpy #$A4    ; E047 C0 A4
    beq .L_E006   ; E049 F0 BB
    cpy #$A6    ; E04B C0 A6
    bcc .L_E029   ; E04D 90 DA
    cpy #$C8    ; E04F C0 C8
    bcs .L_E041   ; E051 B0 EE
    cpy #$B1    ; E053 C0 B1
    bcs .L_E029   ; E055 B0 D2
    cpy #$AB    ; E057 C0 AB
    beq .L_E05F   ; E059 F0 04
    cpy #$AD    ; E05B C0 AD
    bne .L_E069   ; E05D D0 0A
.L_E05F:
  lda <$53     ; E05F A5 53
    and #$20    ; E061 29 20
    beq .L_E073   ; E063 F0 0E
    lda #$77    ; E065 A9 77
    bne .L_E02B   ; E067 D0 C2
.L_E069:
  cpy #$B0    ; E069 C0 B0
    bne .L_E073   ; E06B D0 06
    bit <$53     ; E06D 24 53
    lda #$78    ; E06F A9 78
    bvs .L_E02B   ; E071 70 B8
.L_E073:
  tya             ; E073 98
    pha             ; E074 48
    sec             ; E075 38
    sbc #$A6    ; E076 E9 A6
    clc             ; E078 18
    adc #$5B    ; E079 69 5B
    pha             ; E07B 48
    ldx #$15    ; E07C A2 15
    jsr menu.draw_window_box        ; E07E 20 F1 AA
    pla             ; E081 68
    jsr menu.draw_window_content    ; E082 20 78 A6
    pla             ; E085 68
    pha             ; E086 48
    cmp #$B0    ; E087 C9 B0
    beq .L_E011   ; E089 F0 86
    jsr .L_A715   ; E08B 20 15 A7
    pla             ; E08E 68
    tay             ; E08F A8
    bcs .L_E031   ; E090 B0 9F
    jsr field.queue_SE_of_healing   ; E092 20 8C 95
    ldx <$7F     ; E095 A6 7F
    cpy #$A6    ; E097 C0 A6
    bne .L_E0B4   ; E099 D0 19
    lda $6102,x ; E09B BD 02 61
    cmp #$40    ; E09E C9 40
    bcs .L_E0B1   ; E0A0 B0 0F
    lda #$1E    ; E0A2 A9 1E
    sta <$8D     ; E0A4 85 8D
    lda #$01    ; E0A6 A9 01
    sta <$8B     ; E0A8 85 8B
    lda #$03    ; E0AA A9 03
    sta <$8C     ; E0AC 85 8C
    jsr .L_A48A   ; E0AE 20 8A A4
.L_E0B1:
  jmp .L_A12B   ; E0B1 4C 2B A1
; ----------------------------------------------------------------------------
.L_E0B4:
  cpy #$A7    ; E0B4 C0 A7
    bne .L_E0C4   ; E0B6 D0 0C
    lda $6102,x ; E0B8 BD 02 61
    cmp #$40    ; E0BB C9 40
    bcs .L_E0B1   ; E0BD B0 F2
    lda #$78    ; E0BF A9 78
    jmp .L_A0A4   ; E0C1 4C A4 A0
; ----------------------------------------------------------------------------
.L_E0C4:
  cpy #$A8    ; E0C4 C0 A8
    bne .L_E0D8   ; E0C6 D0 10
    lda $6102,x ; E0C8 BD 02 61
    cmp #$40    ; E0CB C9 40
    bcs .L_E0B1   ; E0CD B0 E2
    jsr .L_A458   ; E0CF 20 58 A4
    jsr .L_A418   ; E0D2 20 18 A4
    jmp .L_A12B   ; E0D5 4C 2B A1
; ----------------------------------------------------------------------------
.L_E0D8:
  cpy #$A9    ; E0D8 C0 A9
    bne .L_E0F2   ; E0DA D0 16
    lda $6102,x ; E0DC BD 02 61
    bpl .L_E13C   ; E0DF 10 5B
    eor #$80    ; E0E1 49 80
    sta $6102,x ; E0E3 9D 02 61
    lda #$00    ; E0E6 A9 00
    sta <$82     ; E0E8 85 82
    lda #$01    ; E0EA A9 01
    jsr .L_A438   ; E0EC 20 38 A4
    jmp .L_A12B   ; E0EF 4C 2B A1
; ----------------------------------------------------------------------------
.L_E0F2:
  cpy #$AA    ; E0F2 C0 AA
    bne .L_E0FB   ; E0F4 D0 05
    lda #$40    ; E0F6 A9 40
    jmp .L_A144   ; E0F8 4C 44 A1
; ----------------------------------------------------------------------------
.L_E0FB:
  cpy #$AB    ; E0FB C0 AB
    bne .L_E104   ; E0FD D0 05
    lda #$20    ; E0FF A9 20
    jmp .L_A144   ; E101 4C 44 A1
; ----------------------------------------------------------------------------
.L_E104:
  cpy #$AC    ; E104 C0 AC
    bne .L_E10D   ; E106 D0 05
    lda #$10    ; E108 A9 10
    jmp .L_A144   ; E10A 4C 44 A1
; ----------------------------------------------------------------------------
.L_E10D:
  cpy #$AD    ; E10D C0 AD
    bne .L_E11D   ; E10F D0 0C
    lda #$08    ; E111 A9 08
    eor $6102,x ; E113 5D 02 61
    sta $6102,x ; E116 9D 02 61
    clc             ; E119 18
    jmp .L_A12B   ; E11A 4C 2B A1
; ----------------------------------------------------------------------------
.L_E11D:
  cpy #$AE    ; E11D C0 AE
    bne .L_E126   ; E11F D0 05
    lda #$04    ; E121 A9 04
    jmp .L_A144   ; E123 4C 44 A1
; ----------------------------------------------------------------------------
.L_E126:
  lda #$02    ; E126 A9 02
    jmp .L_A144   ; E128 4C 44 A1
; ----------------------------------------------------------------------------
    bcs .L_E13C   ; E12B B0 0F
    jsr menu.items.consume_item     ; E12D 20 3C A3
    jsr menu.party_summary.draw_content ; E130 20 32 A3
    lda #$00    ; E133 A9 00
    sta <$A2     ; E135 85 A2
    sta $78F0   ; E137 8D F0 78
    clc             ; E13A 18
    rts             ; E13B 60
; ----------------------------------------------------------------------------
.L_E13C:
  tya             ; E13C 98
    pha             ; E13D 48
    jsr menu.queue_SE_of_invalid_action ; E13E 20 29 D5
    jmp .L_A08B   ; E141 4C 8B A0
; ----------------------------------------------------------------------------
    sta <$80     ; E144 85 80
    and $6102,x ; E146 3D 02 61
    bne .L_E14F   ; E149 D0 04
    sec             ; E14B 38
    jmp .L_A12B   ; E14C 4C 2B A1
; ----------------------------------------------------------------------------
.L_E14F:
  lda <$80     ; E14F A5 80
    eor #$FF    ; E151 49 FF
    and $6102,x ; E153 3D 02 61
    sta $6102,x ; E156 9D 02 61
    clc             ; E159 18
    jmp .L_A12B   ; E15A 4C 2B A1
; ----------------------------------------------------------------------------
.L_E15D:
  clc             ; E15D 18
    rts             ; E15E 60
; ----------------------------------------------------------------------------
    sty <$8C     ; E15F 84 8C
    ldx #$15    ; E161 A2 15
    jsr menu.draw_window_box        ; E163 20 F1 AA
    lda #$73    ; E166 A9 73
    jsr menu.draw_window_content    ; E168 20 78 A6
    jsr .L_A715   ; E16B 20 15 A7
    bcs .L_E15D   ; E16E B0 ED
    jsr .L_A2B4   ; E170 20 B4 A2
    lda <$8C     ; E173 A5 8C
    jsr .L_A19C   ; E175 20 9C A1
    bcc .L_E182   ; E178 90 08
    lda #$75    ; E17A A9 75
    jsr .L_A2F6   ; E17C 20 F6 A2
    jmp .L_A161   ; E17F 4C 61 A1
; ----------------------------------------------------------------------------
.L_E182:
  cmp #$00    ; E182 C9 00
    beq .L_E18B   ; E184 F0 05
    lda #$74    ; E186 A9 74
    jmp .L_A17C   ; E188 4C 7C A1
; ----------------------------------------------------------------------------
.L_E18B:
  lda <$8C     ; E18B A5 8C
    sta $7C00,x ; E18D 9D 00 7C
    jsr .L_A1C9   ; E190 20 C9 A1
    jsr menu.items.consume_item     ; E193 20 3C A3
    lda #$00    ; E196 A9 00
    sta <$A2     ; E198 85 A2
    clc             ; E19A 18
    rts             ; E19B 60
; ----------------------------------------------------------------------------
    sta <$80     ; E19C 85 80
    sec             ; E19E 38
    sbc #$C8    ; E19F E9 C8
    tay             ; E1A1 A8
    ldx $A27C,y ; E1A2 BE 7C A2
    lda <$80     ; E1A5 A5 80
    cmp $7C00,x ; E1A7 DD 00 7C
    beq .L_E1C7   ; E1AA F0 1B
    cmp $7C01,x ; E1AC DD 01 7C
    beq .L_E1C7   ; E1AF F0 16
    cmp $7C02,x ; E1B1 DD 02 7C
    beq .L_E1C7   ; E1B4 F0 11
    lda $7C00,x ; E1B6 BD 00 7C
    beq .L_E1C5   ; E1B9 F0 0A
    inx             ; E1BB E8
    lda $7C00,x ; E1BC BD 00 7C
    beq .L_E1C5   ; E1BF F0 04
    inx             ; E1C1 E8
    lda $7C00,x ; E1C2 BD 00 7C
.L_E1C5:
  clc             ; E1C5 18
    rts             ; E1C6 60
; ----------------------------------------------------------------------------
.L_E1C7:
  sec             ; E1C7 38
    rts             ; E1C8 60
; ----------------------------------------------------------------------------
    ldx <$7F     ; E1C9 A6 7F
    ldy #$00    ; E1CB A0 00
    tya             ; E1CD 98
    sta $6207,x ; E1CE 9D 07 62
    sta $6208,x ; E1D1 9D 08 62
    sta $6209,x ; E1D4 9D 09 62
    sta $620A,x ; E1D7 9D 0A 62
    .byte   <$9D     ; E1DA 9D
    .byte   <$0B     ; E1DB 0B
; bank $3f
dungeon.mainLoop:
    .byte   <$62     ; E1DC 62
    sta $620C,x ; E1DD 9D 0C 62
    sta $620D,x ; E1E0 9D 0D 62
    sta $620E,x ; E1E3 9D 0E 62
.L_E1E6:
  lda $7C00,y ; E1E6 B9 00 7C
    beq .L_E1EE   ; E1E9 F0 03
    jsr .L_A1F4   ; E1EB 20 F4 A1
.L_E1EE:
  iny             ; E1EE C8
    cpy #$18    ; E1EF C0 18
    bcc .L_E1E6   ; E1F1 90 F3
    rts             ; E1F3 60
; ----------------------------------------------------------------------------
    sec             ; E1F4 38
    sbc #$C8    ; E1F5 E9 C8
    tax             ; E1F7 AA
    lda $A20C,x ; E1F8 BD 0C A2
    sta <$80     ; E1FB 85 80
    lda $A244,x ; E1FD BD 44 A2
    ora <$7F     ; E200 05 7F
    tax             ; E202 AA
    lda <$80     ; E203 A5 80
    ora $6207,x ; E205 1D 07 62
    sta $6207,x ; E208 9D 07 62
    rts             ; E20B 60
; ----------------------------------------------------------------------------
    ora ($02,x) ; E20C 01 02
    tsb <$08     ; E20E 04 08
    bpl .L_E232   ; E210 10 20
    rti             ; E212 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; E213 01 02
    tsb <$08     ; E215 04 08
    bpl .L_E239   ; E217 10 20
    rti             ; E219 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; E21A 01 02
    tsb <$08     ; E21C 04 08
    bpl .L_E240   ; E21E 10 20
    rti             ; E220 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; E221 01 02
    tsb <$08     ; E223 04 08
    bpl .L_E247   ; E225 10 20
    rti             ; E227 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; E228 01 02
    tsb <$08     ; E22A 04 08
    bpl .L_E24E   ; E22C 10 20
    rti             ; E22E 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; E22F 01 02
    .byte   <$04     ; E231 04
.L_E232:
  php             ; E232 08
    bpl .L_E255   ; E233 10 20
    rti             ; E235 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; E236 01 02
    .byte   <$04     ; E238 04
.L_E239:
  php             ; E239 08
    bpl .L_E25C   ; E23A 10 20
    rti             ; E23C 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; E23D 01 02
    .byte   <$04     ; E23F 04
.L_E240:
  php             ; E240 08
    bpl .L_E263   ; E241 10 20
    rti             ; E243 40
; ----------------------------------------------------------------------------
    rmb0    <$07     ; E244 07
    rmb0    <$07     ; E245 07
    rmb0    <$07     ; E246 07
.L_E247:
  rmb0    <$07     ; E247 07
    rmb0    <$07     ; E248 07
    rmb0    <$07     ; E249 07
    rmb0    <$06     ; E24A 07
    asl <$06     ; E24B 06 06
    .byte   <$06     ; E24D 06
.L_E24E:
  asl <$06     ; E24E 06 06
    asl <$06     ; E250 06 06
    ora <$05     ; E252 05 05
    .byte   <$05     ; E254 05
.L_E255:
  ora <$05     ; E255 05 05
    ora <$05     ; E257 05 05
    tsb <$04     ; E259 04 04
    .byte   <$04     ; E25B 04
.L_E25C:
  tsb <$04     ; E25C 04 04
    tsb <$04     ; E25E 04 04
    .byte   <$03     ; E260 03
    .byte   <$03     ; E261 03
    .byte   <$03     ; E262 03
.L_E263:
  .byte   <$03     ; E263 03
    .byte   <$03     ; E264 03
    .byte   <$03     ; E265 03
    .byte   <$03     ; E266 03
    .byte   <$02     ; E267 02
    .byte   <$02     ; E268 02
    .byte   <$02     ; E269 02
    .byte   <$02     ; E26A 02
    .byte   <$02     ; E26B 02
    .byte   <$02     ; E26C 02
    .byte   <$02     ; E26D 02
    ora ($01,x) ; E26E 01 01
    ora ($01,x) ; E270 01 01
    ora ($01,x) ; E272 01 01
    ora ($00,x) ; E274 01 00
    brk             ; E276 00
    brk             ; E277 00
    brk             ; E278 00
    brk             ; E279 00
    brk             ; E27A 00
    brk             ; E27B 00
    ora <$15,x   ; E27C 15 15
    ora <$15,x   ; E27E 15 15
    ora <$15,x   ; E280 15 15
    ora <$12,x   ; E282 15 12
    ora ($12)   ; E284 12 12
    ora ($12)   ; E286 12 12
    ora ($12)   ; E288 12 12
    bbr0    $0F,.L_E29C                   ; E28A 0F 0F 0F
    bbr0    $0F,.L_E29F                   ; E28D 0F 0F 0F
    bbr0    $0C,.L_E29F                   ; E290 0F 0C 0C
    tsb $0C0C   ; E293 0C 0C 0C
    tsb $090C   ; E296 0C 0C 09
    ora #$09    ; E299 09 09
    .byte   <$09     ; E29B 09
.L_E29C:
  ora #$09    ; E29C 09 09
    .byte   <$09     ; E29E 09
.L_E29F:
  asl <$06     ; E29F 06 06
    asl <$06     ; E2A1 06 06
    asl <$06     ; E2A3 06 06
    asl <$03     ; E2A5 06 03
    .byte   <$03     ; E2A7 03
    .byte   <$03     ; E2A8 03
    .byte   <$03     ; E2A9 03
    .byte   <$03     ; E2AA 03
    .byte   <$03     ; E2AB 03
    .byte   <$03     ; E2AC 03
    brk             ; E2AD 00
    brk             ; E2AE 00
    brk             ; E2AF 00
    brk             ; E2B0 00
    brk             ; E2B1 00
    brk             ; E2B2 00
    brk             ; E2B3 00
    ldy #$17    ; E2B4 A0 17
    lda #$00    ; E2B6 A9 00
.L_E2B8:
  sta $7C00,y ; E2B8 99 00 7C
    dey             ; E2BB 88
    bpl .L_E2B8   ; E2BC 10 FA
    ldy #$00    ; E2BE A0 00
.L_E2C0:
  lda $A20C,y ; E2C0 B9 0C A2
    sta <$80     ; E2C3 85 80
    lda $A244,y ; E2C5 B9 44 A2
    ora <$7F     ; E2C8 05 7F
    tax             ; E2CA AA
    lda $6207,x ; E2CB BD 07 62
    and <$80     ; E2CE 25 80
    beq .L_E2D9   ; E2D0 F0 07
    sty <$80     ; E2D2 84 80
    jsr checkmagic                  ; E2D4 20 DF A2
    ldy <$80     ; E2D7 A4 80
.L_E2D9:
  iny             ; E2D9 C8
    cpy #$38    ; E2DA C0 38
    bcc .L_E2C0   ; E2DC 90 E2
    rts             ; E2DE 60
; ----------------------------------------------------------------------------
    tya             ; E2DF 98
    clc             ; E2E0 18
    adc #$C8    ; E2E1 69 C8
    ldx $A27C,y ; E2E3 BE 7C A2
    ldy $7C00,x ; E2E6 BC 00 7C
    beq .L_E2F2   ; E2E9 F0 07
    inx             ; E2EB E8
    ldy $7C00,x ; E2EC BC 00 7C
    beq .L_E2F2   ; E2EF F0 01
    inx             ; E2F1 E8
.L_E2F2:
  sta $7C00,x ; E2F2 9D 00 7C
    rts             ; E2F5 60
; ----------------------------------------------------------------------------
    pha             ; E2F6 48
    .byte   <$A2     ; E2F7 A2
; bank $3f
floor.getInputAndHandleEvent:
    ora <$20,x   ; E2F8 15 20
    sbc [$AA],y ; E2FA F1 AA
    pla             ; E2FC 68
    jsr menu.draw_window_content    ; E2FD 20 78 A6
    jsr .L_A305   ; E300 20 05 A3
    clc             ; E303 18
    rts             ; E304 60
; ----------------------------------------------------------------------------
    lda #$00    ; E305 A9 00
    sta <$24     ; E307 85 24
    sta <$25     ; E309 85 25
.L_E30B:
  jsr thunk_await_nmi_by_set_handler  ; E30B 20 00 FF
    jsr field.get_input             ; E30E 20 81 D2
    jsr field.call_sound_driver_and_restore_banks; E311 20 58 C7
    lda <$20     ; E314 A5 20
    bne .L_E30B   ; E316 D0 F3
.L_E318:
  jsr thunk_await_nmi_by_set_handler  ; E318 20 00 FF
    jsr field.get_input             ; E31B 20 81 D2
    jsr field.call_sound_driver_and_restore_banks; E31E 20 58 C7
    lda <$20     ; E321 A5 20
    beq .L_E318   ; E323 F0 F3
    sta <$21     ; E325 85 21
    rts             ; E327 60
; ----------------------------------------------------------------------------
    ldx #$07    ; E328 A2 07
    jsr menu.draw_window_box        ; E32A 20 F1 AA
    lda #$3B    ; E32D A9 3B
    jmp menu.draw_window_content    ; E32F 4C 78 A6
; ----------------------------------------------------------------------------
    ldx #$07    ; E332 A2 07
    jsr menu.get_window_content_metrics ; E334 20 A6 AA
    lda #$3B    ; E337 A9 3B
    jmp menu.draw_window_content    ; E339 4C 78 A6
; ----------------------------------------------------------------------------
    ldx <$63     ; E33C A6 63
    dec $60E0,x ; E33E DE E0 60
    bne .L_E348   ; E341 D0 05
    lda #$00    ; E343 A9 00
    sta $60C0,x ; E345 9D C0 60
.L_E348:
  rts             ; E348 60
; ----------------------------------------------------------------------------
    lda <$80     ; E349 A5 80
    sta <$08     ; E34B 85 08
    lda <$9E     ; E34D A5 9E
    sta <$09     ; E34F 85 09
    lda <$7F     ; E351 A5 7F
    sta <$0A     ; E353 85 0A
    rts             ; E355 60
; ----------------------------------------------------------------------------
    lda <$08     ; E356 A5 08
    sta <$80     ; E358 85 80
    lda <$09     ; E35A A5 09
    sta <$9E     ; E35C 85 9E
    lda <$0A     ; E35E A5 0A
    sta <$7F     ; E360 85 7F
    rts             ; E362 60
; ----------------------------------------------------------------------------
    ldx #$80    ; E363 A2 80
.L_E365:
  lda $7A00,x ; E365 BD 00 7A
    clc             ; E368 18
    adc #$01    ; E369 69 01
    sta $7900,x ; E36B 9D 00 79
    lda $7A01,x ; E36E BD 01 7A
    sta $7901,x ; E371 9D 01 79
    lda $7A02,x ; E374 BD 02 7A
    sta $7902,x ; E377 9D 02 79
    lda $7A03,x ; E37A BD 03 7A
    sta $7903,x ; E37D 9D 03 79
    txa             ; E380 8A
    sec             ; E381 38
    sbc #$04    ; E382 E9 04
    tax             ; E384 AA
    bcs .L_E365   ; E385 B0 DE
    lda $7AF1   ; E387 AD F1 7A
    sta $79F1   ; E38A 8D F1 79
    rts             ; E38D 60
; ----------------------------------------------------------------------------
    lda $79EB   ; E38E AD EB 79
    sta <$B4     ; E391 85 B4
    lda $79EC   ; E393 AD EC 79
; bank $3f
floor.fireOnMove:
    sta <$B5     ; E396 85 B5
    lda $79ED   ; E398 AD ED 79
    sta <$B6     ; E39B 85 B6
    lda $79EE   ; E39D AD EE 79
    sta <$B7     ; E3A0 85 B7
    lda $79EF   ; E3A2 AD EF 79
    sta <$B8     ; E3A5 85 B8
    rts             ; E3A7 60
; ----------------------------------------------------------------------------
    lda <$B4     ; E3A8 A5 B4
    sta $79EB   ; E3AA 8D EB 79
    lda <$B5     ; E3AD A5 B5
    sta $79EC   ; E3AF 8D EC 79
    lda <$B6     ; E3B2 A5 B6
    sta $79ED   ; E3B4 8D ED 79
    lda <$B7     ; E3B7 A5 B7
    sta $79EE   ; E3B9 8D EE 79
    lda <$B8     ; E3BC A5 B8
    sta $79EF   ; E3BE 8D EF 79
    rts             ; E3C1 60
; ----------------------------------------------------------------------------
    lda <$8B     ; E3C2 A5 8B
    cmp #$01    ; E3C4 C9 01
    bne .L_E3EE   ; E3C6 D0 26
    ldx <$7F     ; E3C8 A6 7F
    lda $6102,x ; E3CA BD 02 61
    and <$87     ; E3CD 25 87
    bne .L_E3D6   ; E3CF D0 05
.L_E3D1:
  jsr menu.queue_SE_of_invalid_action ; E3D1 20 29 D5
    sec             ; E3D4 38
    rts             ; E3D5 60
; ----------------------------------------------------------------------------
.L_E3D6:
  lda <$87     ; E3D6 A5 87
    and $6102,x ; E3D8 3D 02 61
    bpl .L_E3E2   ; E3DB 10 05
    lda #$01    ; E3DD A9 01
    sta $610C,x ; E3DF 9D 0C 61
.L_E3E2:
  lda <$87     ; E3E2 A5 87
    eor #$FF    ; E3E4 49 FF
    and $6102,x ; E3E6 3D 02 61
    sta $6102,x ; E3E9 9D 02 61
    clc             ; E3EC 18
    rts             ; E3ED 60
; ----------------------------------------------------------------------------
.L_E3EE:
  lda $6102   ; E3EE AD 02 61
    ora $6142   ; E3F1 0D 42 61
    ora $6182   ; E3F4 0D 82 61
    ora $61C2   ; E3F7 0D C2 61
    and <$87     ; E3FA 25 87
    beq .L_E3D1   ; E3FC F0 D3
    ldx #$00    ; E3FE A2 00
    jsr .L_A40F   ; E400 20 0F A4
    ldx #$40    ; E403 A2 40
    jsr .L_A40F   ; E405 20 0F A4
    ldx #$80    ; E408 A2 80
    jsr .L_A40F   ; E40A 20 0F A4
    ldx #$C0    ; E40D A2 C0
    lda $6102,x ; E40F BD 02 61
    and <$87     ; E412 25 87
    bne .L_E3D6   ; E414 D0 C0
    clc             ; E416 18
    rts             ; E417 60
; ----------------------------------------------------------------------------
    ldx <$7F     ; E418 A6 7F
.L_E41A:
  lda $6131,x ; E41A BD 31 61
    sta $6130,x ; E41D 9D 30 61
    inx             ; E420 E8
    inx             ; E421 E8
    txa             ; E422 8A
    and #$0F    ; E423 29 0F
    bne .L_E41A   ; E425 D0 F3
    clc             ; E427 18
    rts             ; E428 60
; ----------------------------------------------------------------------------
    ldx <$7F     ; E429 A6 7F
    lda $6102,x ; E42B BD 02 61
    cmp #$40    ; E42E C9 40
    bcs .L_E465   ; E430 B0 33
    lda <$83     ; E432 A5 83
    bne .L_E458   ; E434 D0 22
    lda <$81     ; E436 A5 81
    clc             ; E438 18
    adc $610C,x ; E439 7D 0C 61
    sta $610C,x ; E43C 9D 0C 61
    lda $610D,x ; E43F BD 0D 61
    adc <$82     ; E442 65 82
    sta $610D,x ; E444 9D 0D 61
    cmp $610F,x ; E447 DD 0F 61
    bcc .L_E465   ; E44A 90 19
    beq .L_E450   ; E44C F0 02
    bcs .L_E458   ; E44E B0 08
.L_E450:
  lda $610C,x ; E450 BD 0C 61
    cmp $610E,x ; E453 DD 0E 61
    bcc .L_E465   ; E456 90 0D
.L_E458:
  lda $610E,x ; E458 BD 0E 61
    sta $610C,x ; E45B 9D 0C 61
    lda $610F,x ; E45E BD 0F 61
    sta $610D,x ; E461 9D 0D 61
    clc             ; E464 18
.L_E465:
  rts             ; E465 60
; ----------------------------------------------------------------------------
    ldx <$0A     ; E466 A6 0A
    lda $6110,x ; E468 BD 10 61
    lsr a       ; E46B 4A
    lsr a       ; E46C 4A
    lsr a       ; E46D 4A
    lsr a       ; E46E 4A
    lsr a       ; E46F 4A
    sta <$8C     ; E470 85 8C
    lda $6101,x ; E472 BD 01 61
    lsr a       ; E475 4A
    lsr a       ; E476 4A
    lsr a       ; E477 4A
    lsr a       ; E478 4A
    clc             ; E479 18
    adc <$8C     ; E47A 65 8C
    sta <$8C     ; E47C 85 8C
    lda $611B,x ; E47E BD 1B 61
    lsr a       ; E481 4A
    lsr a       ; E482 4A
    lsr a       ; E483 4A
    lsr a       ; E484 4A
    sec             ; E485 38
    adc <$8C     ; E486 65 8C
    sta <$8C     ; E488 85 8C
    jsr .L_A4B5   ; E48A 20 B5 A4
    lda <$8C     ; E48D A5 8C
    sta <$80     ; E48F 85 80
    jsr .L_A4D4   ; E491 20 D4 A4
    lda <$8B     ; E494 A5 8B
    sta <$80     ; E496 85 80
    jsr .L_A500   ; E498 20 00 A5
    lda <$8B     ; E49B A5 8B
    cmp #$01    ; E49D C9 01
    bne .L_E4A4   ; E49F D0 03
    jmp .L_A429   ; E4A1 4C 29 A4
; ----------------------------------------------------------------------------
.L_E4A4:
  lda #$00    ; E4A4 A9 00
    sta <$7F     ; E4A6 85 7F
.L_E4A8:
  jsr .L_A429   ; E4A8 20 29 A4
    lda <$7F     ; E4AB A5 7F
    clc             ; E4AD 18
    adc #$40    ; E4AE 69 40
    sta <$7F     ; E4B0 85 7F
    bne .L_E4A8   ; E4B2 D0 F4
    rts             ; E4B4 60
; ----------------------------------------------------------------------------
    jsr field.getRandom             ; E4B5 20 11 C7
    lsr a       ; E4B8 4A
    sta <$81     ; E4B9 85 81
    lda #$00    ; E4BB A9 00
    sta <$82     ; E4BD 85 82
    lda <$8D     ; E4BF A5 8D
    sta <$80     ; E4C1 85 80
    jsr .L_A4D4   ; E4C3 20 D4 A4
    lda <$85     ; E4C6 A5 85
    clc             ; E4C8 18
    adc <$8D     ; E4C9 65 8D
    sta <$81     ; E4CB 85 81
    lda #$00    ; E4CD A9 00
    adc #$00    ; E4CF 69 00
    sta <$82     ; E4D1 85 82
    rts             ; E4D3 60
; ----------------------------------------------------------------------------
    lda #$00    ; E4D4 A9 00
    sta <$83     ; E4D6 85 83
    sta <$84     ; E4D8 85 84
    sta <$85     ; E4DA 85 85
    sta <$86     ; E4DC 85 86
.L_E4DE:
  lsr <$80     ; E4DE 46 80
    bcc .L_E4F5   ; E4E0 90 13
    lda <$84     ; E4E2 A5 84
    clc             ; E4E4 18
    adc <$81     ; E4E5 65 81
    sta <$84     ; E4E7 85 84
; bank $3f
floor.getEventSourceCoodinates:
    lda <$85     ; E4E9 A5 85
    adc <$82     ; E4EB 65 82
    sta <$85     ; E4ED 85 85
    lda <$86     ; E4EF A5 86
    adc <$83     ; E4F1 65 83
    sta <$86     ; E4F3 85 86
.L_E4F5:
  asl <$81     ; E4F5 06 81
    rol <$82     ; E4F7 26 82
    rol <$83     ; E4F9 26 83
    lda <$80     ; E4FB A5 80
    bne .L_E4DE   ; E4FD D0 DF
    rts             ; E4FF 60
; ----------------------------------------------------------------------------
    lda #$00    ; E500 A9 00
    sta <$81     ; E502 85 81
    sta <$82     ; E504 85 82
.L_E506:
  sta <$83     ; E506 85 83
    lda #$00    ; E508 A9 00
    ldx #$18    ; E50A A2 18
.L_E50C:
  asl <$81     ; E50C 06 81
    rol <$82     ; E50E 26 82
    rol <$83     ; E510 26 83
    asl <$84     ; E512 06 84
    rol <$85     ; E514 26 85
    rol <$86     ; E516 26 86
    rol a       ; E518 2A
    cmp <$80     ; E519 C5 80
    .byte   <$90     ; E51B 90
; bank $3f
floor.getChipEvent:
    tsb <$E5     ; E51C 04 E5
    bra .L_E506   ; E51E 80 E6
    sta ($CA,x) ; E520 81 CA
    bne .L_E50C   ; E522 D0 E8
    rts             ; E524 60
; ----------------------------------------------------------------------------
    pla             ; E525 68
    pla             ; E526 68
    pla             ; E527 68
    pla             ; E528 68
    jsr menu.main.erase             ; E529 20 85 A6
    jsr .L_C063   ; E52C 20 63 C0
    lda #$00    ; E52F A9 00
    sta $78F0   ; E531 8D F0 78
    lda #$00    ; E534 A9 00
    sta <$25     ; E536 85 25
    sta $2001   ; E538 8D 01 20
    sta $79F0   ; E53B 8D F0 79
    sta $7AF0   ; E53E 8D F0 7A
    jsr .L_DD06   ; E541 20 06 DD
    jsr .L_F7BB   ; E544 20 BB F7
    jsr field.init_sprites_cache    ; E547 20 86 C4
    jsr thunk_await_nmi_by_set_handler  ; E54A 20 00 FF
    lda #$02    ; E54D A9 02
    sta $4014   ; E54F 8D 14 40
    jsr .L_D308   ; E552 20 08 D3
    lda #$88    ; E555 A9 88
    sta <$FD     ; E557 85 FD
    sta <$FF     ; E559 85 FF
    jsr menu.init_ppu               ; E55B 20 9F 95
    lda #$FF    ; E55E A9 FF
    sta $7F49   ; E560 8D 49 7F
    lda #$3C    ; E563 A9 3C
    sta <$57     ; E565 85 57
    jsr .L_9599   ; E567 20 99 95
    lda #$01    ; E56A A9 01
    sta <$37     ; E56C 85 37
    ldx #$00    ; E56E A2 00
    stx <$A3     ; E570 86 A3
    stx <$A4     ; E572 86 A4
    stx <$B4     ; E574 86 B4
    lda #$30    ; E576 A9 30
    jsr menu.draw_window            ; E578 20 66 A6
    ldx #$01    ; E57B A2 01
    lda #$31    ; E57D A9 31
    jsr menu.draw_window            ; E57F 20 66 A6
    ldx #$02    ; E582 A2 02
    lda #$32    ; E584 A9 32
    jsr menu.draw_window            ; E586 20 66 A6
    ldx #$03    ; E589 A2 03
    lda #$33    ; E58B A9 33
    jsr menu.draw_window            ; E58D 20 66 A6
    ldx #$04    ; E590 A2 04
    lda #$34    ; E592 A9 34
    jsr menu.draw_window            ; E594 20 66 A6
    lda #$01    ; E597 A9 01
    sta <$A2     ; E599 85 A2
    lda <$2D     ; E59B A5 2D
    lsr a       ; E59D 4A
    bcc .L_E5A9   ; E59E 90 09
    lda $78F1   ; E5A0 AD F1 78
    sec             ; E5A3 38
    sbc #$04    ; E5A4 E9 04
    sta $78F1   ; E5A6 8D F1 78
.L_E5A9:
  jsr menu.render_cursor          ; E5A9 20 CD A7
    lda #$00    ; E5AC A9 00
    jsr menu.party_summary.put_pc_sprites; E5AE 20 00 80
    lda #$00    ; E5B1 A9 00
    jsr .L_80CB   ; E5B3 20 CB 80
    lda #$04    ; E5B6 A9 04
    jsr menu.window1.get_input_and_update_cursor; E5B8 20 A3 91
    lda <$25     ; E5BB A5 25
    beq .L_E5C2   ; E5BD F0 03
    jmp .L_A646   ; E5BF 4C 46 A6
; ----------------------------------------------------------------------------
.L_E5C2:
  lda <$24     ; E5C2 A5 24
    beq .L_E5A9   ; E5C4 F0 E3
    jsr menu.accept_input_action    ; E5C6 20 74 8F
    jsr .L_A654   ; E5C9 20 54 A6
    lda $78F0   ; E5CC AD F0 78
    bne .L_E5D7   ; E5CF D0 06
    jsr menu.items.main_loop        ; E5D1 20 C2 9E
    jmp .L_A567   ; E5D4 4C 67 A5
; ----------------------------------------------------------------------------
.L_E5D7:
  cmp #$04    ; E5D7 C9 04
    bne .L_E5EF   ; E5D9 D0 14
    jsr fieldMenu.selectCharacter   ; E5DB 20 B4 A6
    bcs .L_E5A9   ; E5DE B0 C9
    ldx <$7F     ; E5E0 A6 7F
    lda $6102,x ; E5E2 BD 02 61
    and #$C0    ; E5E5 29 C0
    bne .L_E622   ; E5E7 D0 39
    jsr menu.magic.main_loop        ; E5E9 20 61 97
    jmp .L_A567   ; E5EC 4C 67 A5
; ----------------------------------------------------------------------------
.L_E5EF:
  cmp #$08    ; E5EF C9 08
    bne .L_E5FE   ; E5F1 D0 0B
    jsr fieldMenu.selectCharacter   ; E5F3 20 B4 A6
    bcs .L_E5A9   ; E5F6 B0 B1
    jsr .L_9BB5   ; E5F8 20 B5 9B
    jmp .L_A567   ; E5FB 4C 67 A5
; ----------------------------------------------------------------------------
.L_E5FE:
  cmp #$0C    ; E5FE C9 0C
    bne .L_E60D   ; E600 D0 0B
    jsr fieldMenu.selectCharacter   ; E602 20 B4 A6
    bcs .L_E5A9   ; E605 B0 A2
    jsr .L_A83B   ; E607 20 3B A8
    jmp .L_A567   ; E60A 4C 67 A5
; ----------------------------------------------------------------------------
.L_E60D:
  cmp #$10    ; E60D C9 10
    bne .L_E617   ; E60F D0 06
    jsr .L_A696   ; E611 20 96 A6
    jmp .L_A5A9   ; E614 4C A9 A5
; ----------------------------------------------------------------------------
.L_E617:
  cmp #$14    ; E617 C9 14
    bne .L_E640   ; E619 D0 25
    lda $6021   ; E61B AD 21 60
    and #$1F    ; E61E 29 1F
    bne .L_E62C   ; E620 D0 0A
.L_E622:
  jsr menu.queue_SE_of_invalid_action ; E622 20 29 D5
    lda #$00    ; E625 A9 00
    sta <$A3     ; E627 85 A3
.L_E629:
  jmp .L_A5A9   ; E629 4C A9 A5
; ----------------------------------------------------------------------------
.L_E62C:
  jsr fieldMenu.selectCharacter   ; E62C 20 B4 A6
    bcs .L_E629   ; E62F B0 F8
    ldx <$7F     ; E631 A6 7F
    lda $6102,x ; E633 BD 02 61
    and #$C0    ; E636 29 C0
    bne .L_E622   ; E638 D0 E8
    jsr jobMenu.main                ; E63A 20 2F 96
    jmp .L_A534   ; E63D 4C 34 A5
; ----------------------------------------------------------------------------
.L_E640:
  jsr menu.savefile.main_loop     ; E640 20 97 A8
    jmp .L_A567   ; E643 4C 67 A5
; ----------------------------------------------------------------------------
    jsr menu.main.erase             ; E646 20 85 A6
    lda #$00    ; E649 A9 00
    sta $2001   ; E64B 8D 01 20
    jsr .L_A654   ; E64E 20 54 A6
    jmp .L_8F58   ; E651 4C 58 8F
; ----------------------------------------------------------------------------
    ldx #$00    ; E654 A2 00
.L_E656:
  lda $6102,x ; E656 BD 02 61
    and #$FE    ; E659 29 FE
    sta $6102,x ; E65B 9D 02 61
    txa             ; E65E 8A
    clc             ; E65F 18
    adc #$40    ; E660 69 40
    tax             ; E662 AA
    bne .L_E656   ; E663 D0 F1
    rts             ; E665 60
; ----------------------------------------------------------------------------
    pha             ; E666 48
    jsr menu.draw_window_box        ; E667 20 F1 AA
    pla             ; E66A 68
    sta <$92     ; E66B 85 92
    lda #$82    ; E66D A9 82
    sta <$95     ; E66F 85 95
    lda #$00    ; E671 A9 00
    sta <$94     ; E673 85 94
    jmp field.stream_string_in_window   ; E675 4C 65 EE
; ----------------------------------------------------------------------------
    sta <$92     ; E678 85 92
    lda #$82    ; E67A A9 82
    sta <$95     ; E67C 85 95
    lda #$00    ; E67E A9 00
    sta <$94     ; E680 85 94
    jmp field.load_and_draw_string  ; E682 4C 9A EE
; ----------------------------------------------------------------------------
    jsr field.init_sprites_cache    ; E685 20 86 C4
    jsr thunk_await_nmi_by_set_handler  ; E688 20 00 FF
    lda #$02    ; E68B A9 02
    sta $4014   ; E68D 8D 14 40
    jsr menu.init_ppu               ; E690 20 9F 95
    jmp menu.erase_box_1e_x_1c      ; E693 4C 65 F4
; ----------------------------------------------------------------------------
    lda #$00    ; E696 A9 00
    jsr fieldMenu.selectCharacter   ; E698 20 B4 A6
; bank $3f
floor.event05:
    bcs .L_E6B3   ; E69B B0 16
.L_E69D:
  ldx <$7F     ; E69D A6 7F
    lda $6102,x ; E69F BD 02 61
    and #$C0    ; E6A2 29 C0
    bne .L_E6AE   ; E6A4 D0 08
    lda $620F,x ; E6A6 BD 0F 62
    eor #$01    ; E6A9 49 01
    sta $620F,x ; E6AB 9D 0F 62
.L_E6AE:
  jsr .L_A6CD   ; E6AE 20 CD A6
    bcc .L_E69D   ; E6B1 90 EA
.L_E6B3:
  rts             ; E6B3 60
; ----------------------------------------------------------------------------
    lda #$00    ; E6B4 A9 00
    sta $79F0   ; E6B6 8D F0 79
    ldx #$0F    ; E6B9 A2 0F
.L_E6BB:
  lda $A705,x ; E6BB BD 05 A7
; bank $3f
floor.event07:
    sta $7900,x ; E6BE 9D 00 79
    dex             ; E6C1 CA
    bpl .L_E6BB   ; E6C2 10 F7
    lda #$10    ; E6C4 A9 10
    sta $79F1   ; E6C6 8D F1 79
    lda #$01    ; E6C9 A9 01
    sta <$A3     ; E6CB 85 A3
.L_E6CD:
  jsr menu.render_cursor          ; E6CD 20 CD A7
    lda #$00    ; E6D0 A9 00
    jsr menu.party_summary.put_pc_sprites; E6D2 20 00 80
    lda #$00    ; E6D5 A9 00
    jsr .L_80CB   ; E6D7 20 CB 80
    lda #$04    ; E6DA A9 04
    jsr menu.window2.get_input_and_update_cursor; E6DC 20 D9 91
    lda <$25     ; E6DF A5 25
    bne .L_E6FC   ; E6E1 D0 19
    lda <$24     ; E6E3 A5 24
    beq .L_E6CD   ; E6E5 F0 E6
    jsr menu.accept_input_action    ; E6E7 20 74 8F
    lda $79F0   ; E6EA AD F0 79
    lsr a       ; E6ED 4A
    lsr a       ; E6EE 4A
    ora #$10    ; E6EF 09 10
    sta <$9E     ; E6F1 85 9E
    lsr a       ; E6F3 4A
    ror a       ; E6F4 6A
    ror a       ; E6F5 6A
    and #$C0    ; E6F6 29 C0
    sta <$7F     ; E6F8 85 7F
    clc             ; E6FA 18
    rts             ; E6FB 60
; ----------------------------------------------------------------------------
.L_E6FC:
  lda #$00    ; E6FC A9 00
    sta <$A3     ; E6FE 85 A3
    jsr menu.accept_input_action    ; E700 20 74 8F
    sec             ; E703 38
    rts             ; E704 60
; ----------------------------------------------------------------------------
    ora ($05,x) ; E705 01 05
    brk             ; E707 00
    brk             ; E708 00
    ora ($0B,x) ; E709 01 0B
    brk             ; E70B 00
    brk             ; E70C 00
    ora ($11,x) ; E70D 01 11
    brk             ; E70F 00
    brk             ; E710 00
    ora ($17,x) ; E711 01 17
    brk             ; E713 00
    brk             ; E714 00
    lda #$00    ; E715 A9 00
    sta $79F0   ; E717 8D F0 79
    ldx #$0F    ; E71A A2 0F
.L_E71C:
  lda $A74F,x ; E71C BD 4F A7
    sta $7900,x ; E71F 9D 00 79
    dex             ; E722 CA
    bpl .L_E71C   ; E723 10 F7
    lda #$10    ; E725 A9 10
    sta $79F1   ; E727 8D F1 79
    lda #$01    ; E72A A9 01
    sta <$A3     ; E72C 85 A3
.L_E72E:
  jsr menu.render_cursor          ; E72E 20 CD A7
    lda #$03    ; E731 A9 03
    jsr menu.party_summary.put_pc_sprites; E733 20 00 80
    lda #$08    ; E736 A9 08
    jsr menu.window2.get_input_and_update_cursor; E738 20 D9 91
    lda <$25     ; E73B A5 25
    bne .L_E746   ; E73D D0 07
    lda <$24     ; E73F A5 24
    beq .L_E72E   ; E741 F0 EB
    jmp .L_A6E7   ; E743 4C E7 A6
; ----------------------------------------------------------------------------
.L_E746:
  lda #$00    ; E746 A9 00
    sta <$A3     ; E748 85 A3
    jsr menu.accept_input_action    ; E74A 20 74 8F
    sec             ; E74D 38
    rts             ; E74E 60
; ----------------------------------------------------------------------------
    ora ($17,x) ; E74F 01 17
    brk             ; E751 00
    brk             ; E752 00
    bbr0    $17,.L_E756                   ; E753 0F 17 00
.L_E756:
  brk             ; E756 00
    ora ($1A,x) ; E757 01 1A
    brk             ; E759 00
    brk             ; E75A 00
    bbr0    $1A,.L_E75E                   ; E75B 0F 1A 00
.L_E75E:
  brk             ; E75E 00
    lda #$00    ; E75F A9 00
    sta $79F0   ; E761 8D F0 79
    ldx #$0F    ; E764 A2 0F
.L_E766:
  lda $A74F,x ; E766 BD 4F A7
    sta $7900,x ; E769 9D 00 79
    dex             ; E76C CA
    bpl .L_E766   ; E76D 10 F7
    lda #$14    ; E76F A9 14
    sta $79F1   ; E771 8D F1 79
    lda #$01    ; E774 A9 01
    sta <$A3     ; E776 85 A3
.L_E778:
  jsr .L_A799   ; E778 20 99 A7
    lda #$03    ; E77B A9 03
    jsr menu.party_summary.put_pc_sprites; E77D 20 00 80
    lda #$08    ; E780 A9 08
    jsr menu.window2.get_input_and_update_cursor; E782 20 D9 91
    lda <$25     ; E785 A5 25
    bne .L_E790   ; E787 D0 07
    lda <$24     ; E789 A5 24
    beq .L_E778   ; E78B F0 EB
    jmp .L_A6E7   ; E78D 4C E7 A6
; ----------------------------------------------------------------------------
.L_E790:
  lda #$00    ; E790 A9 00
    sta <$A3     ; E792 85 A3
    jsr menu.accept_input_action    ; E794 20 74 8F
    sec             ; E797 38
    rts             ; E798 60
; ----------------------------------------------------------------------------
    lda $79F0   ; E799 AD F0 79
    clc             ; E79C 18
    adc #$04    ; E79D 69 04
    cmp $79F1   ; E79F CD F1 79
    bne .L_E7CD   ; E7A2 D0 29
    jsr thunk_await_nmi_by_set_handler  ; E7A4 20 00 FF
    lda #$02    ; E7A7 A9 02
    sta $4014   ; E7A9 8D 14 40
    jsr field.call_sound_driver_and_restore_banks; E7AC 20 58 C7
    jsr field.init_sprites_cache    ; E7AF 20 86 C4
    jsr menu.put_cursor_on_window1  ; E7B2 20 19 91
    inc <$F0     ; E7B5 E6 F0
    lda <$F0     ; E7B7 A5 F0
    and #$03    ; E7B9 29 03
    asl a       ; E7BB 0A
    asl a       ; E7BC 0A
    sta $79F0   ; E7BD 8D F0 79
    jsr menu.put_cursor_on_window2  ; E7C0 20 2A 91
    lda $79F1   ; E7C3 AD F1 79
    sec             ; E7C6 38
    sbc #$04    ; E7C7 E9 04
    sta $79F0   ; E7C9 8D F0 79
    rts             ; E7CC 60
; ----------------------------------------------------------------------------
.L_E7CD:
  jsr thunk_await_nmi_by_set_handler  ; E7CD 20 00 FF
    lda #$02    ; E7D0 A9 02
    sta $4014   ; E7D2 8D 14 40
    inc <$F0     ; E7D5 E6 F0
    jsr field.call_sound_driver_and_restore_banks; E7D7 20 58 C7
    jsr field.init_sprites_cache    ; E7DA 20 86 C4
    jsr menu.put_cursor_on_window1  ; E7DD 20 19 91
    jsr menu.put_cursor_on_window2  ; E7E0 20 2A 91
    jsr menu.put_cursor_on_window3  ; E7E3 20 4C 91
    ldx <$26     ; E7E6 A6 26
    bit <$B4     ; E7E8 24 B4
    bvc .L_E810   ; E7EA 50 24
; bank $3f
dungeon.loadFloor:
    lda <$B5     ; E7EC A5 B5
    asl a       ; E7EE 0A
    asl a       ; E7EF 0A
    asl a       ; E7F0 0A
    sta $0200,x ; E7F1 9D 00 02
    lda #$E8    ; E7F4 A9 E8
    sta $0201,x ; E7F6 9D 01 02
    lda #$83    ; E7F9 A9 83
    ldy <$37     ; E7FB A4 37
    bne .L_E801   ; E7FD D0 02
    lda #$80    ; E7FF A9 80
.L_E801:
  .byte   <$9D     ; E801 9D
    .byte   <$02     ; E802 02
; bank $3f
dungeon.loadFloorData:
    .byte   <$02     ; E803 02
    lda <$B6     ; E804 A5 B6
    asl a       ; E806 0A
    asl a       ; E807 0A
    asl a       ; E808 0A
    sta $0203,x ; E809 9D 03 02
    inx             ; E80C E8
    inx             ; E80D E8
    inx             ; E80E E8
    inx             ; E80F E8
.L_E810:
  bit <$B4     ; E810 24 B4
    bpl .L_E838   ; E812 10 24
    lda <$B7     ; E814 A5 B7
    asl a       ; E816 0A
    asl a       ; E817 0A
    asl a       ; E818 0A
    sta $0200,x ; E819 9D 00 02
    lda #$E8    ; E81C A9 E8
    sta $0201,x ; E81E 9D 01 02
    lda #$03    ; E821 A9 03
    ldy <$37     ; E823 A4 37
    bne .L_E829   ; E825 D0 02
    lda #$00    ; E827 A9 00
.L_E829:
  sta $0202,x ; E829 9D 02 02
    lda <$B8     ; E82C A5 B8
    asl a       ; E82E 0A
    asl a       ; E82F 0A
    asl a       ; E830 0A
    sta $0203,x ; E831 9D 03 02
    inx             ; E834 E8
    inx             ; E835 E8
    inx             ; E836 E8
    inx             ; E837 E8
.L_E838:
  stx <$26     ; E838 86 26
    rts             ; E83A 60
; ----------------------------------------------------------------------------
    jsr menu.init_input_states      ; E83B 20 92 95
    jsr menu.main.erase             ; E83E 20 85 A6
    jsr menu.upload_default_bg_attrs    ; E841 20 6F 95
    lda #$00    ; E844 A9 00
    sta <$A2     ; E846 85 A2
    sta <$A3     ; E848 85 A3
    jsr .L_A864   ; E84A 20 64 A8
.L_E84D:
  jsr menu.render_cursor          ; E84D 20 CD A7
    ldx <$7F     ; E850 A6 7F
    jsr .L_8129   ; E852 20 29 81
    jsr floor.getInputOrFireObjectEvent ; E855 20 19 D2
    lda <$24     ; E858 A5 24
    ora <$25     ; E85A 05 25
    beq .L_E84D   ; E85C F0 EF
    jsr menu.accept_input_action    ; E85E 20 74 8F
    jmp menu.main.erase             ; E861 4C 85 A6
; ----------------------------------------------------------------------------
    ldx #$1D    ; E864 A2 1D
    lda #$47    ; E866 A9 47
    jsr .L_A875   ; E868 20 75 A8
    ldx #$1C    ; E86B A2 1C
    jsr menu.draw_window_box        ; E86D 20 F1 AA
    lda #$37    ; E870 A9 37
    jmp menu.stream_window_content  ; E872 4C 6B A6
; ----------------------------------------------------------------------------
    pha             ; E875 48
    jsr menu.draw_window_box        ; E876 20 F1 AA
    pla             ; E879 68
    jsr field.load_label_text_into_buffer; E87A 20 B1 D1
    lda #$18    ; E87D A9 18
    sta <$93     ; E87F 85 93
    lda #$01    ; E881 A9 01
    sta <$3E     ; E883 85 3E
    lda #$7B    ; E885 A9 7B
    sta <$3F     ; E887 85 3F
    jmp field.reflect_window_scroll ; E889 4C 61 EB
; ----------------------------------------------------------------------------
.L_E88C:
  jsr menu.accept_input_action    ; E88C 20 74 8F
    lda #$18    ; E88F A9 18
    sta $78F0   ; E891 8D F0 78
    jmp menu.main.erase             ; E894 4C 85 A6
; ----------------------------------------------------------------------------
    lda $7F38   ; E897 AD 38 7F
    cmp #$55    ; E89A C9 55
    bne .L_E8A5   ; E89C D0 07
    lda $7F39   ; E89E AD 39 7F
    cmp #$AA    ; E8A1 C9 AA
    beq .L_E8B4   ; E8A3 F0 0F
.L_E8A5:
  lda #$55    ; E8A5 A9 55
    sta $7F38   ; E8A7 8D 38 7F
    lda #$AA    ; E8AA A9 AA
    sta $7F39   ; E8AC 8D 39 7F
    lda #$01    ; E8AF A9 01
    sta $7F3A   ; E8B1 8D 3A 7F
.L_E8B4:
  lda $7F3A   ; E8B4 AD 3A 7F
    sta $6014   ; E8B7 8D 14 60
    jsr .L_AE5C   ; E8BA 20 5C AE
    jsr menu.init_input_states      ; E8BD 20 92 95
    jsr menu.main.erase             ; E8C0 20 85 A6
    jsr menu.upload_default_bg_attrs    ; E8C3 20 6F 95
    lda #$00    ; E8C6 A9 00
    sta $2001   ; E8C8 8D 01 20
    jsr .L_DD06   ; E8CB 20 06 DD
    jsr thunk_await_nmi_by_set_handler  ; E8CE 20 00 FF
    lda #$02    ; E8D1 A9 02
    sta $4014   ; E8D3 8D 14 40
    jsr menu.init_ppu               ; E8D6 20 9F 95
    lda #$00    ; E8D9 A9 00
    sta <$A2     ; E8DB 85 A2
    sta <$A4     ; E8DD 85 A4
    lda #$01    ; E8DF A9 01
    sta <$A3     ; E8E1 85 A3
    lda #$00    ; E8E3 A9 00
    sta $79F0   ; E8E5 8D F0 79
    jsr menu.savefile.build_menu    ; E8E8 20 84 A9
.L_E8EB:
  jsr menu.render_cursor          ; E8EB 20 CD A7
    lda $79F0   ; E8EE AD F0 79
    lsr a       ; E8F1 4A
    lsr a       ; E8F2 4A
    and #$03    ; E8F3 29 03
    jsr .L_8241   ; E8F5 20 41 82
    lda #$04    ; E8F8 A9 04
    jsr menu.window2.get_input_and_update_cursor; E8FA 20 D9 91
    lda <$25     ; E8FD A5 25
    bne .L_E88C   ; E8FF D0 8B
    lda <$24     ; E901 A5 24
    beq .L_E8EB   ; E903 F0 E6
    jsr menu.accept_input_action    ; E905 20 74 8F
    lda #$4C    ; E908 A9 4C
    jsr menu.savefile.draw_message  ; E90A 20 96 A9
    lda #$01    ; E90D A9 01
    sta <$A2     ; E90F 85 A2
    lda #$00    ; E911 A9 00
    sta $78F0   ; E913 8D F0 78
.L_E916:
  .byte   <$20     ; E916 20
; bank $3f
floor.processChipEvent:
    cmp $ADA7   ; E917 CD A7 AD
    beq .L_E995   ; E91A F0 79
    lsr a       ; E91C 4A
    lsr a       ; E91D 4A
    and #$03    ; E91E 29 03
    jsr .L_8241   ; E920 20 41 82
    lda #$04    ; E923 A9 04
    jsr menu.window1.get_input_and_update_cursor; E925 20 A3 91
    lda <$25     ; E928 A5 25
    bne .L_E935   ; E92A D0 09
    lda <$24     ; E92C A5 24
    beq .L_E916   ; E92E F0 E6
    lda $78F0   ; E930 AD F0 78
    beq .L_E938   ; E933 F0 03
.L_E935:
  jmp menu.savefile.close         ; E935 4C 8C A8
; ----------------------------------------------------------------------------
.L_E938:
  lda #$4D    ; E938 A9 4D
    jsr menu.savefile.draw_message  ; E93A 20 96 A9
    lda $7F3A   ; E93D AD 3A 7F
    clc             ; E940 18
    adc #$01    ; E941 69 01
    cmp #$64    ; E943 C9 64
    bcc .L_E949   ; E945 90 02
    lda #$01    ; E947 A9 01
.L_E949:
  sta $7F3A   ; E949 8D 3A 7F
    lda $79F0   ; E94C AD F0 79
    and #$0C    ; E94F 29 0C
    clc             ; E951 18
    adc #$64    ; E952 69 64
    sta <$83     ; E954 85 83
    lda #$00    ; E956 A9 00
    sta <$80     ; E958 85 80
    sta <$82     ; E95A 85 82
    lda #$60    ; E95C A9 60
    sta <$81     ; E95E 85 81
    ldy #$00    ; E960 A0 00
.L_E962:
  lda [$80],y ; E962 B1 80
    sta [$82],y ; E964 91 82
    iny             ; E966 C8
    bne .L_E962   ; E967 D0 F9
    inc <$81     ; E969 E6 81
    inc <$83     ; E96B E6 83
    lda <$81     ; E96D A5 81
    and #$03    ; E96F 29 03
    bne .L_E962   ; E971 D0 EF
    jsr menu.savefile.draw_saved_file_summary; E973 20 67 AA
    jsr menu.await_new_input        ; E976 20 4B AA
.L_E979:
  lda #$4E    ; E979 A9 4E
    jsr menu.savefile.draw_message  ; E97B 20 96 A9
    jsr menu.await_new_input        ; E97E 20 4B AA
    .byte   <$4C     ; E981 4C
; bank $3f
OnTreasure:
    sty $A2A8   ; E982 8C A8 A2
    bbr0    $20,.L_E979                   ; E985 0F 20 F1
    tax             ; E988 AA
    lda #$38    ; E989 A9 38
    jsr menu.stream_window_content  ; E98B 20 6B A6
    jsr menu.savefile.build_file_menu   ; E98E 20 A0 A9
    lda #$4B    ; E991 A9 4B
    .byte   <$4C     ; E993 4C
    .byte   <$96     ; E994 96
.L_E995:
  lda #$48    ; E995 A9 48
    ldx #$10    ; E997 A2 10
    jsr menu.draw_window_box        ; E999 20 F1 AA
    pla             ; E99C 68
    jmp menu.draw_window_content    ; E99D 4C 78 A6
; ----------------------------------------------------------------------------
    clc             ; E9A0 18
    jsr menu.savefile.save_or_load_current_game_with_buffer; E9A1 20 18 AA
    lda #$00    ; E9A4 A9 00
    sta <$62     ; E9A6 85 62
    ldx #$11    ; E9A8 A2 11
    jsr menu.draw_window_box        ; E9AA 20 F1 AA
    lda #$64    ; E9AD A9 64
    jsr menu.savefile.draw_file_summary ; E9AF 20 E1 A9
    rol <$62     ; E9B2 26 62
    ldx #$12    ; E9B4 A2 12
    jsr menu.draw_window_box        ; E9B6 20 F1 AA
    lda #$68    ; E9B9 A9 68
; bank $3f
floor.getObjectEvent:
    jsr menu.savefile.draw_file_summary ; E9BB 20 E1 A9
    rol <$62     ; E9BE 26 62
    ldx #$13    ; E9C0 A2 13
    jsr menu.draw_window_box        ; E9C2 20 F1 AA
    lda #$6C    ; E9C5 A9 6C
    jsr menu.savefile.draw_file_summary ; E9C7 20 E1 A9
    rol <$62     ; E9CA 26 62
    sec             ; E9CC 38
    jsr menu.savefile.save_or_load_current_game_with_buffer; E9CD 20 18 AA
    ldx #$0F    ; E9D0 A2 0F
.L_E9D2:
  lda $AA3B,x ; E9D2 BD 3B AA
    sta $7900,x ; E9D5 9D 00 79
    dex             ; E9D8 CA
    bpl .L_E9D2   ; E9D9 10 F7
    lda #$0C    ; E9DB A9 0C
    sta $79F1   ; E9DD 8D F1 79
    rts             ; E9E0 60
; ----------------------------------------------------------------------------
    pha             ; E9E1 48
    lsr a       ; E9E2 4A
    lsr a       ; E9E3 4A
    and #$03    ; E9E4 29 03
    jsr .L_AE97   ; E9E6 20 97 AE
    bcc .L_E9EE   ; E9E9 90 03
    pla             ; E9EB 68
    clc             ; E9EC 18
    rts             ; E9ED 60
; ----------------------------------------------------------------------------
.L_E9EE:
  pla             ; E9EE 68
    jsr menu.savefile.load_game_at  ; E9EF 20 F9 A9
    lda #$25    ; E9F2 A9 25
    jsr menu.stream_window_content  ; E9F4 20 6B A6
    sec             ; E9F7 38
    rts             ; E9F8 60
; ----------------------------------------------------------------------------
    sta <$83     ; E9F9 85 83
    lda #$00    ; E9FB A9 00
    tay             ; E9FD A8
    sta <$80     ; E9FE 85 80
    sta <$82     ; EA00 85 82
    lda #$60    ; EA02 A9 60
; bank $3f
floor.loadEventScriptStream:
    sta <$81     ; EA04 85 81
.L_EA06:
  lda [$82],y ; EA06 B1 82
    sta [$80],y ; EA08 91 80
    iny             ; EA0A C8
    bne .L_EA06   ; EA0B D0 F9
    inc <$83     ; EA0D E6 83
    inc <$81     ; EA0F E6 81
    lda <$81     ; EA11 A5 81
    and #$03    ; EA13 29 03
    bne .L_EA06   ; EA15 D0 EF
    rts             ; EA17 60
; ----------------------------------------------------------------------------
    lda #$00    ; EA18 A9 00
    tay             ; EA1A A8
; bank $3f
floor.cache_event_script:
    sta <$80     ; EA1B 85 80
    sta <$82     ; EA1D 85 82
    lda #$60    ; EA1F A9 60
    sta <$81     ; EA21 85 81
    lda #$74    ; EA23 A9 74
    .byte   <$85     ; EA25 85
; bank $3f
floor.getEvent:
    .byte   <$83     ; EA26 83
    bcs .L_EA06   ; EA27 B0 DD
.L_EA29:
  lda [$80],y ; EA29 B1 80
    sta [$82],y ; EA2B 91 82
    iny             ; EA2D C8
    bne .L_EA29   ; EA2E D0 F9
    inc <$81     ; EA30 E6 81
    inc <$83     ; EA32 E6 83
    lda <$81     ; EA34 A5 81
    and #$03    ; EA36 29 03
    bne .L_EA29   ; EA38 D0 EF
    rts             ; EA3A 60
; ----------------------------------------------------------------------------
    ora ($07,x) ; EA3B 01 07
    brk             ; EA3D 00
    brk             ; EA3E 00
    ora ($0F,x) ; EA3F 01 0F
    brk             ; EA41 00
    brk             ; EA42 00
    ora ($17,x) ; EA43 01 17
    brk             ; EA45 00
    brk             ; EA46 00
    ora ($02,x) ; EA47 01 02
    brk             ; EA49 00
    brk             ; EA4A 00
.L_EA4B:
  jsr menu.await_nmi_with_sound   ; EA4B 20 60 AA
    jsr field.get_input             ; EA4E 20 81 D2
    lda <$20     ; EA51 A5 20
    bne .L_EA4B   ; EA53 D0 F6
.L_EA55:
  jsr menu.await_nmi_with_sound   ; EA55 20 60 AA
    jsr field.get_input             ; EA58 20 81 D2
    lda <$20     ; EA5B A5 20
    beq .L_EA55   ; EA5D F0 F6
    rts             ; EA5F 60
; ----------------------------------------------------------------------------
    jsr thunk_await_nmi_by_set_handler  ; EA60 20 00 FF
    jsr field.call_sound_driver_and_restore_banks; EA63 20 58 C7
    rts             ; EA66 60
; ----------------------------------------------------------------------------
    lda #$00    ; EA67 A9 00
    sta <$A3     ; EA69 85 A3
    sta <$A2     ; EA6B 85 A2
    jsr menu.render_cursor          ; EA6D 20 CD A7
    lda $79F0   ; EA70 AD F0 79
    lsr a       ; EA73 4A
    lsr a       ; EA74 4A
    and #$03    ; EA75 29 03
    pha             ; EA77 48
    clc             ; EA78 18
    adc #$11    ; EA79 69 11
    tax             ; EA7B AA
    jsr menu.draw_window_box        ; EA7C 20 F1 AA
    lda #$25    ; EA7F A9 25
    jsr menu.stream_window_content  ; EA81 20 6B A6
    pla             ; EA84 68
    clc             ; EA85 18
    adc #$01    ; EA86 69 01
    jsr menu.party_summary.put_pc_sprites; EA88 20 00 80
    jmp menu.render_cursor          ; EA8B 4C CD A7
; ----------------------------------------------------------------------------
    jsr menu.erase_message_area     ; EA8E 20 4B F4
    ldx #$06    ; EA91 A2 06
    jsr menu.draw_window_top        ; EA93 20 A0 AA
    ldx #$05    ; EA96 A2 05
    jsr menu.draw_window_box        ; EA98 20 F1 AA
    lda #$35    ; EA9B A9 35
    jmp menu.draw_window_content    ; EA9D 4C 78 A6
; ----------------------------------------------------------------------------
    jsr menu.get_window_metrics     ; EAA0 20 BC AA
    jmp field.draw_window_top       ; EAA3 4C E5 EC
; ----------------------------------------------------------------------------
    jsr menu.get_window_metrics     ; EAA6 20 BC AA
    inc <$38     ; EAA9 E6 38
    inc <$39     ; EAAB E6 39
    lda <$3C     ; EAAD A5 3C
    sec             ; EAAF 38
    sbc #$02    ; EAB0 E9 02
    sta <$3C     ; EAB2 85 3C
    lda <$3D     ; EAB4 A5 3D
    sec             ; EAB6 38
    sbc #$02    ; EAB7 E9 02
    sta <$3D     ; EAB9 85 3D
    rts             ; EABB 60
; ----------------------------------------------------------------------------
    lda field.menu_window_metrics,x ; EABC BD F7 AA
    sta <$B6     ; EABF 85 B6
    sta <$38     ; EAC1 85 38
    sec             ; EAC3 38
    sbc #$01    ; EAC4 E9 01
    sta <$97     ; EAC6 85 97
    lda $AB1D,x ; EAC8 BD 1D AB
    sta <$39     ; EACB 85 39
    clc             ; EACD 18
    adc #$02    ; EACE 69 02
    sta <$B5     ; EAD0 85 B5
    dec <$B5     ; EAD2 C6 B5
    sta <$98     ; EAD4 85 98
    lda $AB43,x ; EAD6 BD 43 AB
    sta <$3C     ; EAD9 85 3C
    clc             ; EADB 18
    adc <$B6     ; EADC 65 B6
    sec             ; EADE 38
    sbc #$01    ; EADF E9 01
    sta <$B8     ; EAE1 85 B8
    lda $AB69,x ; EAE3 BD 69 AB
    sta <$3D     ; EAE6 85 3D
    clc             ; EAE8 18
    adc <$B5     ; EAE9 65 B5
    sec             ; EAEB 38
    sbc #$03    ; EAEC E9 03
    sta <$B7     ; EAEE 85 B7
    rts             ; EAF0 60
; ----------------------------------------------------------------------------
    jsr menu.get_window_metrics     ; EAF1 20 BC AA
    jmp field.draw_window_box       ; EAF4 4C 02 ED
; ----------------------------------------------------------------------------
    ora ($17,x) ; EAF7 01 17
    rmb1    <$09     ; EAF9 17
    ora #$11    ; EAFA 09 11
    ora ($01,x) ; EAFC 01 01
    ora ($09,x) ; EAFE 01 09
    clc             ; EB00 18
    ora ($01,x) ; EB01 01 01
    ora ($19,x) ; EB03 01 19
    ora ($01,x) ; EB05 01 01
    php             ; EB07 08
    ora ($01,x) ; EB08 01 01
    ora ($02,x) ; EB0A 01 02
    ora #$02    ; EB0C 09 02
    bpl .L_EB12   ; EB0E 10 02
    ora ($07,x) ; EB10 01 07
.L_EB12:
  ora ($01,x) ; EB12 01 01
    ora ($01,x) ; EB14 01 01
    ora ($02,x) ; EB16 01 02
    bpl .L_EB21   ; EB18 10 07
    tsb <$01     ; EB1A 04 01
    ora ($01,x) ; EB1C 01 01
    ora ($12,x) ; EB1E 01 12
    inc a       ; EB20 1A
.L_EB21:
  inc a       ; EB21 1A
    .byte   <$01     ; EB22 01
; bank $3f
switch_to_object_params_bank:
    tsb <$15     ; EB23 04 15
    ora ($01,x) ; EB25 01 01
    .byte   <$01     ; EB27 01
; bank $3f
switch_to_floor_logics_bank:
    .byte   <$0B     ; EB28 0B
    ora ($01,x) ; EB29 01 01
    ora <$01     ; EB2B 05 01
; bank $3f
field.scrolldown_item_window:
    ora ($05,x) ; EB2D 01 05
    ora $0215   ; EB2F 0D 15 02
    .byte   <$02     ; EB32 02
    asl <$06     ; EB33 06 06
    asl a       ; EB35 0A
    asl a       ; EB36 0A
    ora ($06,x) ; EB37 01 06
    ora ($01,x) ; EB39 01 01
    php             ; EB3B 08
; bank $3f
field.abort_item_window_scroll:
    ora ($08)   ; EB3C 12 08
    ora ($03,x) ; EB3E 01 03
    .byte   <$0B     ; EB40 0B
    ora ($01,x) ; EB41 01 01
; bank $3f
field.do_scrolldown_item_window:
    asl <$08,x   ; EB43 16 08
    php             ; EB45 08
    php             ; EB46 08
    tsb $1E08   ; EB47 0C 08 1E
    asl $070A,x ; EB4A 1E 0A 07
    asl $121E,x ; EB4D 1E 1E 12
    asl <$1E     ; EB50 06 1E
    rmb0    <$17     ; EB52 07
    rmb1    <$1E     ; EB53 17
    asl $1E1E,x ; EB54 1E 1E 1E
    php             ; EB57 08
    ora <$0E,x   ; EB58 15 0E
    asl $1E16   ; EB5A 0E 16 1E
    clc             ; EB5D 18
    ora ($09)   ; EB5E 12 09
    .byte   <$1E     ; EB60 1E
; bank $3f
field.reflect_window_scroll:
    .byte   <$13     ; EB61 13
    ora ($1C)   ; EB62 12 1C
    bbr0    $12,.L_EB7F                   ; EB64 0F 12 18
    .byte   <$1E     ; EB67 1E
    .byte   <$1E     ; EB68 1E
; bank $3f
field.scrollup_item_window:
    .byte   <$1B     ; EB69 1B
    ora [$09],y ; EB6A 11 09
    .byte   <$03     ; EB6C 03
    .byte   <$03     ; EB6D 03
    tsb <$12     ; EB6E 04 12
    php             ; EB70 08
    tsb <$04     ; EB71 04 04
    .byte   <$0B     ; EB73 0B
    ora ($04)   ; EB74 12 04
    tsb <$18     ; EB76 04 18
    tsb <$04     ; EB78 04 04
    php             ; EB7A 08
    php             ; EB7B 08
    php             ; EB7C 08
    tsb <$04     ; EB7D 04 04
.L_EB7F:
  tsb <$04     ; EB7F 04 04
    ora ($12)   ; EB81 12 12
    tsb <$04     ; EB83 04 04
    tsb <$1C     ; EB85 04 1C
    tsb <$04     ; EB87 04 04
    asl <$04     ; EB89 06 04
    asl <$0E     ; EB8B 06 0E
    tsb <$1C     ; EB8D 04 1C
    jsr getJobParameter             ; EB8F 20 F2 AD
    ldx <$8F     ; EB92 A6 8F
    lda $601B   ; EB94 AD 1B 60
    sec             ; EB97 38
    sbc $7200,x ; EB98 FD 00 72
    sta $601B   ; EB9B 8D 1B 60
    ldx <$7F     ; EB9E A6 7F
    lda $6100,x ; EBA0 BD 00 61
    asl a       ; EBA3 0A
    ora <$7F     ; EBA4 05 7F
    tay             ; EBA6 A8
    .byte   <$BD     ; EBA7 BD
    .byte   <$10     ; EBA8 10
; bank $3f
field.seek_text_to_next_line:
    adc ($99,x) ; EBA9 61 99
    bpl .L_EC0F   ; EBAB 10 62
    lda $6111,x ; EBAD BD 11 61
    sta $6211,y ; EBB0 99 11 62
    lda <$8F     ; EBB3 A5 8F
    sta $6100,x ; EBB5 9D 00 61
    lda <$8F     ; EBB8 A5 8F
    asl a       ; EBBA 0A
    ora <$7F     ; EBBB 05 7F
    tay             ; EBBD A8
    lda $6210,y ; EBBE B9 10 62
    .byte   <$9D     ; EBC1 9D
.L_EBC2:
  bpl $EC25   ; EBC2 10 61
    lda $6211,y ; EBC4 B9 11 62
    sta $6111,x ; EBC7 9D 11 61
    lda $7C02   ; EBCA AD 02 7C
    sta $6112,x ; EBCD 9D 12 61
    .byte   <$AD     ; EBD0 AD
; bank $3f
field.unseek_text_to_line_beginning:
    .byte   <$03     ; EBD1 03
    jmp (.L_139D,x)                   ; EBD2 7C 9D 13
    adc ($AD,x) ; EBD5 61 AD
    tsb <$7C     ; EBD7 04 7C
    sta $6114,x ; EBD9 9D 14 61
    lda $7C05   ; EBDC AD 05 7C
    sta $6115,x ; EBDF 9D 15 61
    lda $7C06   ; EBE2 AD 06 7C
.L_EBE5:
  sta $6116,x ; EBE5 9D 16 61
    lda $6102,x ; EBE8 BD 02 61
    ora #$01    ; EBEB 09 01
    sta $6102,x ; EBED 9D 02 61
    lda $7C07   ; EBF0 AD 07 7C
    asl a       ; EBF3 0A
    asl a       ; EBF4 0A
    asl a       ; EBF5 0A
    tay             ; EBF6 A8
    lda $9B88,y ; EBF7 B9 88 9B
    sta $6131,x ; EBFA 9D 31 61
    lda $9B89,y ; EBFD B9 89 9B
    sta $6133,x ; EC00 9D 33 61
    lda $9B8A,y ; EC03 B9 8A 9B
    sta $6135,x ; EC06 9D 35 61
    lda $9B8B,y ; EC09 B9 8B 9B
; bank $3f
field.show_sprites_on_lower_half_screen:
    sta $6137,x ; EC0C 9D 37 61
.L_EC0F:
  lda $9B8C,y ; EC0F B9 8C 9B
; bank $3f
field.show_sprites_on_region7:
    sta $6139,x ; EC12 9D 39 61
    lda $9B8D,y ; EC15 B9 8D 9B
; bank $3f
field.hide_sprites_under_window:
    .byte   <$9D     ; EC18 9D
    .byte   <$3B     ; EC19 3B
; bank $3f
field.showhide_sprites_by_region:
    adc ($B9,x) ; EC1A 61 B9
    stx .L_9D9B   ; EC1C 8E 9B 9D
    and $B961,x ; EC1F 3D 61 B9
    bbs0    $9B,.L_EBC2                   ; EC22 8F 9B 9D
    bbr3    $61,.L_EBE5                   ; EC25 3F 61 BD
    ora ($61,x) ; EC28 01 61
    sta <$87     ; EC2A 85 87
    bne .L_EC31   ; EC2C D0 03
    jmp .L_AD1E   ; EC2E 4C 1E AD
; ----------------------------------------------------------------------------
.L_EC31:
  lda $6100,x ; EC31 BD 00 61
    asl a       ; EC34 0A
    tay             ; EC35 A8
    lda $AD59,y ; EC36 B9 59 AD
    sta <$80     ; EC39 85 80
    lda $AD5A,y ; EC3B B9 5A AD
    sta <$81     ; EC3E 85 81
    lda <$87     ; EC40 A5 87
    sec             ; EC42 38
    sbc #$01    ; EC43 E9 01
    asl a       ; EC45 0A
    tay             ; EC46 A8
    lda [$80],y ; EC47 B1 80
    sta <$82     ; EC49 85 82
    and #$07    ; EC4B 29 07
    sta <$84     ; EC4D 85 84
    iny             ; EC4F C8
    lda [$80],y ; EC50 B1 80
    sta <$83     ; EC52 85 83
    lda <$82     ; EC54 A5 82
    and #$80    ; EC56 29 80
    beq .L_EC63   ; EC58 F0 09
    lda $6112,x ; EC5A BD 12 61
    jsr .L_AD45   ; EC5D 20 45 AD
    sta $6112,x ; EC60 9D 12 61
.L_EC63:
  lda <$82     ; EC63 A5 82
    and #$40    ; EC65 29 40
; bank $3f
u8: beq .L_EC72   ; EC67 F0 09
    lda $6113,x ; EC69 BD 13 61
    jsr .L_AD45   ; EC6C 20 45 AD
    sta $6113,x ; EC6F 9D 13 61
.L_EC72:
  lda <$82     ; EC72 A5 82
    and #$20    ; EC74 29 20
    beq .L_EC81   ; EC76 F0 09
    lda $6114,x ; EC78 BD 14 61
    jsr .L_AD45   ; EC7B 20 45 AD
    sta $6114,x ; EC7E 9D 14 61
.L_EC81:
  lda <$82     ; EC81 A5 82
; bank $3f
field.show_message_UNKNOWN:
    and #$10    ; EC83 29 10
.L_EC85:
  beq .L_EC90   ; EC85 F0 09
    lda $6115,x ; EC87 BD 15 61
    .byte   <$20     ; EC8A 20
; bank $3f
field.show_message_window:
    eor <$AD     ; EC8B 45 AD
; bank $3f
field.show_window:
    sta $6115,x ; EC8D 9D 15 61
.L_EC90:
  lda <$82     ; EC90 A5 82
    and #$08    ; EC92 29 08
    beq .L_EC9F   ; EC94 F0 09
    lda $6116,x ; EC96 BD 16 61
    jsr .L_AD45   ; EC99 20 45 AD
    sta $6116,x ; EC9C 9D 16 61
.L_EC9F:
  lda <$83     ; EC9F A5 83
    and #$80    ; ECA1 29 80
    beq .L_ECAE   ; ECA3 F0 09
    lda $613F,x ; ECA5 BD 3F 61
    jsr .L_AD4F   ; ECA8 20 4F AD
; bank $3f
field.await_and_get_new_input:
    sta $613F,x ; ECAB 9D 3F 61
.L_ECAE:
  lda <$83     ; ECAE A5 83
    and #$40    ; ECB0 29 40
    beq field.get_next_input        ; ECB2 F0 09
    lda $613D,x ; ECB4 BD 3D 61
    jsr .L_AD4F   ; ECB7 20 4F AD
    sta $613D,x ; ECBA 9D 3D 61
; bank $3f
field.get_next_input:
    lda <$83     ; ECBD A5 83
    and #$20    ; ECBF 29 20
    beq .L_ECCC   ; ECC1 F0 09
    .byte   <$BD     ; ECC3 BD
; bank $3f
field.get_next_input:
    .byte   <$3B     ; ECC4 3B
    adc ($20,x) ; ECC5 61 20
    bbr4    $AD,u8  ; ECC7 4F AD 9D
    .byte   <$3B     ; ECCA 3B
    .byte   <$61     ; ECCB 61
.L_ECCC:
  lda <$83     ; ECCC A5 83
    and #$10    ; ECCE 29 10
    beq .L_ECDB   ; ECD0 F0 09
    lda $6139,x ; ECD2 BD 39 61
    jsr .L_AD4F   ; ECD5 20 4F AD
; bank $3f
field.advance_frame_with_sound:
    sta $6139,x ; ECD8 9D 39 61
.L_ECDB:
  lda <$83     ; ECDB A5 83
    and #$08    ; ECDD 29 08
    beq .L_ECEA   ; ECDF F0 09
    lda $6137,x ; ECE1 BD 37 61
    .byte   <$20     ; ECE4 20
; bank $3f
field.draw_window_top:
    bbr4    $AD,.L_EC85                   ; ECE5 4F AD 9D
    rmb3    <$61     ; ECE8 37
    .byte   <$61     ; ECE9 61
.L_ECEA:
  lda <$83     ; ECEA A5 83
    and #$04    ; ECEC 29 04
    beq .L_ECF9   ; ECEE F0 09
    lda $6135,x ; ECF0 BD 35 61
    .byte   <$20     ; ECF3 20
    .byte   <$4F     ; ECF4 4F
; bank $3f
restore_banks_by_$57:
    lda $359D   ; ECF5 AD 9D 35
    .byte   <$61     ; ECF8 61
.L_ECF9:
  .byte   <$A5     ; ECF9 A5
; bank $3f
field.draw_in_place_window:
    .byte   <$83     ; ECFA 83
    and #$02    ; ECFB 29 02
    beq .L_ED08   ; ECFD F0 09
    lda $6133,x ; ECFF BD 33 61
; bank $3f
field.draw_window_box:
    jsr .L_AD4F   ; ED02 20 4F AD
    sta $6133,x ; ED05 9D 33 61
.L_ED08:
  lda <$83     ; ED08 A5 83
    and #$01    ; ED0A 29 01
    beq .L_ED17   ; ED0C F0 09
    lda $6131,x ; ED0E BD 31 61
    jsr .L_AD4F   ; ED11 20 4F AD
    sta $6131,x ; ED14 9D 31 61
.L_ED17:
  dec <$87     ; ED17 C6 87
    beq .L_ED1E   ; ED19 F0 03
    jmp .L_AC31   ; ED1B 4C 31 AC
; ----------------------------------------------------------------------------
.L_ED1E:
  stx <$80     ; ED1E 86 80
    ldy #$05    ; ED20 A0 05
.L_ED22:
  lda $6112,x ; ED22 BD 12 61
    sta $6117,x ; ED25 9D 17 61
    inx             ; ED28 E8
    dey             ; ED29 88
    bne .L_ED22   ; ED2A D0 F6
    ldx <$80     ; ED2C A6 80
    ldy #$08    ; ED2E A0 08
.L_ED30:
  lda $6131,x ; ED30 BD 31 61
    cmp $6130,x ; ED33 DD 30 61
    bcs .L_ED3B   ; ED36 B0 03
    sta $6130,x ; ED38 9D 30 61
.L_ED3B:
  inx             ; ED3B E8
    inx             ; ED3C E8
    dey             ; ED3D 88
    bne .L_ED30   ; ED3E D0 F0
    lda #$3C    ; ED40 A9 3C
    jmp call_switch1stBank          ; ED42 4C 06 FF
; ----------------------------------------------------------------------------
    clc             ; ED45 18
    adc <$84     ; ED46 65 84
    cmp #$63    ; ED48 C9 63
    bcc .L_ED4E   ; ED4A 90 02
    lda #$63    ; ED4C A9 63
.L_ED4E:
  rts             ; ED4E 60
; ----------------------------------------------------------------------------
    clc             ; ED4F 18
    adc #$01    ; ED50 69 01
    cmp #$63    ; ED52 C9 63
    bcc .L_ED58   ; ED54 90 02
; bank $3f
field.init_window_attr_buffer:
    lda #$63    ; ED56 A9 63
.L_ED58:
  rts             ; ED58 60
; ----------------------------------------------------------------------------
    dec <$81,x   ; ED59 D6 81
    txs             ; ED5B 9A
    .byte   <$82     ; ED5C 82
    lsr $2283,x ; ED5D 5E 83 22
    .byte   <$84     ; ED60 84
; bank $3f
field.get_window_region:
    inc <$84     ; ED61 E6 84
    tax             ; ED63 AA
    sta <$6E     ; ED64 85 6E
    stx <$32     ; ED66 86 32
    smb0    <$F6     ; ED68 87
    inc <$87,x   ; ED69 F6 87
    tsx             ; ED6B BA
    dey             ; ED6C 88
    ror $4289,x ; ED6D 7E 89 42
    txa             ; ED70 8A
    asl <$8B     ; ED71 06 8B
    dex             ; ED73 CA
    .byte   <$8B     ; ED74 8B
.L_ED75:
  stx $528C   ; ED75 8E 8C 52
    sta $8E16   ; ED78 8D 16 8E
    phx             ; ED7B DA
    stx $8F9E   ; ED7C 8E 9E 8F
    .byte   <$62     ; ED7F 62
    bcc .L_EDA8   ; ED80 90 26
    sta [$EA],y ; ED82 91 EA
    sta [$A9],y ; ED84 91 A9
    brk             ; ED86 00
    .byte   <$85     ; ED87 85
.L_ED88:
  bbs0    $20,$20 ; ED88 8F 20 F2
    lda a:$AD   ; ED8B AD AD 00
    jmp ($4A4A,x)                   ; ED8E 7C 4A 4A
    lsr a       ; ED91 4A
    lsr a       ; ED92 4A
    sta <$80     ; ED93 85 80
    lda $7C08   ; ED95 AD 08 7C
    lsr a       ; ED98 4A
    lsr a       ; ED99 4A
    lsr a       ; ED9A 4A
    lsr a       ; ED9B 4A
    sec             ; ED9C 38
    sbc <$80     ; ED9D E5 80
    bpl .L_EDA6   ; ED9F 10 05
    eor #$FF    ; EDA1 49 FF
    clc             ; EDA3 18
    adc #$01    ; EDA4 69 01
.L_EDA6:
  sta <$80     ; EDA6 85 80
.L_EDA8:
  lda $7C00   ; EDA8 AD 00 7C
    and #$0F    ; EDAB 29 0F
    sta <$81     ; EDAD 85 81
    lda $7C08   ; EDAF AD 08 7C
    and #$0F    ; EDB2 29 0F
    sec             ; EDB4 38
    sbc <$81     ; EDB5 E5 81
    bpl .L_EDBE   ; EDB7 10 05
    eor #$FF    ; EDB9 49 FF
    clc             ; EDBB 18
    adc #$01    ; EDBC 69 01
.L_EDBE:
  sta <$81     ; EDBE 85 81
    lda <$80     ; EDC0 A5 80
    clc             ; EDC2 18
    adc <$81     ; EDC3 65 81
    .byte   <$85     ; EDC5 85
; bank $3f
field.draw_window_row:
    .byte   <$82     ; EDC6 82
    lda <$8F     ; EDC7 A5 8F
    asl a       ; EDC9 0A
    ora <$7F     ; EDCA 05 7F
    tax             ; EDCC AA
    lda $6210,x ; EDCD BD 10 62
    sta <$83     ; EDD0 85 83
    lda <$82     ; EDD2 A5 82
    asl a       ; EDD4 0A
    asl a       ; EDD5 0A
    sec             ; EDD6 38
    sbc <$83     ; EDD7 E5 83
    bcs .L_EDDD   ; EDD9 B0 02
    lda #$00    ; EDDB A9 00
.L_EDDD:
  ldx <$8F     ; EDDD A6 8F
    .byte   <$9D     ; EDDF 9D
    brk             ; EDE0 00
; bank $3f
field.sync_ppu_scroll:
    adc ($E6)   ; EDE1 72 E6
    bbs0    $A5,.L_ED75                   ; EDE3 8F A5 8F
    cmp #$17    ; EDE6 C9 17
    bcs .L_EDED   ; EDE8 B0 03
    jmp .L_AD89   ; EDEA 4C 89 AD
; ----------------------------------------------------------------------------
.L_EDED:
  lda #$3C    ; EDED A9 3C
    jmp call_switch1stBank          ; EDEF 4C 06 FF
; ----------------------------------------------------------------------------
    lda #$39    ; EDF2 A9 39
    .byte   <$20     ; EDF4 20
    .byte   <$06     ; EDF5 06
; bank $3f
field.getWindowTilesForTop:
    bbs7    $A5,.L_ED88                   ; EDF6 FF A5 8F
    asl a       ; EDF9 0A
    asl a       ; EDFA 0A
    asl a       ; EDFB 0A
    tay             ; EDFC A8
    ldx #$00    ; EDFD A2 00
.L_EDFF:
  lda menu.party_summary.put_pc_sprites,y; EDFF B9 00 80
    sta $7C00,x ; EE02 9D 00 7C
    inx             ; EE05 E8
    iny             ; EE06 C8
    cpx #$08    ; EE07 E0 08
    bcc .L_EDFF   ; EE09 90 F4
    ldx <$7F     ; EE0B A6 7F
    lda $6100,x ; EE0D BD 00 61
    asl a       ; EE10 0A
    asl a       ; EE11 0A
    asl a       ; EE12 0A
    tay             ; EE13 A8
    ldx #$00    ; EE14 A2 00
.L_EE16:
  lda menu.party_summary.put_pc_sprites,y; EE16 B9 00 80
    sta $7C08,x ; EE19 9D 08 7C
    inx             ; EE1C E8
; bank $3f
field.getWindowTilesForMiddle:
    iny             ; EE1D C8
    cpx #$08    ; EE1E E0 08
    bcc .L_EE16   ; EE20 90 F4
    rts             ; EE22 60
; ----------------------------------------------------------------------------
    jsr getJobParameter             ; EE23 20 F2 AD
    lda #$3C    ; EE26 A9 3C
    jsr call_switch1stBank          ; EE28 20 06 FF
    ldx <$7F     ; EE2B A6 7F
    lda $6101,x ; EE2D BD 01 61
    cmp $7C01   ; EE30 CD 01 7C
    bcs .L_EE39   ; EE33 B0 04
    lda #$3A    ; EE35 A9 3A
    clc             ; EE37 18
    rts             ; EE38 60
; ----------------------------------------------------------------------------
.L_EE39:
  lda $6200,x ; EE39 BD 00 62
    .byte   <$1D     ; EE3C 1D
    .byte   <$01     ; EE3D 01
; bank $3f
field.getWindowTilesForBottom:
    .byte   <$62     ; EE3E 62
    ora $6202,x ; EE3F 1D 02 62
    ora $6203,x ; EE42 1D 03 62
    ora $6205,x ; EE45 1D 05 62
    beq .L_EE4E   ; EE48 F0 04
    lda #$71    ; EE4A A9 71
    clc             ; EE4C 18
    rts             ; EE4D 60
; ----------------------------------------------------------------------------
.L_EE4E:
  lda $601B   ; EE4E AD 1B 60
    ldx <$8F     ; EE51 A6 8F
    cmp $7200,x ; EE53 DD 00 72
    bcs .L_EE5B   ; EE56 B0 03
    lda #$72    ; EE58 A9 72
    clc             ; EE5A 18
.L_EE5B:
  rts             ; EE5B 60
; ----------------------------------------------------------------------------
    lda <$78     ; EE5C A5 78
    sta $6008   ; EE5E 8D 08 60
    lda <$42     ; EE61 A5 42
    .byte   <$8D     ; EE63 8D
    .byte   <$0F     ; EE64 0F
; bank $3f
field.stream_string_in_window:
    rts             ; EE65 60
; ----------------------------------------------------------------------------
    lda <$27     ; EE66 A5 27
    sta $6009   ; EE68 8D 09 60
    lda <$28     ; EE6B A5 28
    sta $600A   ; EE6D 8D 0A 60
    lda #$00    ; EE70 A9 00
    sta $601A   ; EE72 8D 1A 60
    lda #$5A    ; EE75 A9 5A
    sta $6019   ; EE77 8D 19 60
    lda #$00    ; EE7A A9 00
    ldx #$00    ; EE7C A2 00
.L_EE7E:
  clc             ; EE7E 18
    adc $6000,x ; EE7F 7D 00 60
    clc             ; EE82 18
    adc $6100,x ; EE83 7D 00 61
    clc             ; EE86 18
    adc $6200,x ; EE87 7D 00 62
    clc             ; EE8A 18
    adc $6300,x ; EE8B 7D 00 63
    inx             ; EE8E E8
    bne .L_EE7E   ; EE8F D0 ED
    eor #$FF    ; EE91 49 FF
    sta $601A   ; EE93 8D 1A 60
    rts             ; EE96 60
; ----------------------------------------------------------------------------
    asl a       ; EE97 0A
    asl a       ; EE98 0A
    .byte   <$69     ; EE99 69
; bank $3f
field.load_and_draw_string:
    rts             ; EE9A 60
; ----------------------------------------------------------------------------
    sta <$81     ; EE9B 85 81
    lda #$00    ; EE9D A9 00
    sta <$80     ; EE9F 85 80
    ldx #$04    ; EEA1 A2 04
    ldy #$19    ; EEA3 A0 19
    lda [$80],y ; EEA5 B1 80
    cmp #$5A    ; EEA7 C9 5A
    bne .L_EEC1   ; EEA9 D0 16
    ldy #$00    ; EEAB A0 00
    lda #$00    ; EEAD A9 00
.L_EEAF:
  clc             ; EEAF 18
    adc [$80],y ; EEB0 71 80
    iny             ; EEB2 C8
    bne .L_EEAF   ; EEB3 D0 FA
    inc <$81     ; EEB5 E6 81
    dex             ; EEB7 CA
    bne .L_EEAF   ; EEB8 D0 F5
    clc             ; EEBA 18
    adc #$01    ; EEBB 69 01
    bne .L_EEC1   ; EEBD D0 02
    clc             ; EEBF 18
; bank $3f
field.draw_string_in_window:
    rts             ; EEC0 60
; ----------------------------------------------------------------------------
.L_EEC1:
  sec             ; EEC1 38
    rts             ; EEC2 60
; ----------------------------------------------------------------------------
    ldx #$00    ; EEC3 A2 00
.L_EEC5:
  lda $6102,x ; EEC5 BD 02 61
    and #$FE    ; EEC8 29 FE
    sta $6102,x ; EECA 9D 02 61
    txa             ; EECD 8A
    clc             ; EECE 18
    adc #$40    ; EECF 69 40
    tax             ; EED1 AA
    bne .L_EEC5   ; EED2 D0 F1
    rts             ; EED4 60
; ----------------------------------------------------------------------------
    jsr .L_AEC3   ; EED5 20 C3 AE
    lda $79F0   ; EED8 AD F0 79
    lsr a       ; EEDB 4A
    lsr a       ; EEDC 4A
    sta <$8E     ; EEDD 85 8E
    tax             ; EEDF AA
    lda $7B80,x ; EEE0 BD 80 7B
    jsr .L_D113   ; EEE3 20 13 D1
    lda <$80     ; EEE6 A5 80
    and #$08    ; EEE8 29 08
    bne .L_EEF4   ; EEEA D0 08
    lda $6102   ; EEEC AD 02 61
    ora #$01    ; EEEF 09 01
    sta $6102   ; EEF1 8D 02 61
.L_EEF4:
  lda <$80     ; EEF4 A5 80
    and #$04    ; EEF6 29 04
    bne .L_EF02   ; EEF8 D0 08
; bank $3f
textd.draw_in_box:
    lda $6142   ; EEFA AD 42 61
    ora #$01    ; EEFD 09 01
    sta $6142   ; EEFF 8D 42 61
.L_EF02:
  lda <$80     ; EF02 A5 80
    and #$02    ; EF04 29 02
    bne .L_EF10   ; EF06 D0 08
    lda $6182   ; EF08 AD 82 61
    ora #$01    ; EF0B 09 01
    sta $6182   ; EF0D 8D 82 61
.L_EF10:
  lda <$80     ; EF10 A5 80
    and #$01    ; EF12 29 01
    bne .L_EF1E   ; EF14 D0 08
    lda $61C2   ; EF16 AD C2 61
    ora #$01    ; EF19 09 01
    sta $61C2   ; EF1B 8D C2 61
.L_EF1E:
  rts             ; EF1E 60
; ----------------------------------------------------------------------------
    jsr .L_B1EB   ; EF1F 20 EB B1
    lda #$00    ; EF22 A9 00
    sta $2001   ; EF24 8D 01 20
    sta $78F0   ; EF27 8D F0 78
    sta $79F0   ; EF2A 8D F0 79
    sta $7AF0   ; EF2D 8D F0 7A
    jsr .L_DD06   ; EF30 20 06 DD
    jsr .L_F7BB   ; EF33 20 BB F7
    jsr field.init_sprites_cache    ; EF36 20 86 C4
    jsr thunk_await_nmi_by_set_handler  ; EF39 20 00 FF
    lda #$02    ; EF3C A9 02
    sta $4014   ; EF3E 8D 14 40
    jsr .L_D308   ; EF41 20 08 D3
    jsr .L_B369   ; EF44 20 69 B3
    lda #$3C    ; EF47 A9 3C
    sta <$57     ; EF49 85 57
    lda #$01    ; EF4B A9 01
    sta <$37     ; EF4D 85 37
    lda #$00    ; EF4F A9 00
    sta <$A3     ; EF51 85 A3
    sta <$A4     ; EF53 85 A4
    lda <$A0     ; EF55 A5 A0
    cmp #$FC    ; EF57 C9 FC
    bcc .L_EF68   ; EF59 90 0D
    jmp .L_B383   ; EF5B 4C 83 B3
; ----------------------------------------------------------------------------
.L_EF5E:
  jsr menu.accept_input_action    ; EF5E 20 74 8F
    lda #$00    ; EF61 A9 00
    sta <$50     ; EF63 85 50
    jmp menu.main.erase             ; EF65 4C 85 A6
; ----------------------------------------------------------------------------
.L_EF68:
  jsr floor.shop.getItemValues    ; EF68 20 20 B2
    ldx #$14    ; EF6B A2 14
    jsr menu.draw_window_box        ; EF6D 20 F1 AA
    lda $7B00   ; EF70 AD 00 7B
    jsr menu.draw_window_content    ; EF73 20 78 A6
    jsr menu.erase_box_1e_x_14      ; EF76 20 61 F4
    lda #$00    ; EF79 A9 00
    sta <$64     ; EF7B 85 64
    lda #$01    ; EF7D A9 01
    sta <$A2     ; EF7F 85 A2
    lda #$00    ; EF81 A9 00
    sta $78F0   ; EF83 8D F0 78
    sta <$A3     ; EF86 85 A3
    sta <$A4     ; EF88 85 A4
    sta <$B4     ; EF8A 85 B4
    jsr menu.pc_select.save_states  ; EF8C 20 A8 A3
    jsr .L_B1F2   ; EF8F 20 F2 B1
    lda #$26    ; EF92 A9 26
    jsr .L_B20C   ; EF94 20 0C B2
    lda #$0B    ; EF97 A9 0B
    jsr .L_B216   ; EF99 20 16 B2
.L_EF9C:
  jsr menu.render_cursor          ; EF9C 20 CD A7
    lda #$04    ; EF9F A9 04
    jsr menu.window1.get_input_and_update_cursor; EFA1 20 A3 91
    lda <$25     ; EFA4 A5 25
    bne .L_EF5E   ; EFA6 D0 B6
    lda <$24     ; EFA8 A5 24
    beq .L_EF9C   ; EFAA F0 F0
    jsr menu.accept_input_action    ; EFAC 20 74 8F
    ldx #$00    ; EFAF A2 00
    lda $78F0   ; EFB1 AD F0 78
    stx $78F0   ; EFB4 8E F0 78
    cmp #$08    ; EFB7 C9 08
    bcs .L_EF5E   ; EFB9 B0 A3
    cmp #$04    ; EFBB C9 04
    bcc .L_EFC2   ; EFBD 90 03
    jmp floor.shop                  ; EFBF 4C EB B0
; ----------------------------------------------------------------------------
.L_EFC2:
  ldx #$18    ; EFC2 A2 18
    jsr menu.draw_window_box        ; EFC4 20 F1 AA
    jsr .L_B281   ; EFC7 20 81 B2
    lda #$20    ; EFCA A9 20
    jsr menu.draw_window_content    ; EFCC 20 78 A6
    jsr .L_AEC3   ; EFCF 20 C3 AE
    lda #$00    ; EFD2 A9 00
    sta <$A3     ; EFD4 85 A3
    lda #$27    ; EFD6 A9 27
    jsr .L_B20C   ; EFD8 20 0C B2
    lda #$2D    ; EFDB A9 2D
    jsr .L_B216   ; EFDD 20 16 B2
.L_EFE0:
  jsr menu.render_cursor          ; EFE0 20 CD A7
    lda #$04    ; EFE3 A9 04
    jsr menu.window1.get_input_and_update_cursor; EFE5 20 A3 91
    jsr .L_B335   ; EFE8 20 35 B3
    lda <$25     ; EFEB A5 25
    beq .L_EFF8   ; EFED F0 09
    jsr .L_AEC3   ; EFEF 20 C3 AE
    jsr menu.accept_input_action    ; EFF2 20 74 8F
    jmp .L_AF76   ; EFF5 4C 76 AF
; ----------------------------------------------------------------------------
.L_EFF8:
  lda <$24     ; EFF8 A5 24
    beq .L_EFE0   ; EFFA F0 E4
    jsr menu.accept_input_action    ; EFFC 20 74 8F
    lda $78F0   ; EFFF AD F0 78
    lsr a       ; F002 4A
    lsr a       ; F003 4A
    sta <$64     ; F004 85 64
    lda #$01    ; F006 A9 01
    sta <$A3     ; F008 85 A3
    jsr .L_B281   ; F00A 20 81 B2
    ldx #$18    ; F00D A2 18
    jsr menu.draw_window_box        ; F00F 20 F1 AA
    lda #$20    ; F012 A9 20
    jsr menu.draw_window_content    ; F014 20 78 A6
    jsr .L_AED5   ; F017 20 D5 AE
.L_F01A:
  jsr menu.render_cursor          ; F01A 20 CD A7
    lda $79F0   ; F01D AD F0 79
    pha             ; F020 48
    lda #$04    ; F021 A9 04
    jsr menu.window2.get_input_and_update_cursor; F023 20 D9 91
    jsr .L_B335   ; F026 20 35 B3
    pla             ; F029 68
; bank $3f
textd.eval_replacement:
    cmp $79F0   ; F02A CD F0 79
    beq .L_F032   ; F02D F0 03
    jsr .L_AED5   ; F02F 20 D5 AE
.L_F032:
  lda <$25     ; F032 A5 25
    beq .L_F03C   ; F034 F0 06
    jsr menu.accept_input_action    ; F036 20 74 8F
    jmp .L_AFCF   ; F039 4C CF AF
; ----------------------------------------------------------------------------
.L_F03C:
  lda <$24     ; F03C A5 24
    beq .L_F01A   ; F03E F0 DA
    jsr menu.accept_input_action    ; F040 20 74 8F
    jsr .L_B04D   ; F043 20 4D B0
    jsr .L_B1F2   ; F046 20 F2 B1
    jmp .L_B01A   ; F049 4C 1A B0
; ----------------------------------------------------------------------------
    rts             ; F04C 60
; ----------------------------------------------------------------------------
    ldx <$8E     ; F04D A6 8E
    lda $7B90,x ; F04F BD 90 7B
    sta <$80     ; F052 85 80
    sta <$61     ; F054 85 61
    lda $7B98,x ; F056 BD 98 7B
    sta <$81     ; F059 85 81
    sta <$62     ; F05B 85 62
    lda $7BA0,x ; F05D BD A0 7B
    sta <$82     ; F060 85 82
    sta <$63     ; F062 85 63
    jsr .L_B0CA   ; F064 20 CA B0
    bcc .L_F06E   ; F067 90 05
    lda #$6C    ; F069 A9 6C
    jmp .L_B20C   ; F06B 4C 0C B2
; ----------------------------------------------------------------------------
.L_F06E:
  ldx <$8E     ; F06E A6 8E
    lda $7B80,x ; F070 BD 80 7B
    bne .L_F076   ; F073 D0 01
    rts             ; F075 60
; ----------------------------------------------------------------------------
.L_F076:
  sta <$80     ; F076 85 80
    ldx #$01    ; F078 A2 01
    lda <$64     ; F07A A5 64
    beq .L_F086   ; F07C F0 08
    ldx #$04    ; F07E A2 04
    cmp #$01    ; F080 C9 01
    beq .L_F086   ; F082 F0 02
    ldx #$0A    ; F084 A2 0A
.L_F086:
  stx <$81     ; F086 86 81
    jsr floor.searchSpaceForItem    ; F088 20 7E 93
    bcc .L_F092   ; F08B 90 05
.L_F08D:
  lda #$2C    ; F08D A9 2C
    jmp .L_B20C   ; F08F 4C 0C B2
; ----------------------------------------------------------------------------
.L_F092:
  cmp #$00    ; F092 C9 00
    beq .L_F0A2   ; F094 F0 0C
    lda $60E0,x ; F096 BD E0 60
    clc             ; F099 18
    adc <$81     ; F09A 65 81
    cmp #$64    ; F09C C9 64
    bcs .L_F08D   ; F09E B0 ED
    bcc .L_F0A9   ; F0A0 90 07
.L_F0A2:
  lda <$80     ; F0A2 A5 80
    sta $60C0,x ; F0A4 9D C0 60
    lda <$81     ; F0A7 A5 81
.L_F0A9:
  sta $60E0,x ; F0A9 9D E0 60
    .byte   <$AD     ; F0AC AD
.L_F0AD:
  trb $3860   ; F0AD 1C 60 38
    sbc <$61     ; F0B0 E5 61
    sta $601C   ; F0B2 8D 1C 60
    lda $601D   ; F0B5 AD 1D 60
    sbc <$62     ; F0B8 E5 62
    sta $601D   ; F0BA 8D 1D 60
    lda $601E   ; F0BD AD 1E 60
    sbc <$63     ; F0C0 E5 63
    sta $601E   ; F0C2 8D 1E 60
    lda #$28    ; F0C5 A9 28
    jmp .L_B20C   ; F0C7 4C 0C B2
; ----------------------------------------------------------------------------
    lda $601E   ; F0CA AD 1E 60
    cmp <$82     ; F0CD C5 82
    bcc .L_F0E7   ; F0CF 90 16
    beq .L_F0D5   ; F0D1 F0 02
    bcs .L_F0E9   ; F0D3 B0 14
.L_F0D5:
  lda $601D   ; F0D5 AD 1D 60
    cmp <$81     ; F0D8 C5 81
    bcc .L_F0E7   ; F0DA 90 0B
    beq .L_F0E0   ; F0DC F0 02
    bcs .L_F0E9   ; F0DE B0 09
.L_F0E0:
  lda $601C   ; F0E0 AD 1C 60
    cmp <$80     ; F0E3 C5 80
    bcs .L_F0E9   ; F0E5 B0 02
.L_F0E7:
  sec             ; F0E7 38
    rts             ; F0E8 60
; ----------------------------------------------------------------------------
.L_F0E9:
  clc             ; F0E9 18
    rts             ; F0EA 60
; ----------------------------------------------------------------------------
    ldx #$19    ; F0EB A2 19
    .byte   <$20     ; F0ED 20
    .byte   <$F1     ; F0EE F1
.L_F0EF:
  tax             ; F0EF AA
    lda #$3D    ; F0F0 A9 3D
    jsr menu.draw_window_content    ; F0F2 20 78 A6
    jsr menu.items.save_render_params   ; F0F5 20 3D 90
    lda #$80    ; F0F8 A9 80
    sta <$B4     ; F0FA 85 B4
    jsr menu.pc_select.save_states  ; F0FC 20 A8 A3
    lda #$00    ; F0FF A9 00
    sta <$B4     ; F101 85 B4
    sta $7AF0   ; F103 8D F0 7A
    lda #$00    ; F106 A9 00
    sta <$A4     ; F108 85 A4
    sta <$B4     ; F10A 85 B4
    lda #$2A    ; F10C A9 2A
    jsr .L_B20C   ; F10E 20 0C B2
    lda #$2E    ; F111 A9 2E
    jsr .L_B216   ; F113 20 16 B2
.L_F116:
  jsr menu.render_cursor          ; F116 20 CD A7
    lda #$04    ; F119 A9 04
    jsr menu.window1.get_input_and_update_cursor; F11B 20 A3 91
    lda <$25     ; F11E A5 25
    beq .L_F125   ; F120 F0 03
    jmp .L_AFF2   ; F122 4C F2 AF
; ----------------------------------------------------------------------------
.L_F125:
  lda <$24     ; F125 A5 24
    beq .L_F116   ; F127 F0 ED
    jsr menu.accept_input_action    ; F129 20 74 8F
    lda $78F0   ; F12C AD F0 78
    lsr a       ; F12F 4A
    lsr a       ; F130 4A
    sta <$64     ; F131 85 64
    lda #$01    ; F133 A9 01
    sta <$A4     ; F135 85 A4
    jsr menu.pc_select.load_states  ; F137 20 8E A3
    jsr .L_B619   ; F13A 20 19 B6
.L_F13D:
  jsr menu.render_cursor          ; F13D 20 CD A7
    lda #$08    ; F140 A9 08
    jsr menu.window3.get_input_and_scroll; F142 20 0D 92
    lda <$25     ; F145 A5 25
    beq .L_F14F   ; F147 F0 06
    jsr menu.accept_input_action    ; F149 20 74 8F
    jmp .L_B106   ; F14C 4C 06 B1
; ----------------------------------------------------------------------------
.L_F14F:
  lda <$24     ; F14F A5 24
    beq .L_F13D   ; F151 F0 EA
    jsr menu.accept_input_action    ; F153 20 74 8F
    ldx $7AF0   ; F156 AE F0 7A
    lda $7A02,x ; F159 BD 02 7A
    cmp #$0F    ; F15C C9 0F
    beq .L_F16B   ; F15E F0 0B
    lda $7A03,x ; F160 BD 03 7A
    sta <$8E     ; F163 85 8E
    tax             ; F165 AA
    lda $60C0,x ; F166 BD C0 60
    bne .L_F171   ; F169 D0 06
.L_F16B:
  jsr menu.queue_SE_of_invalid_action ; F16B 20 29 D5
    jmp .L_B13D   ; F16E 4C 3D B1
; ----------------------------------------------------------------------------
.L_F171:
  cmp #$9A    ; F171 C9 9A
    bcc .L_F181   ; F173 90 0C
    cmp #$A4    ; F175 C9 A4
    bcc .L_F16B   ; F177 90 F2
    cmp #$F6    ; F179 C9 F6
    beq .L_F16B   ; F17B F0 EE
    cmp #$F7    ; F17D C9 F7
    beq .L_F16B   ; F17F F0 EA
.L_F181:
  jsr floor.shop.getSellingPrice  ; F181 20 48 B2
    lda #$2B    ; F184 A9 2B
    jsr .L_B1FC   ; F186 20 FC B1
    jsr .L_B1CB   ; F189 20 CB B1
    lda <$20     ; F18C A5 20
    and #$80    ; F18E 29 80
    bne .L_F19A   ; F190 D0 08
    lda #$2A    ; F192 A9 2A
    jsr .L_B1FC   ; F194 20 FC B1
    jmp .L_B13D   ; F197 4C 3D B1
; ----------------------------------------------------------------------------
.L_F19A:
  jsr menu.accept_input_action    ; F19A 20 74 8F
    ldx <$8E     ; F19D A6 8E
    lda <$64     ; F19F A5 64
    bne .L_F1AE   ; F1A1 D0 0B
    lda $60E0,x ; F1A3 BD E0 60
    sec             ; F1A6 38
    sbc #$01    ; F1A7 E9 01
    sta $60E0,x ; F1A9 9D E0 60
    bne .L_F1B6   ; F1AC D0 08
.L_F1AE:
  lda #$00    ; F1AE A9 00
    sta $60C0,x ; F1B0 9D C0 60
    sta $60E0,x ; F1B3 9D E0 60
.L_F1B6:
  lda <$61     ; F1B6 A5 61
    sta <$80     ; F1B8 85 80
    lda <$62     ; F1BA A5 62
    sta <$81     ; F1BC 85 81
    lda <$63     ; F1BE A5 63
    sta <$82     ; F1C0 85 82
    jsr increment_gil               ; F1C2 20 FF F5
    jsr .L_B1F2   ; F1C5 20 F2 B1
    jmp .L_B137   ; F1C8 4C 37 B1
; ----------------------------------------------------------------------------
    jsr .L_B1EB   ; F1CB 20 EB B1
.L_F1CE:
  jsr thunk_await_nmi_by_set_handler  ; F1CE 20 00 FF
    jsr field.get_input             ; F1D1 20 81 D2
    jsr field.call_sound_driver_and_restore_banks; F1D4 20 58 C7
    lda <$20     ; F1D7 A5 20
    bne .L_F1CE   ; F1D9 D0 F3
.L_F1DB:
  jsr thunk_await_nmi_by_set_handler  ; F1DB 20 00 FF
    jsr field.get_input             ; F1DE 20 81 D2
    jsr field.call_sound_driver_and_restore_banks; F1E1 20 58 C7
    lda <$20     ; F1E4 A5 20
    beq .L_F1DB   ; F1E6 F0 F3
    sta <$21     ; F1E8 85 21
    rts             ; F1EA 60
; ----------------------------------------------------------------------------
    lda #$00    ; F1EB A9 00
    sta <$24     ; F1ED 85 24
    sta <$25     ; F1EF 85 25
    rts             ; F1F1 60
; ----------------------------------------------------------------------------
    ldx #$17    ; F1F2 A2 17
    jsr menu.draw_window_box        ; F1F4 20 F1 AA
    lda #$05    ; F1F7 A9 05
    jmp menu.draw_window_content    ; F1F9 4C 78 A6
; ----------------------------------------------------------------------------
    pha             ; F1FC 48
    jsr menu.pc_select.save_states  ; F1FD 20 A8 A3
    ldx #$15    ; F200 A2 15
    jsr menu.draw_window_box        ; F202 20 F1 AA
    pla             ; F205 68
    jsr menu.draw_window_content    ; F206 20 78 A6
    jmp menu.pc_select.load_states  ; F209 4C 8E A3
; ----------------------------------------------------------------------------
    pha             ; F20C 48
    ldx #$15    ; F20D A2 15
    jsr menu.draw_window_box        ; F20F 20 F1 AA
    pla             ; F212 68
    jmp menu.draw_window_content    ; F213 4C 78 A6
; ----------------------------------------------------------------------------
    pha             ; F216 48
    ldx #$16    ; F217 A2 16
    jsr menu.draw_window_box        ; F219 20 F1 AA
    pla             ; F21C 68
    jmp menu.draw_window_content    ; F21D 4C 78 A6
; ----------------------------------------------------------------------------
    ldx #$07    ; F220 A2 07
.L_F222:
  lda $7B01,x ; F222 BD 01 7B
    sta $7B80,x ; F225 9D 80 7B
    dex             ; F228 CA
    bpl .L_F222   ; F229 10 F7
    ldy #$00    ; F22B A0 00
.L_F22D:
  ldx $7B80,y ; F22D BE 80 7B
    jsr floor.get_item_price        ; F230 20 D4 F5
    lda <$80     ; F233 A5 80
    sta $7BA8,y ; F235 99 A8 7B
    .byte   <$A5     ; F238 A5
; bank $3f
field.string.eval_code_10_13:
    sta ($99,x) ; F239 81 99
    bcs .L_F2B8   ; F23B B0 7B
    lda <$82     ; F23D A5 82
    sta $7BB8,y ; F23F 99 B8 7B
    iny             ; F242 C8
    cpy #$08    ; F243 C0 08
    bcc .L_F22D   ; F245 90 E6
    rts             ; F247 60
; ----------------------------------------------------------------------------
    lda <$64     ; F248 A5 64
    bne .L_F257   ; F24A D0 0B
    ldx <$8E     ; F24C A6 8E
    lda $60C0,x ; F24E BD C0 60
    jsr floor.shop.getItemValue     ; F251 20 70 B2
    jmp .L_B269   ; F254 4C 69 B2
; ----------------------------------------------------------------------------
.L_F257:
  ldx <$8E     ; F257 A6 8E
    lda $60C0,x ; F259 BD C0 60
    jsr floor.shop.getItemValue     ; F25C 20 70 B2
    ldx <$8E     ; F25F A6 8E
    lda $60E0,x ; F261 BD E0 60
    sta <$80     ; F264 85 80
    jsr .L_8E55   ; F266 20 55 8E
    lsr <$63     ; F269 46 63
    ror <$62     ; F26B 66 62
    ror <$61     ; F26D 66 61
    rts             ; F26F 60
; ----------------------------------------------------------------------------
    tax             ; F270 AA
    jsr floor.get_item_price        ; F271 20 D4 F5
    lda <$80     ; F274 A5 80
    sta <$61     ; F276 85 61
    lda <$81     ; F278 A5 81
    sta <$62     ; F27A 85 62
    lda <$82     ; F27C A5 82
    sta <$63     ; F27E 85 63
    rts             ; F280 60
; ----------------------------------------------------------------------------
    lda <$64     ; F281 A5 64
    bne .L_F291   ; F283 D0 0C
    ldx #$17    ; F285 A2 17
.L_F287:
  lda $7BA8,x ; F287 BD A8 7B
    sta $7B90,x ; F28A 9D 90 7B
    dex             ; F28D CA
    bpl .L_F287   ; F28E 10 F7
    rts             ; F290 60
; ----------------------------------------------------------------------------
.L_F291:
  cmp #$01    ; F291 C9 01
    bne .L_F2E5   ; F293 D0 50
    lda #$00    ; F295 A9 00
    sta <$8B     ; F297 85 8B
.L_F299:
  ldx <$8B     ; F299 A6 8B
    lda $7BA8,x ; F29B BD A8 7B
    sta <$61     ; F29E 85 61
    lda $7BB0,x ; F2A0 BD B0 7B
    sta <$62     ; F2A3 85 62
    lda $7BB8,x ; F2A5 BD B8 7B
    sta <$63     ; F2A8 85 63
    lda #$04    ; F2AA A9 04
    sta <$80     ; F2AC 85 80
    jsr .L_8E55   ; F2AE 20 55 8E
    lda <$61     ; F2B1 A5 61
    sta <$88     ; F2B3 85 88
    lda <$62     ; F2B5 A5 62
    .byte   <$85     ; F2B7 85
.L_F2B8:
  bit #$A5    ; F2B8 89 A5
    .byte   <$63     ; F2BA 63
    sta <$8A     ; F2BB 85 8A
    lda #$1A    ; F2BD A9 1A
    sta <$80     ; F2BF 85 80
    jsr .L_8E55   ; F2C1 20 55 8E
    ldx <$8B     ; F2C4 A6 8B
    lda <$88     ; F2C6 A5 88
    sec             ; F2C8 38
    sbc <$62     ; F2C9 E5 62
    sta $7B90,x ; F2CB 9D 90 7B
    lda <$89     ; F2CE A5 89
    sbc <$63     ; F2D0 E5 63
    sta $7B98,x ; F2D2 9D 98 7B
    lda <$8A     ; F2D5 A5 8A
    sbc #$00    ; F2D7 E9 00
    sta $7BA0,x ; F2D9 9D A0 7B
    inc <$8B     ; F2DC E6 8B
    lda <$8B     ; F2DE A5 8B
    cmp #$08    ; F2E0 C9 08
    bcc .L_F299   ; F2E2 90 B5
    rts             ; F2E4 60
; ----------------------------------------------------------------------------
.L_F2E5:
  lda #$00    ; F2E5 A9 00
    sta <$8B     ; F2E7 85 8B
.L_F2E9:
  ldx <$8B     ; F2E9 A6 8B
    lda $7BA8,x ; F2EB BD A8 7B
    sta <$61     ; F2EE 85 61
    lda $7BB0,x ; F2F0 BD B0 7B
    sta <$62     ; F2F3 85 62
    lda $7BB8,x ; F2F5 BD B8 7B
    sta <$63     ; F2F8 85 63
    lda #$0A    ; F2FA A9 0A
    sta <$80     ; F2FC 85 80
    jsr .L_8E55   ; F2FE 20 55 8E
    lda <$61     ; F301 A5 61
    sta <$88     ; F303 85 88
    lda <$62     ; F305 A5 62
    sta <$89     ; F307 85 89
    lda <$63     ; F309 A5 63
    sta <$8A     ; F30B 85 8A
    lda #$33    ; F30D A9 33
    sta <$80     ; F30F 85 80
    jsr .L_8E55   ; F311 20 55 8E
    lda <$88     ; F314 A5 88
    sec             ; F316 38
    sbc <$62     ; F317 E5 62
    ldx <$8B     ; F319 A6 8B
    sta $7B90,x ; F31B 9D 90 7B
    lda <$89     ; F31E A5 89
    sbc <$63     ; F320 E5 63
    sta $7B98,x ; F322 9D 98 7B
    lda <$8A     ; F325 A5 8A
    sbc #$00    ; F327 E9 00
    sta $7BA0,x ; F329 9D A0 7B
    inc <$8B     ; F32C E6 8B
    lda <$8B     ; F32E A5 8B
    cmp #$08    ; F330 C9 08
    bcc .L_F2E9   ; F332 90 B5
    rts             ; F334 60
; ----------------------------------------------------------------------------
    lda #$D8    ; F335 A9 D8
    sta <$40     ; F337 85 40
    lda #$60    ; F339 A9 60
    sta <$41     ; F33B 85 41
    ldx #$00    ; F33D A2 00
    jsr .L_8136   ; F33F 20 36 81
    lda #$D8    ; F342 A9 D8
    sta <$40     ; F344 85 40
    lda #$80    ; F346 A9 80
    sta <$41     ; F348 85 41
    ldx #$40    ; F34A A2 40
    jsr .L_8136   ; F34C 20 36 81
    lda #$D8    ; F34F A9 D8
    sta <$40     ; F351 85 40
    lda #$A0    ; F353 A9 A0
    sta <$41     ; F355 85 41
    ldx #$80    ; F357 A2 80
    jsr .L_8136   ; F359 20 36 81
    lda #$D8    ; F35C A9 D8
    sta <$40     ; F35E 85 40
    lda #$C0    ; F360 A9 C0
    sta <$41     ; F362 85 41
    ldx #$C0    ; F364 A2 C0
    jmp .L_8136   ; F366 4C 36 81
; ----------------------------------------------------------------------------
    lda #$88    ; F369 A9 88
    sta <$FD     ; F36B 85 FD
    sta <$FF     ; F36D 85 FF
    sta $2000   ; F36F 8D 00 20
    lda #$00    ; F372 A9 00
    sta $2005   ; F374 8D 05 20
    sta $2005   ; F377 8D 05 20
    lda #$1E    ; F37A A9 1E
    sta $2001   ; F37C 8D 01 20
    rts             ; F37F 60
; ----------------------------------------------------------------------------
.L_F380:
  jmp .L_AF5E   ; F380 4C 5E AF
; ----------------------------------------------------------------------------
    lda #$0F    ; F383 A9 0F
    sta $03DD   ; F385 8D DD 03
    lda #$27    ; F388 A9 27
; bank $3f
field.get_max_available_job_id:
    sta $03DE   ; F38A 8D DE 03
    jsr thunk_await_nmi_by_set_handler  ; F38D 20 00 FF
    jsr .L_D308   ; F390 20 08 D3
    jsr .L_B369   ; F393 20 69 B3
    jsr .L_AEC3   ; F396 20 C3 AE
    lda #$51    ; F399 A9 51
    jsr .L_B5F7   ; F39B 20 F7 B5
    lda #$24    ; F39E A9 24
    jsr .L_B5ED   ; F3A0 20 ED B5
    lda #$00    ; F3A3 A9 00
    sta <$A3     ; F3A5 85 A3
    sta <$A4     ; F3A7 85 A4
    sta <$B4     ; F3A9 85 B4
    .byte   <$8D     ; F3AB 8D
; bank $3f
textd.setup_output_ptr_to_next_column:
    beq .L_F426   ; F3AC F0 78
    lda #$01    ; F3AE A9 01
    sta <$A2     ; F3B0 85 A2
.L_F3B2:
  jsr menu.render_cursor          ; F3B2 20 CD A7
    lda #$04    ; F3B5 A9 04
    jsr menu.window1.get_input_and_update_cursor; F3B7 20 A3 91
    jsr .L_808C   ; F3BA 20 8C 80
    lda <$25     ; F3BD A5 25
    bne .L_F380   ; F3BF D0 BF
    lda <$24     ; F3C1 A5 24
    beq .L_F3B2   ; F3C3 F0 ED
    jsr menu.accept_input_action    ; F3C5 20 74 8F
    lda $78F0   ; F3C8 AD F0 78
    cmp #$08    ; F3CB C9 08
    bcs .L_F380   ; F3CD B0 B1
    cmp #$04    ; F3CF C9 04
    beq .L_F419   ; F3D1 F0 46
    lda #$52    ; F3D3 A9 52
    jsr .L_B5F7   ; F3D5 20 F7 B5
    lda #$80    ; F3D8 A9 80
    sta <$B4     ; F3DA 85 B4
    ldx #$19    ; F3DC A2 19
    jsr menu.draw_window_box        ; F3DE 20 F1 AA
    lda #$3D    ; F3E1 A9 3D
    .byte   <$20     ; F3E3 20
; bank $3f
textd.save_text_ptr:
    sei             ; F3E4 78
    ldx <$A9     ; F3E5 A6 A9
    brk             ; F3E7 00
    sta $7AF0   ; F3E8 8D F0 7A
    lda #$01    ; F3EB A9 01
; bank $3f
textd.restore_text_ptr:
    sta <$A4     ; F3ED 85 A4
    jsr menu.items.save_render_params   ; F3EF 20 3D 90
.L_F3F2:
  jsr menu.render_cursor          ; F3F2 20 CD A7
    jsr .L_808C   ; F3F5 20 8C 80
    lda #$08    ; F3F8 A9 08
; bank $3f
textd.trim_name_left:
    jsr menu.window3.get_input_and_scroll; F3FA 20 0D 92
    lda <$25     ; F3FD A5 25
    beq .L_F407   ; F3FF F0 06
    jsr menu.accept_input_action    ; F401 20 74 8F
    jmp .L_B383   ; F404 4C 83 B3
; ----------------------------------------------------------------------------
.L_F407:
  lda <$24     ; F407 A5 24
    .byte   <$F0     ; F409 F0
; bank $3f
field.set_vram_addr_for_window:
    smb6    <$20     ; F40A E7
    jsr menu.accept_input_action    ; F40B 20 74 8F
    jsr .L_B4AE   ; F40E 20 AE B4
    bcs .L_F3F2   ; F411 B0 DF
    jsr .L_B619   ; F413 20 19 B6
    jmp .L_B3F2   ; F416 4C F2 B3
; ----------------------------------------------------------------------------
.L_F419:
  lda #$53    ; F419 A9 53
    jsr .L_B5F7   ; F41B 20 F7 B5
    lda #$80    ; F41E A9 80
    sta <$B4     ; F420 85 B4
    ldx #$19    ; F422 A2 19
    .byte   <$20     ; F424 20
    .byte   <$F1     ; F425 F1
.L_F426:
  tax             ; F426 AA
    jsr menu.stomach.build_content_text ; F427 20 70 B5
    lda #$18    ; F42A A9 18
    sta <$93     ; F42C 85 93
    lda #$01    ; F42E A9 01
    sta <$3E     ; F430 85 3E
    lda #$73    ; F432 A9 73
    .byte   <$85     ; F434 85
; bank $3f
field.get_vram_addr_of_line_above:
    bbr3    $20,.L_F499                   ; F435 3F 20 61
    .byte   <$EB     ; F438 EB
    lda #$00    ; F439 A9 00
    sta $7AF0   ; F43B 8D F0 7A
    lda #$01    ; F43E A9 01
    sta <$A4     ; F440 85 A4
    jsr menu.items.save_render_params   ; F442 20 3D 90
    lda $7C00   ; F445 AD 00 7C
    beq .L_F44D   ; F448 F0 03
    .byte   <$20     ; F44A 20
; bank $3f
menu.erase_message_area:
    sta ($B4)   ; F44B 92 B4
.L_F44D:
  jsr menu.render_cursor          ; F44D 20 CD A7
    jsr .L_808C   ; F450 20 8C 80
    ldx $7AF0   ; F453 AE F0 7A
    ldy $7A03,x ; F456 BC 03 7A
    lda $7C00,y ; F459 B9 00 7C
    pha             ; F45C 48
    lda #$08    ; F45D A9 08
    .byte   <$20     ; F45F 20
    .byte   <$0D     ; F460 0D
; bank $3f
menu.erase_box_1e_x_14:
    sta ($AE)   ; F461 92 AE
    beq .L_F4DF   ; F463 F0 7A
; bank $3f
menu.erase_box_1e_x_1c:
    .byte   <$BC     ; F465 BC
    .byte   <$03     ; F466 03
; bank $3f
menu.erase_box_of_width_1e:
    ply             ; F467 7A
    pla             ; F468 68
    cmp $7C00,y ; F469 D9 00 7C
    beq .L_F479   ; F46C F0 0B
    jsr .L_AEC3   ; F46E 20 C3 AE
    lda $7C00,y ; F471 B9 00 7C
    beq .L_F479   ; F474 F0 03
    jsr .L_B492   ; F476 20 92 B4
.L_F479:
  .byte   <$A5     ; F479 A5
; bank $3f
menu.erase_box_from_bottom:
    and <$F0     ; F47A 25 F0
    .byte   <$03     ; F47C 03
    jmp .L_B401   ; F47D 4C 01 B4
; ----------------------------------------------------------------------------
    lda <$24     ; F480 A5 24
    beq .L_F44D   ; F482 F0 C9
    jsr menu.accept_input_action    ; F484 20 74 8F
    jsr .L_B504   ; F487 20 04 B5
    bcs .L_F44D   ; F48A B0 C1
    jsr .L_B619   ; F48C 20 19 B6
    jmp .L_B44D   ; F48F 4C 4D B4
; ----------------------------------------------------------------------------
    pha             ; F492 48
    ldx #$00    ; F493 A2 00
.L_F495:
  lda $7470,x ; F495 BD 70 74
    .byte   <$9D     ; F498 9D
.L_F499:
  brk             ; F499 00
    adc ($E8)   ; F49A 72 E8
    bne .L_F495   ; F49C D0 F7
    pla             ; F49E 68
    jsr .L_AEE3   ; F49F 20 E3 AE
    ldx #$00    ; F4A2 A2 00
.L_F4A4:
  lda $7200,x ; F4A4 BD 00 72
    sta $7470,x ; F4A7 9D 70 74
    inx             ; F4AA E8
    bne .L_F4A4   ; F4AB D0 F7
    rts             ; F4AD 60
; ----------------------------------------------------------------------------
    ldx $7AF0   ; F4AE AE F0 7A
    lda $7A02,x ; F4B1 BD 02 7A
    cmp #$0F    ; F4B4 C9 0F
    beq .L_F4C3   ; F4B6 F0 0B
    lda $7A03,x ; F4B8 BD 03 7A
    sta <$8E     ; F4BB 85 8E
    tax             ; F4BD AA
    lda $60C0,x ; F4BE BD C0 60
    bne .L_F4C8   ; F4C1 D0 05
.L_F4C3:
  jsr menu.queue_SE_of_invalid_action ; F4C3 20 29 D5
    sec             ; F4C6 38
    rts             ; F4C7 60
; ----------------------------------------------------------------------------
.L_F4C8:
  cmp #$9A    ; F4C8 C9 9A
    bcc .L_F4D0   ; F4CA 90 04
    cmp #$A4    ; F4CC C9 A4
    bcc .L_F4C3   ; F4CE 90 F3
.L_F4D0:
  tay             ; F4D0 A8
    lda #$00    ; F4D1 A9 00
    sta <$80     ; F4D3 85 80
    lda $6300,y ; F4D5 B9 00 63
    cmp #$63    ; F4D8 C9 63
    bcc .L_F4E3   ; F4DA 90 07
    lda #$55    ; F4DC A9 55
    .byte   <$20     ; F4DE 20
.L_F4DF:
  smb7    <$B5     ; F4DF F7
    lda <$18,x   ; F4E0 B5 18
    rts             ; F4E2 60
; ----------------------------------------------------------------------------
.L_F4E3:
  adc $60E0,x ; F4E3 7D E0 60
    cmp #$64    ; F4E6 C9 64
    bcc .L_F4F0   ; F4E8 90 06
    sbc #$63    ; F4EA E9 63
    sta <$80     ; F4EC 85 80
    lda #$63    ; F4EE A9 63
.L_F4F0:
  sta $6300,y ; F4F0 99 00 63
    lda <$80     ; F4F3 A5 80
    sta $60E0,x ; F4F5 9D E0 60
    bne .L_F4FD   ; F4F8 D0 03
    sta $60C0,x ; F4FA 9D C0 60
.L_F4FD:
  lda #$54    ; F4FD A9 54
    jsr .L_B5F7   ; F4FF 20 F7 B5
    clc             ; F502 18
    rts             ; F503 60
; ----------------------------------------------------------------------------
    ldx $7AF0   ; F504 AE F0 7A
    lda $7A03,x ; F507 BD 03 7A
    sta <$8E     ; F50A 85 8E
    tax             ; F50C AA
    lda $7C00,x ; F50D BD 00 7C
    bne .L_F517   ; F510 D0 05
    jsr menu.queue_SE_of_invalid_action ; F512 20 29 D5
    sec             ; F515 38
    rts             ; F516 60
; ----------------------------------------------------------------------------
.L_F517:
  sta <$8F     ; F517 85 8F
    tay             ; F519 A8
    lda $6300,y ; F51A B9 00 63
    sta <$81     ; F51D 85 81
    sty <$80     ; F51F 84 80
    jsr floor.searchSpaceForItem    ; F521 20 7E 93
    bcc .L_F52D   ; F524 90 07
    lda #$56    ; F526 A9 56
    jsr .L_B5F7   ; F528 20 F7 B5
    clc             ; F52B 18
    rts             ; F52C 60
; ----------------------------------------------------------------------------
.L_F52D:
  cmp #$00    ; F52D C9 00
    bne .L_F54E   ; F52F D0 1D
    lda <$80     ; F531 A5 80
    sta $60C0,x ; F533 9D C0 60
    lda <$81     ; F536 A5 81
.L_F538:
  sta $60E0,x ; F538 9D E0 60
    ldx <$8E     ; F53B A6 8E
    lda #$00    ; F53D A9 00
    sta $7C00,x ; F53F 9D 00 7C
    ldx <$8F     ; F542 A6 8F
    sta $6300,x ; F544 9D 00 63
    lda #$58    ; F547 A9 58
; bank $3f
floor.get_treasure:
    jsr .L_B5F7   ; F549 20 F7 B5
    clc             ; F54C 18
    rts             ; F54D 60
; ----------------------------------------------------------------------------
.L_F54E:
  lda $60E0,x ; F54E BD E0 60
    cmp #$99    ; F551 C9 99
    bcs .L_F569   ; F553 B0 14
    adc <$81     ; F555 65 81
    cmp #$64    ; F557 C9 64
    bcc .L_F538   ; F559 90 DD
    sbc #$63    ; F55B E9 63
    sta <$81     ; F55D 85 81
    lda #$63    ; F55F A9 63
    sta $60E0,x ; F561 9D E0 60
    lda <$81     ; F564 A5 81
    jmp .L_B542   ; F566 4C 42 B5
; ----------------------------------------------------------------------------
.L_F569:
  lda #$57    ; F569 A9 57
    jsr .L_B5F7   ; F56B 20 F7 B5
    clc             ; F56E 18
    rts             ; F56F 60
; ----------------------------------------------------------------------------
    ldx #$01    ; F570 A2 01
    ldy #$00    ; F572 A0 00
.L_F574:
  lda $6300,x ; F574 BD 00 63
    beq .L_F57E   ; F577 F0 05
    txa             ; F579 8A
    sta $7C00,y ; F57A 99 00 7C
    iny             ; F57D C8
.L_F57E:
  inx             ; F57E E8
    bne .L_F574   ; F57F D0 F3
    lda #$00    ; F581 A9 00
    sta $7C00,y ; F583 99 00 7C
    cpy #$FF    ; F586 C0 FF
    beq .L_F590   ; F588 F0 06
.L_F58A:
  sta $7C00,y ; F58A 99 00 7C
    iny             ; F58D C8
    bne .L_F58A   ; F58E D0 FA
.L_F590:
  lda #$00    ; F590 A9 00
    sta <$82     ; F592 85 82
    sta $72FF   ; F594 8D FF 72
    sta $7300   ; F597 8D 00 73
    lda #$01    ; F59A A9 01
    sta <$80     ; F59C 85 80
    lda #$73    ; F59E A9 73
    sta <$81     ; F5A0 85 81
    ldy #$00    ; F5A2 A0 00
    lda #$1B    ; F5A4 A9 1B
    sta [$80],y ; F5A6 91 80
    iny             ; F5A8 C8
    lda <$82     ; F5A9 A5 82
    sta [$80],y ; F5AB 91 80
    iny             ; F5AD C8
    lda #$1D    ; F5AE A9 1D
    sta [$80],y ; F5B0 91 80
    iny             ; F5B2 C8
    lda <$82     ; F5B3 A5 82
    sta [$80],y ; F5B5 91 80
    iny             ; F5B7 C8
    inc <$82     ; F5B8 E6 82
    lda #$1B    ; F5BA A9 1B
    sta [$80],y ; F5BC 91 80
    iny             ; F5BE C8
    lda <$82     ; F5BF A5 82
    sta [$80],y ; F5C1 91 80
    iny             ; F5C3 C8
; bank $3f
floor.get_treasure_item_id:
    lda #$1D    ; F5C4 A9 1D
    sta [$80],y ; F5C6 91 80
    iny             ; F5C8 C8
    lda #$FF    ; F5C9 A9 FF
    sta [$80],y ; F5CB 91 80
    iny             ; F5CD C8
    lda #$01    ; F5CE A9 01
    sta [$80],y ; F5D0 91 80
    iny             ; F5D2 C8
    .byte   <$E6     ; F5D3 E6
; bank $3f
floor.get_item_price:
    .byte   <$82     ; F5D4 82
    beq .L_F5E7   ; F5D5 F0 10
    lda <$80     ; F5D7 A5 80
    clc             ; F5D9 18
    adc #$09    ; F5DA 69 09
    sta <$80     ; F5DC 85 80
    lda <$81     ; F5DE A5 81
    adc #$00    ; F5E0 69 00
    sta <$81     ; F5E2 85 81
    jmp .L_B5A2   ; F5E4 4C A2 B5
; ----------------------------------------------------------------------------
.L_F5E7:
  dey             ; F5E7 88
    lda #$00    ; F5E8 A9 00
    sta [$80],y ; F5EA 91 80
    rts             ; F5EC 60
; ----------------------------------------------------------------------------
    pha             ; F5ED 48
    ldx #$1B    ; F5EE A2 1B
    jsr menu.draw_window_box        ; F5F0 20 F1 AA
    pla             ; F5F3 68
    jmp menu.draw_window_content    ; F5F4 4C 78 A6
; ----------------------------------------------------------------------------
    pha             ; F5F7 48
    jsr menu.pc_select.save_states  ; F5F8 20 A8 A3
    ldx #$1A    ; F5FB A2 1A
    .byte   <$20     ; F5FD 20
    .byte   <$F1     ; F5FE F1
; bank $3f
increment_gil:
    tax             ; F5FF AA
    pla             ; F600 68
    jsr menu.draw_window_content    ; F601 20 78 A6
    jmp menu.pc_select.load_states  ; F604 4C 8E A3
; ----------------------------------------------------------------------------
    jsr field.load_label_text_into_buffer; F607 20 B1 D1
    lda #$18    ; F60A A9 18
    sta <$93     ; F60C 85 93
    lda #$01    ; F60E A9 01
    sta <$3E     ; F610 85 3E
    lda #$7B    ; F612 A9 7B
    sta <$3F     ; F614 85 3F
    jmp field.reflect_window_scroll ; F616 4C 61 EB
; ----------------------------------------------------------------------------
    jsr menu.items.load_render_params   ; F619 20 75 90
    lda <$1C     ; F61C A5 1C
    sta <$3E     ; F61E 85 3E
    lda <$1D     ; F620 A5 1D
    sta <$3F     ; F622 85 3F
    jmp field.reflect_window_scroll ; F624 4C 61 EB
; ----------------------------------------------------------------------------
    lda #$1F    ; F627 A9 1F
    sta <$80     ; F629 85 80
    lda <$2D     ; F62B A5 2D
    lsr a       ; F62D 4A
    bcc .L_F637   ; F62E 90 07
    lda <$29     ; F630 A5 29
    ldy <$2A     ; F632 A4 2A
    jmp .L_B645   ; F634 4C 45 B6
; ----------------------------------------------------------------------------
.L_F637:
  lda #$FF    ; F637 A9 FF
    sta <$80     ; F639 85 80
    lda <$78     ; F63B A5 78
    bne .L_F641   ; F63D D0 02
    .byte   <$46     ; F63F 46
; bank $3f
invert_treasure_loot_flag:
    .byte   <$80     ; F640 80
.L_F641:
  lda <$27     ; F641 A5 27
    ldy <$28     ; F643 A4 28
    clc             ; F645 18
    adc #$07    ; F646 69 07
    and <$80     ; F648 25 80
    sta <$AC     ; F64A 85 AC
    tya             ; F64C 98
    clc             ; F64D 18
    adc #$07    ; F64E 69 07
    and <$80     ; F650 25 80
    sta <$AD     ; F652 85 AD
    lda #$00    ; F654 A9 00
    sta <$13     ; F656 85 13
    sta <$14     ; F658 85 14
    sta <$AE     ; F65A 85 AE
    sta <$E1     ; F65C 85 E1
    sta <$E2     ; F65E 85 E2
    sta <$E3     ; F660 85 E3
    sta <$E4     ; F662 85 E4
    sta <$A9     ; F664 85 A9
    lda #$04    ; F666 A9 04
    sta <$A7     ; F668 85 A7
    lda <$43     ; F66A A5 43
    sta <$A8     ; F66C 85 A8
    rts             ; F66E 60
; ----------------------------------------------------------------------------
    .byte   <$A5     ; F66F A5
; bank $3f
field.calc_draw_width_and_init_window_tile_buffer:
    .byte   <$33     ; F670 33
    lsr a       ; F671 4A
    bcs .L_F688   ; F672 B0 14
    lsr a       ; F674 4A
    bcs .L_F68F   ; F675 B0 18
    lsr a       ; F677 4A
    bcs .L_F681   ; F678 B0 07
    ldx #$07    ; F67A A2 07
    ldy #$04    ; F67C A0 04
    jmp .L_B693   ; F67E 4C 93 B6
; ----------------------------------------------------------------------------
.L_F681:
  ldx #$07    ; F681 A2 07
; bank $3f
field.init_window_tile_buffer:
    ldy #$0A    ; F683 A0 0A
    jmp .L_B693   ; F685 4C 93 B6
; ----------------------------------------------------------------------------
.L_F688:
  ldx #$0A    ; F688 A2 0A
    ldy #$07    ; F68A A0 07
    jmp .L_B693   ; F68C 4C 93 B6
; ----------------------------------------------------------------------------
.L_F68F:
  ldx #$04    ; F68F A2 04
    .byte   <$A0     ; F691 A0
; bank $3f
field.draw_window_content:
    rmb0    <$8A     ; F692 07
    txa             ; F693 8A
    clc             ; F694 18
    adc <$27     ; F695 65 27
    sta <$80     ; F697 85 80
    sta <$82     ; F699 85 82
    tya             ; F69B 98
    clc             ; F69C 18
    adc <$28     ; F69D 65 28
    sta <$83     ; F69F 85 83
    tya             ; F6A1 98
    clc             ; F6A2 18
    adc <$2F     ; F6A3 65 2F
    cmp #$0F    ; F6A5 C9 0F
    bcc .L_F6AB   ; F6A7 90 02
    .byte   <$E9     ; F6A9 E9
; bank $3f
field.upload_window_content:
    .byte   <$0F     ; F6AA 0F
.L_F6AB:
  ora #$70    ; F6AB 09 70
    sta <$81     ; F6AD 85 81
    ldy #$00    ; F6AF A0 00
    lda [$80],y ; F6B1 B1 80
    asl a       ; F6B3 0A
    tax             ; F6B4 AA
    lda $0400,x ; F6B5 BD 00 04
    and #$30    ; F6B8 29 30
    beq .L_F6C0   ; F6BA F0 04
    lda #$C1    ; F6BC A9 C1
    bne .L_F6C2   ; F6BE D0 02
.L_F6C0:
  lda #$81    ; F6C0 A9 81
.L_F6C2:
  sta <$A6     ; F6C2 85 A6
    lda #$00    ; F6C4 A9 00
    sta <$AF     ; F6C6 85 AF
    sta <$24     ; F6C8 85 24
    sta <$25     ; F6CA 85 25
    sta <$22     ; F6CC 85 22
    sta <$23     ; F6CE 85 23
    lda <$33     ; F6D0 A5 33
    sta <$E0     ; F6D2 85 E0
    lda #$AC    ; F6D4 A9 AC
    sta $7F49   ; F6D6 8D 49 7F
    rts             ; F6D9 60
; ----------------------------------------------------------------------------
    lda <$E3     ; F6DA A5 E3
    sta <$E4     ; F6DC 85 E4
    lda <$E2     ; F6DE A5 E2
    sta <$E3     ; F6E0 85 E3
    lda <$E1     ; F6E2 A5 E1
    sta <$E2     ; F6E4 85 E2
    lda <$33     ; F6E6 A5 33
    and #$0F    ; F6E8 29 0F
    sta <$E1     ; F6EA 85 E1
    lda <$2D     ; F6EC A5 2D
    lsr a       ; F6EE 4A
    bcs .L_F6FA   ; F6EF B0 09
    lda <$44     ; F6F1 A5 44
    and #$30    ; F6F3 29 30
.L_F6F5:
  ora <$E1     ; F6F5 05 E1
    sta <$E1     ; F6F7 85 E1
    rts             ; F6F9 60
; ----------------------------------------------------------------------------
.L_F6FA:
  lda <$44     ; F6FA A5 44
    and #$04    ; F6FC 29 04
    beq .L_F706   ; F6FE F0 06
    lda <$A5     ; F700 A5 A5
    lsr a       ; F702 4A
    bcc .L_F706   ; F703 90 01
    rts             ; F705 60
; ----------------------------------------------------------------------------
.L_F706:
  lda <$44     ; F706 A5 44
    and #$34    ; F708 29 34
    pha             ; F70A 48
    and #$04    ; F70B 29 04
    cmp #$04    ; F70D C9 04
    pla             ; F70F 68
    bcc .L_F6F5   ; F710 90 E3
    lda #$70    ; F712 A9 70
    bne .L_F6F5   ; F714 D0 DF
    lda <$AE     ; F716 A5 AE
    beq .L_F71B   ; F718 F0 01
    rts             ; F71A 60
; ----------------------------------------------------------------------------
.L_F71B:
  lda <$E4     ; F71B A5 E4
    beq .L_F73B   ; F71D F0 1C
    ldx #$00    ; F71F A2 00
    stx <$E4     ; F721 86 E4
    pha             ; F723 48
    and #$0F    ; F724 29 0F
    .byte   <$85     ; F726 85
; bank $3f
switch_to_character_logics_bank:
    smb2    <$68     ; F727 A7
    pla             ; F728 68
    and #$70    ; F729 29 70
    sta <$A8     ; F72B 85 A8
    ldx <$F0     ; F72D A6 F0
    lda .L_FE00,x ; F72F BD 00 FE
    and #$02    ; F732 29 02
    bne .L_F738   ; F734 D0 02
    ora #$01    ; F736 09 01
.L_F738:
  sta <$AE     ; F738 85 AE
    rts             ; F73A 60
; ----------------------------------------------------------------------------
.L_F73B:
  lda <$E3     ; F73B A5 E3
    beq .L_F74D   ; F73D F0 0E
    lda <$A9     ; F73F A5 A9
    bne .L_F743   ; F741 D0 00
.L_F743:
  lda <$E3     ; F743 A5 E3
    ldx #$00    ; F745 A2 00
    stx <$E3     ; F747 86 E3
    jmp .L_B723   ; F749 4C 23 B7
; ----------------------------------------------------------------------------
.L_F74C:
  rts             ; F74C 60
; ----------------------------------------------------------------------------
.L_F74D:
  lda <$E2     ; F74D A5 E2
    beq .L_F769   ; F74F F0 18
    lda <$A9     ; F751 A5 A9
    bne .L_F75B   ; F753 D0 06
    lda <$F0     ; F755 A5 F0
    and #$10    ; F757 29 10
    bne .L_F74C   ; F759 D0 F1
.L_F75B:
  lda <$E2     ; F75B A5 E2
    ldx #$00    ; F75D A2 00
    stx <$E2     ; F75F 86 E2
    jsr .L_B723   ; F761 20 23 B7
    lda #$01    ; F764 A9 01
    sta <$AE     ; F766 85 AE
.L_F768:
  rts             ; F768 60
; ----------------------------------------------------------------------------
.L_F769:
  lda <$E1     ; F769 A5 E1
    and #$0F    ; F76B 29 0F
    sta <$A7     ; F76D 85 A7
    lda <$2D     ; F76F A5 2D
    lsr a       ; F771 4A
    bcs .L_F785   ; F772 B0 11
    lda <$A9     ; F774 A5 A9
    beq .L_F768   ; F776 F0 F0
    lda <$E1     ; F778 A5 E1
    beq .L_F785   ; F77A F0 09
    sta <$E2     ; F77C 85 E2
    lda #$00    ; F77E A9 00
    sta <$E1     ; F780 85 E1
    jmp .L_B75B   ; F782 4C 5B B7
; ----------------------------------------------------------------------------
.L_F785:
  lda #$00    ; F785 A9 00
    sta <$A9     ; F787 85 A9
    rts             ; F789 60
; ----------------------------------------------------------------------------
    lda $600B   ; F78A AD 0B 60
    bne .L_F792   ; F78D D0 03
.L_F78F:
  jmp .L_B654   ; F78F 4C 54 B6
; ----------------------------------------------------------------------------
.L_F792:
  lda <$A9     ; F792 A5 A9
    bne .L_F79F   ; F794 D0 09
    lda <$2D     ; F796 A5 2D
    lsr a       ; F798 4A
    bcs .L_F79F   ; F799 B0 04
    lda <$42     ; F79B A5 42
    bne .L_F78F   ; F79D D0 F0
.L_F79F:
  jsr .L_B716   ; F79F 20 16 B7
    lda <$AE     ; F7A2 A5 AE
    bne .L_F7A7   ; F7A4 D0 01
    rts             ; F7A6 60
; ----------------------------------------------------------------------------
.L_F7A7:
  lda <$A7     ; F7A7 A5 A7
    lsr a       ; F7A9 4A
    bcc .L_F7BD   ; F7AA 90 11
    lda <$13     ; F7AC A5 13
    clc             ; F7AE 18
    adc <$AE     ; F7AF 65 AE
    and #$0F    ; F7B1 29 0F
    sta <$13     ; F7B3 85 13
    bne .L_F7BC   ; F7B5 D0 05
    inc <$AC     ; F7B7 E6 AC
    .byte   <$4C     ; F7B9 4C
    .byte   <$F4     ; F7BA F4
.L_F7BB:
  smb3    <$60     ; F7BB B7
.L_F7BC:
  rts             ; F7BC 60
; ----------------------------------------------------------------------------
.L_F7BD:
  lsr a       ; F7BD 4A
    bcc .L_F7D0   ; F7BE 90 10
    lda <$13     ; F7C0 A5 13
    sec             ; F7C2 38
    sbc <$AE     ; F7C3 E5 AE
    bpl .L_F7C9   ; F7C5 10 02
    dec <$AC     ; F7C7 C6 AC
.L_F7C9:
  and #$0F    ; F7C9 29 0F
    sta <$13     ; F7CB 85 13
    beq .L_F7F4   ; F7CD F0 25
    rts             ; F7CF 60
; ----------------------------------------------------------------------------
.L_F7D0:
  lsr a       ; F7D0 4A
    bcc .L_F7E4   ; F7D1 90 11
    lda <$14     ; F7D3 A5 14
    clc             ; F7D5 18
    adc <$AE     ; F7D6 65 AE
    and #$0F    ; F7D8 29 0F
    sta <$14     ; F7DA 85 14
    bne .L_F7E3   ; F7DC D0 05
    inc <$AD     ; F7DE E6 AD
    jmp .L_B7F4   ; F7E0 4C F4 B7
; ----------------------------------------------------------------------------
.L_F7E3:
  rts             ; F7E3 60
; ----------------------------------------------------------------------------
.L_F7E4:
  lda <$14     ; F7E4 A5 14
    sec             ; F7E6 38
    sbc <$AE     ; F7E7 E5 AE
    bpl .L_F7ED   ; F7E9 10 02
    dec <$AD     ; F7EB C6 AD
.L_F7ED:
  and #$0F    ; F7ED 29 0F
    sta <$14     ; F7EF 85 14
    beq .L_F7F4   ; F7F1 F0 01
    rts             ; F7F3 60
; ----------------------------------------------------------------------------
.L_F7F4:
  lda #$00    ; F7F4 A9 00
    sta <$AE     ; F7F6 85 AE
    rts             ; F7F8 60
; ----------------------------------------------------------------------------
    lda <$2D     ; F7F9 A5 2D
    lsr a       ; F7FB 4A
    bcs .L_F81A   ; F7FC B0 1C
    lda <$78     ; F7FE A5 78
; bank $3f
call_doBattle:
    cmp #$04    ; F800 C9 04
    bcc .L_F81A   ; F802 90 16
    lda <$6D     ; F804 A5 6D
    and #$10    ; F806 29 10
    beq .L_F83E   ; F808 F0 34
    lda #$00    ; F80A A9 00
    sta <$6D     ; F80C 85 6D
    ldx #$00    ; F80E A2 00
    inc <$6E     ; F810 E6 6E
    lda <$6E     ; F812 A5 6E
    and #$04    ; F814 29 04
    beq .L_F864   ; F816 F0 4C
    bne .L_F875   ; F818 D0 5B
.L_F81A:
  lda <$6E     ; F81A A5 6E
    bpl .L_F82B   ; F81C 10 0D
    and #$10    ; F81E 29 10
    .byte   <$F0     ; F820 F0
.L_F821:
  ora #$A5    ; F821 09 A5
    ror $1049   ; F823 6E 49 10
    sta <$6E     ; F826 85 6E
    jsr .L_B83F   ; F828 20 3F B8
.L_F82B:
  lda <$6D     ; F82B A5 6D
    bpl .L_F83E   ; F82D 10 0F
    and #$10    ; F82F 29 10
    beq .L_F83E   ; F831 F0 0B
    lda <$6D     ; F833 A5 6D
    eor #$10    ; F835 49 10
    sta <$6D     ; F837 85 6D
    ldx #$00    ; F839 A2 00
; bank $3f
restoreFieldVariables:
    jmp .L_B864   ; F83B 4C 64 B8
; ----------------------------------------------------------------------------
.L_F83E:
  rts             ; F83E 60
; ----------------------------------------------------------------------------
    ldx #$0C    ; F83F A2 0C
    lda $7F22,x ; F841 BD 22 7F
    pha             ; F844 48
    lda $7F23,x ; F845 BD 23 7F
    pha             ; F848 48
.L_F849:
  lda $7F20,x ; F849 BD 20 7F
    sta $7F22,x ; F84C 9D 22 7F
    lda $7F21,x ; F84F BD 21 7F
    .byte   <$9D     ; F852 9D
    .byte   <$23     ; F853 23
; bank $3f
call_32_8000:
    bbr7    $CA,.L_F821                   ; F854 7F CA CA
    bpl .L_F849   ; F857 10 F0
    inx             ; F859 E8
    inx             ; F85A E8
    pla             ; F85B 68
    sta $7F21,x ; F85C 9D 21 7F
    pla             ; F85F 68
    sta $7F20,x ; F860 9D 20 7F
    rts             ; F863 60
; ----------------------------------------------------------------------------
.L_F864:
  lda $7F01,x ; F864 BD 01 7F
    lsr a       ; F867 4A
    ror $7F00,x ; F868 7E 00 7F
    ror $7F01,x ; F86B 7E 01 7F
    inx             ; F86E E8
    inx             ; F86F E8
    cpx #$20    ; F870 E0 20
    bne .L_F864   ; F872 D0 F0
    rts             ; F874 60
; ----------------------------------------------------------------------------
.L_F875:
  lda $7F00,x ; F875 BD 00 7F
    asl a       ; F878 0A
    rol $7F01,x ; F879 3E 01 7F
    rol $7F00,x ; F87C 3E 00 7F
    inx             ; F87F E8
    inx             ; F880 E8
    cpx #$20    ; F881 E0 20
    bne .L_F875   ; F883 D0 F0
    rts             ; F885 60
; ----------------------------------------------------------------------------
    lda #$A0    ; F886 A9 A0
    sta <$40     ; F888 85 40
    lda #$20    ; F88A A9 20
    sta <$41     ; F88C 85 41
    jmp .L_8236   ; F88E 4C 36 82
; ----------------------------------------------------------------------------
    bpl .L_F8A4   ; F891 10 11
    ora ($13)   ; F893 12 13
    .byte   <$20     ; F895 20
    .byte   <$85     ; F896 85
; bank $3f
ppud.upload_palette:
    ldx <$20     ; F897 A6 20
    cli             ; F899 58
    bbs0    $A9,.L_F89D                   ; F89A 8F A9 00
.L_F89D:
  sta $7AF0   ; F89D 8D F0 7A
    ldx #$23    ; F8A0 A2 23
    .byte   <$20     ; F8A2 20
    .byte   <$F1     ; F8A3 F1
.L_F8A4:
  tax             ; F8A4 AA
    lda #$21    ; F8A5 A9 21
    jsr menu.draw_window_content    ; F8A7 20 78 A6
; bank $3f
do_sprite_dma_from_0200:
    jsr menu.items.save_render_params   ; F8AA 20 3D 90
    lda #$80    ; F8AD A9 80
    .byte   <$85     ; F8AF 85
; bank $3f
ppud.update_sprites_and_palette_after_nmi:
    ldy <$20,x   ; F8B0 B4 20
    tay             ; F8B2 A8
    .byte   <$A3     ; F8B3 A3
    lda #$01    ; F8B4 A9 01
    sta <$A4     ; F8B6 85 A4
    ldx #$22    ; F8B8 A2 22
    .byte   <$20     ; F8BA 20
    .byte   <$F1     ; F8BB F1
; bank $3f
ppud.update_palette_after_nmi:
    tax             ; F8BC AA
    lda #$00    ; F8BD A9 00
    sta <$07     ; F8BF 85 07
    sta <$08     ; F8C1 85 08
    .byte   <$20     ; F8C3 20
    .byte   <$8E     ; F8C4 8E
; bank $3f
ppud.update_sprites_after_nmi:
    .byte   <$A3     ; F8C5 A3
.L_F8C6:
  jsr .L_B8E6   ; F8C6 20 E6 B8
    bcc .L_F8D9   ; F8C9 90 0E
; bank $3f
ppud.sync_registers_with_cache:
    lda <$07     ; F8CB A5 07
    cmp #$01    ; F8CD C9 01
    bcc .L_F8C6   ; F8CF 90 F5
    sec             ; F8D1 38
    sbc #$01    ; F8D2 E9 01
    sta <$07     ; F8D4 85 07
    jmp .L_B8C6   ; F8D6 4C C6 B8
; ----------------------------------------------------------------------------
.L_F8D9:
  lda <$07     ; F8D9 A5 07
    clc             ; F8DB 18
    adc #$01    ; F8DC 69 01
    sta <$07     ; F8DE 85 07
; bank $3f
ppud.set_vram_addr:
    cmp #$04    ; F8E0 C9 04
    bcc .L_F8C6   ; F8E2 90 E2
    clc             ; F8E4 18
    rts             ; F8E5 60
; ----------------------------------------------------------------------------
    ldx <$07     ; F8E6 A6 07
    .byte   <$BD     ; F8E8 BD
    .byte   <$91     ; F8E9 91
; bank $3f
mul8x8_reg:
    clv             ; F8EA B8
    sta <$9E     ; F8EB 85 9E
    and #$03    ; F8ED 29 03
    lsr a       ; F8EF 4A
    ror a       ; F8F0 6A
    ror a       ; F8F1 6A
; bank $3f
offset$7e_16:
    sta <$7F     ; F8F2 85 7F
    jsr .L_B9B7   ; F8F4 20 B7 B9
.L_F8F7:
  jsr thunk_await_nmi_by_set_handler  ; F8F7 20 00 FF
    lda #$02    ; F8FA A9 02
    .byte   <$8D     ; F8FC 8D
    .byte   <$14     ; F8FD 14
; bank $3f
offset$80_16:
    rti             ; F8FE 40
; ----------------------------------------------------------------------------
    jsr field.init_sprites_cache    ; F8FF 20 86 C4
    jsr field.call_sound_driver_and_restore_banks; F902 20 58 C7
    jsr menu.put_cursor_on_window3  ; F905 20 4C 91
    ldx <$7F     ; F908 A6 7F
    jsr .L_B886   ; F90A 20 86 B8
    jsr .L_A7E6   ; F90D 20 E6 A7
    jsr .L_B9CA   ; F910 20 CA B9
    lda #$28    ; F913 A9 28
    jsr menu.window3.get_input_and_scroll; F915 20 0D 92
    lda <$25     ; F918 A5 25
    beq .L_F92E   ; F91A F0 12
    jsr menu.accept_input_action    ; F91C 20 74 8F
    lda <$08     ; F91F A5 08
    sec             ; F921 38
    sbc #$01    ; F922 E9 01
    sta <$08     ; F924 85 08
    bpl .L_F8F7   ; F926 10 CF
    lda #$05    ; F928 A9 05
    sta <$08     ; F92A 85 08
    sec             ; F92C 38
    rts             ; F92D 60
; ----------------------------------------------------------------------------
.L_F92E:
  .byte   <$A5     ; F92E A5
; bank $3f
memcpy: bit <$F0     ; F92F 24 F0
    cmp <$20     ; F931 C5 20
    stz <$8F,x   ; F933 74 8F
    lda <$08     ; F935 A5 08
    cmp #$06    ; F937 C9 06
    bcc .L_F941   ; F939 90 06
    lda #$00    ; F93B A9 00
    sta <$08     ; F93D 85 08
    clc             ; F93F 18
    rts             ; F940 60
; ----------------------------------------------------------------------------
.L_F941:
  .byte   <$A5     ; F941 A5
; bank $3f
copy_to_vram_with_encounter_mode:
    php             ; F942 08
    ora <$7F     ; F943 05 7F
    tay             ; F945 A8
    ldx $7AF0   ; F946 AE F0 7A
    lda $7A02,x ; F949 BD 02 7A
    sta $6106,y ; F94C 99 06 61
    inc <$08     ; F94F E6 08
    jsr .L_B9B7   ; F951 20 B7 B9
    lda <$08     ; F954 A5 08
    cmp #$06    ; F956 C9 06
    bcs .L_F95D   ; F958 B0 03
.L_F95A:
  jmp .L_B8F7   ; F95A 4C F7 B8
; ----------------------------------------------------------------------------
.L_F95D:
  lda <$07     ; F95D A5 07
    beq .L_F95A   ; F95F F0 F9
    cmp #$01    ; F961 C9 01
    beq .L_F977   ; F963 F0 12
    cmp #$02    ; F965 C9 02
    beq copyToVram                  ; F967 F0 07
; bank $3f
copyToVramDirect:
    ldy <$7F     ; F969 A4 7F
    ldx #$80    ; F96B A2 80
    jsr .L_B981   ; F96D 20 81 B9
; bank $3f
copyToVram:
    ldy <$7F     ; F970 A4 7F
    ldx #$40    ; F972 A2 40
    jsr .L_B981   ; F974 20 81 B9
.L_F977:
  ldy <$7F     ; F977 A4 7F
    ldx #$00    ; F979 A2 00
    jsr .L_B981   ; F97B 20 81 B9
    jmp .L_B8F7   ; F97E 4C F7 B8
; ----------------------------------------------------------------------------
    lda $6106,y ; F981 B9 06 61
    cmp $6106,x ; F984 DD 06 61
    bne .L_F9B6   ; F987 D0 2D
    lda $6107,y ; F989 B9 07 61
    cmp $6107,x ; F98C DD 07 61
    bne .L_F9B6   ; F98F D0 25
    lda $6108,y ; F991 B9 08 61
    cmp $6108,x ; F994 DD 08 61
    bne .L_F9B6   ; F997 D0 1D
    lda $6109,y ; F999 B9 09 61
    cmp $6109,x ; F99C DD 09 61
    bne .L_F9B6   ; F99F D0 15
    lda $610A,y ; F9A1 B9 0A 61
    cmp $610A,x ; F9A4 DD 0A 61
    bne .L_F9B6   ; F9A7 D0 0D
    lda $610B,y ; F9A9 B9 0B 61
    cmp $610B,x ; F9AC DD 0B 61
    bne .L_F9B6   ; F9AF D0 05
    dec <$08     ; F9B1 C6 08
    jsr menu.queue_SE_of_invalid_action ; F9B3 20 29 D5
.L_F9B6:
  rts             ; F9B6 60
; ----------------------------------------------------------------------------
    jsr menu.pc_select.save_states  ; F9B7 20 A8 A3
    ldx #$22    ; F9BA A2 22
    jsr menu.get_window_content_metrics ; F9BC 20 A6 AA
    lda #$6D    ; F9BF A9 6D
    jsr field.load_label_text_into_buffer; F9C1 20 B1 D1
    jsr .L_BC03   ; F9C4 20 03 BC
    jmp menu.pc_select.load_states  ; F9C7 4C 8E A3
; ----------------------------------------------------------------------------
    inc <$F0     ; F9CA E6 F0
    lda <$08     ; F9CC A5 08
    cmp #$06    ; F9CE C9 06
    bcc .L_F9D3   ; F9D0 90 01
.L_F9D2:
  rts             ; F9D2 60
; ----------------------------------------------------------------------------
.L_F9D3:
  lda <$F0     ; F9D3 A5 F0
    and #$08    ; F9D5 29 08
    bne .L_F9D2   ; F9D7 D0 F9
    ldx <$26     ; F9D9 A6 26
    lda #$27    ; F9DB A9 27
    sta $0200,x ; F9DD 9D 00 02
    lda #$D0    ; F9E0 A9 D0
    sta $0201,x ; F9E2 9D 01 02
    lda #$03    ; F9E5 A9 03
    sta $0202,x ; F9E7 9D 02 02
    lda <$08     ; F9EA A5 08
    asl a       ; F9EC 0A
    asl a       ; F9ED 0A
    asl a       ; F9EE 0A
    clc             ; F9EF 18
    adc #$48    ; F9F0 69 48
    sta $0203,x ; F9F2 9D 03 02
    rts             ; F9F5 60
; ----------------------------------------------------------------------------
    lda #$3C    ; F9F6 A9 3C
    sta <$57     ; F9F8 85 57
    lda #$00    ; F9FA A9 00
    sta $2001   ; F9FC 8D 01 20
    tax             ; F9FF AA
.L_FA00:
  sta $6100,x ; FA00 9D 00 61
    inx             ; FA03 E8
    bne .L_FA00   ; FA04 D0 FA
    lda #$05    ; FA06 A9 05
    sta <$08     ; FA08 85 08
    lda $6410   ; FA0A AD 10 64
    .byte   <$85     ; FA0D 85
; bank $3f
call_2e_9d53:
    ora #$AD    ; FA0E 09 AD
    bpl .L_FA7A   ; FA10 10 68
    sta <$0A     ; FA12 85 0A
    lda $6C10   ; FA14 AD 10 6C
    sta <$0B     ; FA17 85 0B
    jsr .L_DD06   ; FA19 20 06 DD
    .byte   <$20     ; FA1C 20
; bank $3f
blackOutScreen:
    smb4    <$BB     ; FA1D C7
    .byte   <$BB     ; FA1E BB
    jsr thunk_await_nmi_by_set_handler  ; FA1F 20 00 FF
    lda #$02    ; FA22 A9 02
    .byte   <$8D     ; FA24 8D
    .byte   <$14     ; FA25 14
; bank $3f
doBattle:
    rti             ; FA26 40
; ----------------------------------------------------------------------------
    jsr .L_D308   ; FA27 20 08 D3
    lda <$FF     ; FA2A A5 FF
    sta $2000   ; FA2C 8D 00 20
    lda #$1E    ; FA2F A9 1E
    sta $2001   ; FA31 8D 01 20
    lda #$0C    ; FA34 A9 0C
    sta $78F0   ; FA36 8D F0 78
    lda #$00    ; FA39 A9 00
    sta $79F0   ; FA3B 8D F0 79
    sta $7AF0   ; FA3E 8D F0 7A
    lda #$01    ; FA41 A9 01
    sta $7F43   ; FA43 8D 43 7F
    lda #$01    ; FA46 A9 01
    sta $7F42   ; FA48 8D 42 7F
    jsr menu.savefile.build_file_menu   ; FA4B 20 A0 A9
    jsr .L_BBEF   ; FA4E 20 EF BB
    jsr .L_BBAD   ; FA51 20 AD BB
.L_FA54:
  jsr thunk_await_nmi_by_set_handler  ; FA54 20 00 FF
    lda #$02    ; FA57 A9 02
    sta $4014   ; FA59 8D 14 40
    jsr field.init_sprites_cache    ; FA5C 20 86 C4
    jsr field.call_sound_driver_and_restore_banks; FA5F 20 58 C7
    lda $78F0   ; FA62 AD F0 78
    lsr a       ; FA65 4A
    lsr a       ; FA66 4A
    and #$03    ; FA67 29 03
    cmp #$03    ; FA69 C9 03
    bcs .L_FA72   ; FA6B B0 05
    cmp #$00    ; FA6D C9 00
    jsr .L_8241   ; FA6F 20 41 82
.L_FA72:
  jsr menu.put_cursor_on_window1  ; FA72 20 19 91
    jsr .L_BADD   ; FA75 20 DD BA
    lda <$24     ; FA78 A5 24
.L_FA7A:
  beq .L_FA54   ; FA7A F0 D8
    jsr menu.accept_input_action    ; FA7C 20 74 8F
    lda $78F0   ; FA7F AD F0 78
    cmp #$0C    ; FA82 C9 0C
    bcs .L_FAC6   ; FA84 B0 40
    lsr a       ; FA86 4A
    lsr a       ; FA87 4A
    sta <$80     ; FA88 85 80
    eor #$03    ; FA8A 49 03
    cmp #$03    ; FA8C C9 03
    bne .L_FA92   ; FA8E D0 02
    lda #$04    ; FA90 A9 04
.L_FA92:
  and <$62     ; FA92 25 62
    beq .L_FAC6   ; FA94 F0 30
    lda <$80     ; FA96 A5 80
    pha             ; FA98 48
    asl a       ; FA99 0A
    asl a       ; FA9A 0A
    clc             ; FA9B 18
    adc #$64    ; FA9C 69 64
    sta <$81     ; FA9E 85 81
    lda #$00    ; FAA0 A9 00
    sta <$80     ; FAA2 85 80
    sta <$82     ; FAA4 85 82
    lda #$60    ; FAA6 A9 60
    sta <$83     ; FAA8 85 83
    ldy #$00    ; FAAA A0 00
.L_FAAC:
  lda [$80],y ; FAAC B1 80
    sta [$82],y ; FAAE 91 82
    iny             ; FAB0 C8
    bne .L_FAAC   ; FAB1 D0 F9
    inc <$81     ; FAB3 E6 81
; bank $3f
saveNmiIrqHandlerAndSetHandlerForBattle:
    inc <$83     ; FAB5 E6 83
    lda <$83     ; FAB7 A5 83
    and #$03    ; FAB9 29 03
    bne .L_FAAC   ; FABB D0 EF
    pla             ; FABD 68
    tax             ; FABE AA
    lda <$09,x   ; FABF B5 09
    sta $6010   ; FAC1 8D 10 60
    sec             ; FAC4 38
    rts             ; FAC5 60
; ----------------------------------------------------------------------------
.L_FAC6:
  lda #$3A    ; FAC6 A9 3A
    jsr call_switch1stBank          ; FAC8 20 06 FF
    jsr .L_850C   ; FACB 20 0C 85
    lda #$3C    ; FACE A9 3C
    jsr call_switch1stBank          ; FAD0 20 06 FF
    lda <$08     ; FAD3 A5 08
    sta $6010   ; FAD5 8D 10 60
    jsr .L_B895   ; FAD8 20 95 B8
    clc             ; FADB 18
    rts             ; FADC 60
; ----------------------------------------------------------------------------
; bank $3f
restoreIrqHandlerAndNmiHandler:
    jsr menu.get_input_and_queue_SE ; FADD 20 75 91
    and #$0F    ; FAE0 29 0F
    beq .L_FB24   ; FAE2 F0 40
    cmp #$04    ; FAE4 C9 04
    bcc .L_FB25   ; FAE6 90 3D
    cmp #$08    ; FAE8 C9 08
    bcs .L_FAFA   ; FAEA B0 0E
    lda $78F0   ; FAEC AD F0 78
    clc             ; FAEF 18
    adc #$04    ; FAF0 69 04
    cmp #$10    ; FAF2 C9 10
    bcc .L_FB04   ; FAF4 90 0E
    lda #$00    ; FAF6 A9 00
    beq .L_FB04   ; FAF8 F0 0A
.L_FAFA:
  lda $78F0   ; FAFA AD F0 78
    sec             ; FAFD 38
    sbc #$04    ; FAFE E9 04
    bcs .L_FB04   ; FB00 B0 02
    lda #$0C    ; FB02 A9 0C
.L_FB04:
  sta $78F0   ; FB04 8D F0 78
    cmp #$0C    ; FB07 C9 0C
    ldx #$00    ; FB09 A2 00
    bcs .L_FB1F   ; FB0B B0 12
    lsr a       ; FB0D 4A
    lsr a       ; FB0E 4A
    tax             ; FB0F AA
    inx             ; FB10 E8
    eor #$03    ; FB11 49 03
    cmp #$03    ; FB13 C9 03
    bne .L_FB19   ; FB15 D0 02
; bank $3f
saveFieldVars:
    lda #$04    ; FB17 A9 04
.L_FB19:
  and <$62     ; FB19 25 62
    bne .L_FB1F   ; FB1B D0 02
    ldx #$00    ; FB1D A2 00
.L_FB1F:
  lda <$08,x   ; FB1F B5 08
    jmp .L_BB7D   ; FB21 4C 7D BB
; ----------------------------------------------------------------------------
.L_FB24:
  rts             ; FB24 60
; ----------------------------------------------------------------------------
.L_FB25:
  cmp #$02    ; FB25 C9 02
    bcs .L_FB41   ; FB27 B0 18
    lda $78F0   ; FB29 AD F0 78
    cmp #$0C    ; FB2C C9 0C
    bcs .L_FB59   ; FB2E B0 29
; bank $3f
irq_handler:
    lsr a       ; FB30 4A
    lsr a       ; FB31 4A
    tax             ; FB32 AA
    eor #$03    ; FB33 49 03
    cmp #$03    ; FB35 C9 03
    bne .L_FB3B   ; FB37 D0 02
    lda #$04    ; FB39 A9 04
.L_FB3B:
  and <$62     ; FB3B 25 62
    bne .L_FB6D   ; FB3D D0 2E
    beq .L_FB59   ; FB3F F0 18
.L_FB41:
  lda $78F0   ; FB41 AD F0 78
    cmp #$0C    ; FB44 C9 0C
    bcs .L_FB61   ; FB46 B0 19
    lsr a       ; FB48 4A
    lsr a       ; FB49 4A
    tax             ; FB4A AA
    eor #$03    ; FB4B 49 03
    cmp #$03    ; FB4D C9 03
    bne .L_FB53   ; FB4F D0 02
    lda #$04    ; FB51 A9 04
.L_FB53:
  and <$62     ; FB53 25 62
    bne .L_FB74   ; FB55 D0 1D
; bank $3f
ppud.nmi_handler:
    beq .L_FB61   ; FB57 F0 08
.L_FB59:
  lda <$08     ; FB59 A5 08
    clc             ; FB5B 18
    adc #$01    ; FB5C 69 01
    jmp .L_BB66   ; FB5E 4C 66 BB
; ----------------------------------------------------------------------------
.L_FB61:
  lda <$08     ; FB61 A5 08
    sec             ; FB63 38
    sbc #$01    ; FB64 E9 01
    and #$07    ; FB66 29 07
    sta <$08     ; FB68 85 08
    jmp .L_BB7D   ; FB6A 4C 7D BB
; ----------------------------------------------------------------------------
.L_FB6D:
  lda <$09,x   ; FB6D B5 09
    clc             ; FB6F 18
    adc #$01    ; FB70 69 01
    bne .L_FB79   ; FB72 D0 05
.L_FB74:
  lda <$09,x   ; FB74 B5 09
    sec             ; FB76 38
    sbc #$01    ; FB77 E9 01
.L_FB79:
  and #$07    ; FB79 29 07
    sta <$09,x   ; FB7B 95 09
    pha             ; FB7D 48
    .byte   <$20     ; FB7E 20
    brk             ; FB7F 00
; bank $3f
ppud.await_nmi_completion:
    bbs7    $2C,.L_FB85                   ; FB80 FF 2C 02
    .byte   <$20     ; FB83 20
    .byte   <$A9     ; FB84 A9
.L_FB85:
  .byte   <$20     ; FB85 20
    .byte   <$8D     ; FB86 8D
; bank $3f
switch_16k_synchronized:
    asl <$20     ; FB87 06 20
; bank $3f
switch_16k_synchronized_nocache:
    lda #$7B    ; FB89 A9 7B
    sta $2006   ; FB8B 8D 06 20
    pla             ; FB8E 68
    clc             ; FB8F 18
    adc #$81    ; FB90 69 81
    sta $2007   ; FB92 8D 07 20
    lda #$00    ; FB95 A9 00
    sta $2005   ; FB97 8D 05 20
    sta $2005   ; FB9A 8D 05 20
    lda <$FF     ; FB9D A5 FF
    sta $2000   ; FB9F 8D 00 20
    jmp field.call_sound_driver_and_restore_banks; FBA2 4C 58 C7
; ----------------------------------------------------------------------------
    jsr .L_2221   ; FBA5 20 21 22
    .byte   <$20     ; FBA8 20
    .byte   <$DD     ; FBA9 DD
; bank $3f
getPad1Input:
    cmp $51DD,x ; FBAA DD DD 51
    ldx #$0F    ; FBAD A2 0F
.L_FBAF:
  lda $7900,x ; FBAF BD 00 79
    sta $7800,x ; FBB2 9D 00 78
    dex             ; FBB5 CA
    bpl .L_FBAF   ; FBB6 10 F7
    lda #$10    ; FBB8 A9 10
    sta $78F1   ; FBBA 8D F1 78
    lda #$01    ; FBBD A9 01
    sta <$A2     ; FBBF 85 A2
    lda <$08     ; FBC1 A5 08
    jsr .L_BB7D   ; FBC3 20 7D BB
    rts             ; FBC6 60
; ----------------------------------------------------------------------------
    jsr .L_F7BB   ; FBC7 20 BB F7
    lda #$88    ; FBCA A9 88
    sta <$FF     ; FBCC 85 FF
    sta $2000   ; FBCE 8D 00 20
    lda #$01    ; FBD1 A9 01
    sta <$37     ; FBD3 85 37
    jsr .L_8F58   ; FBD5 20 58 8F
    lda #$00    ; FBD8 A9 00
    sta <$A2     ; FBDA 85 A2
    sta <$A3     ; FBDC 85 A3
    sta <$A4     ; FBDE 85 A4
    jsr field.init_sprites_cache    ; FBE0 20 86 C4
    jsr thunk_await_nmi_by_set_handler  ; FBE3 20 00 FF
    jsr thunk_await_nmi_by_set_handler  ; FBE6 20 00 FF
    lda #$02    ; FBE9 A9 02
    sta $4014   ; FBEB 8D 14 40
    rts             ; FBEE 60
; ----------------------------------------------------------------------------
; bank $3f
getBattleRandom:
    ldx #$0C    ; FBEF A2 0C
    jsr menu.draw_window_box        ; FBF1 20 F1 AA
    lda #$22    ; FBF4 A9 22
    jsr menu.draw_window_content    ; FBF6 20 78 A6
    ldx #$21    ; FBF9 A2 21
    jsr menu.draw_window_box        ; FBFB 20 F1 AA
    lda #$23    ; FBFE A9 23
    jmp menu.draw_window_content    ; FC00 4C 78 A6
; ----------------------------------------------------------------------------
    lda #$18    ; FC03 A9 18
    sta <$93     ; FC05 85 93
    lda #$01    ; FC07 A9 01
    sta <$3E     ; FC09 85 3E
    lda #$7B    ; FC0B A9 7B
    sta <$3F     ; FC0D 85 3F
    jmp field.reflect_window_scroll ; FC0F 4C 61 EB
; ----------------------------------------------------------------------------
    jsr .L_BC4D   ; FC12 20 4D BC
    ldy #$00    ; FC15 A0 00
    ldx #$00    ; FC17 A2 00
.L_FC19:
  lda $7400,x ; FC19 BD 00 74
    sta $60C0,y ; FC1C 99 C0 60
    lda $7420,x ; FC1F BD 20 74
    sta $60C1,y ; FC22 99 C1 60
    iny             ; FC25 C8
    iny             ; FC26 C8
; bank $3f
initBattleRandom:
    inx             ; FC27 E8
    cpx #$20    ; FC28 E0 20
    bcc .L_FC19   ; FC2A 90 ED
    rts             ; FC2C 60
; ----------------------------------------------------------------------------
    jsr .L_BC4D   ; FC2D 20 4D BC
    ldy #$00    ; FC30 A0 00
    ldx #$00    ; FC32 A2 00
.L_FC34:
  lda $7400,y ; FC34 B9 00 74
    sta $60C0,x ; FC37 9D C0 60
    lda $7401,y ; FC3A B9 01 74
    sta $60E0,x ; FC3D 9D E0 60
    iny             ; FC40 C8
    iny             ; FC41 C8
    inx             ; FC42 E8
    cpx #$20    ; FC43 E0 20
    bcc .L_FC34   ; FC45 90 ED
    lda <$FF     ; FC47 A5 FF
    sta $2000   ; FC49 8D 00 20
    rts             ; FC4C 60
; ----------------------------------------------------------------------------
    ldx #$00    ; FC4D A2 00
.L_FC4F:
  lda $60C0,x ; FC4F BD C0 60
    sta $7400,x ; FC52 9D 00 74
    inx             ; FC55 E8
    cpx #$40    ; FC56 E0 40
    bcc .L_FC4F   ; FC58 90 F5
    rts             ; FC5A 60
; ----------------------------------------------------------------------------
    bcc .L_FC68   ; FC5B 90 0B
    jmp isEncounterOccured          ; FC5D 4C B9 BD
; ----------------------------------------------------------------------------
.L_FC60:
  lda <$44     ; FC60 A5 44
    and #$3F    ; FC62 29 3F
    sta <$44     ; FC64 85 44
    clc             ; FC66 18
    rts             ; FC67 60
; ----------------------------------------------------------------------------
.L_FC68:
  lda <$6C     ; FC68 A5 6C
    bne .L_FC60   ; FC6A D0 F4
    lda #$2E    ; FC6C A9 2E
    jsr call_switch1stBank          ; FC6E 20 06 FF
    lda <$78     ; FC71 A5 78
    bne .L_FC8C   ; FC73 D0 17
    lda $9D47   ; FC75 AD 47 9D
    ldx <$42     ; FC78 A6 42
    beq .L_FCC5   ; FC7A F0 49
    lda $9D48   ; FC7C AD 48 9D
    cpx #$02    ; FC7F E0 02
    beq .L_FCC5   ; FC81 F0 42
    lda $9D49   ; FC83 AD 49 9D
    cpx #$03    ; FC86 E0 03
    beq .L_FCC5   ; FC88 F0 3B
    bne .L_FC60   ; FC8A D0 D4
.L_FC8C:
  cmp #$02    ; FC8C C9 02
    bne .L_FC99   ; FC8E D0 09
    .byte   <$AD     ; FC90 AD
    lsr a       ; FC91 4A
; bank $3f
div:    sta $42A6,x ; FC92 9D A6 42
    bne .L_FC60   ; FC95 D0 C9
    beq .L_FCC5   ; FC97 F0 2C
.L_FC99:
  cmp #$03    ; FC99 C9 03
    bne .L_FCC2   ; FC9B D0 25
    lda $9D4B   ; FC9D AD 4B 9D
    ldx <$42     ; FCA0 A6 42
    beq .L_FCC5   ; FCA2 F0 21
    lda $9D4C   ; FCA4 AD 4C 9D
    cpx #$02    ; FCA7 E0 02
    beq .L_FCC5   ; FCA9 F0 1A
    lda $9D4D   ; FCAB AD 4D 9D
    cpx #$03    ; FCAE E0 03
    beq .L_FCC5   ; FCB0 F0 13
    lda $602F   ; FCB2 AD 2F 60
    lsr a       ; FCB5 4A
    bcc .L_FCBF   ; FCB6 90 07
    lda $9D4E   ; FCB8 AD 4E 9D
    cpx #$04    ; FCBB E0 04
    bcs .L_FCC5   ; FCBD B0 06
.L_FCBF:
  jmp .L_BC60   ; FCBF 4C 60 BC
; ----------------------------------------------------------------------------
.L_FCC2:
  lda $9D4F   ; FCC2 AD 4F 9D
.L_FCC5:
  sta <$80     ; FCC5 85 80
    jsr field.getRandom             ; FCC7 20 11 C7
    cmp <$80     ; FCCA C5 80
    bcc .L_FCD1   ; FCCC 90 03
    jmp .L_BC60   ; FCCE 4C 60 BC
; ----------------------------------------------------------------------------
.L_FCD1:
  lda <$78     ; FCD1 A5 78
    bne .L_FD07   ; FCD3 D0 32
    .byte   <$A6     ; FCD5 A6
; bank $3f
mul8x8: .byte   <$42     ; FCD6 42
    beq .L_FCE6   ; FCD7 F0 0D
    lda $9D40   ; FCD9 AD 40 9D
    cpx #$02    ; FCDC E0 02
    beq .L_FCE3   ; FCDE F0 03
    lda $9D41   ; FCE0 AD 41 9D
.L_FCE3:
  jmp getEncounterId              ; FCE3 4C 4D BD
; ----------------------------------------------------------------------------
.L_FCE6:
  lda <$27     ; FCE6 A5 27
    clc             ; FCE8 18
    adc #$07    ; FCE9 69 07
    and #$7F    ; FCEB 29 7F
    lsr a       ; FCED 4A
    lsr a       ; FCEE 4A
    lsr a       ; FCEF 4A
    lsr a       ; FCF0 4A
    lsr a       ; FCF1 4A
    sta <$80     ; FCF2 85 80
    .byte   <$A5     ; FCF4 A5
; bank $3f
mul16x16:
    plp             ; FCF5 28
    clc             ; FCF6 18
    adc #$07    ; FCF7 69 07
    and #$60    ; FCF9 29 60
    lsr a       ; FCFB 4A
    lsr a       ; FCFC 4A
    lsr a       ; FCFD 4A
    ora <$80     ; FCFE 05 80
    tax             ; FD00 AA
    lda $9CF0,x ; FD01 BD F0 9C
    jmp getEncounterId              ; FD04 4C 4D BD
; ----------------------------------------------------------------------------
.L_FD07:
  cmp #$02    ; FD07 C9 02
    bne .L_FD11   ; FD09 D0 06
    lda $9D42   ; FD0B AD 42 9D
    jmp getEncounterId              ; FD0E 4C 4D BD
; ----------------------------------------------------------------------------
.L_FD11:
  cmp #$03    ; FD11 C9 03
    bne copyTo_$7ad7_x_Until0       ; FD13 D0 35
    lda $9D43   ; FD15 AD 43 9D
    ldx <$42     ; FD18 A6 42
    cpx #$02    ; FD1A E0 02
    beq .L_FD47   ; FD1C F0 29
    .byte   <$AD     ; FD1E AD
    .byte   <$44     ; FD1F 44
; bank $3f
flagTargetBit:
    sta $03E0,x ; FD20 9D E0 03
    beq .L_FD47   ; FD23 F0 22
    lda $9D45   ; FD25 AD 45 9D
    cpx #$04    ; FD28 E0 04
    bcs .L_FCE3   ; FD2A B0 B7
; bank $3f
clearTargetBit:
    lda <$27     ; FD2C A5 27
    clc             ; FD2E 18
    adc #$07    ; FD2F 69 07
    lsr a       ; FD31 4A
    lsr a       ; FD32 4A
    lsr a       ; FD33 4A
    lsr a       ; FD34 4A
    lsr a       ; FD35 4A
    sta <$80     ; FD36 85 80
; bank $3f
maskTargetBit:
    lda <$28     ; FD38 A5 28
    clc             ; FD3A 18
    .byte   <$69     ; FD3B 69
; bank $3f
shiftLeftN:
    rmb0    <$29     ; FD3C 07
    and #$E0    ; FD3D 29 E0
    lsr a       ; FD3F 4A
    lsr a       ; FD40 4A
    ora <$80     ; FD41 05 80
; bank $3f
shiftRightN:
    tax             ; FD43 AA
    lda $9D00,x ; FD44 BD 00 9D
.L_FD47:
  jmp getEncounterId              ; FD47 4C 4D BD
; ----------------------------------------------------------------------------
; bank $3f
copyTo_$7ad7_x_Until0:
    lda $9D46   ; FD4A AD 46 9D
    ldy #$00    ; FD4D A0 00
    sty <$81     ; FD4F 84 81
    asl a       ; FD51 0A
    rol <$81     ; FD52 26 81
    asl a       ; FD54 0A
    rol <$81     ; FD55 26 81
    asl a       ; FD57 0A
    rol <$81     ; FD58 26 81
    clc             ; FD5A 18
    adc #$F0    ; FD5B 69 F0
    sta <$80     ; FD5D 85 80
    .byte   <$A5     ; FD5F A5
; bank $3f
get2byteAtBank18:
    sta ($69,x) ; FD60 81 69
    sty <$85,x   ; FD62 94 85
    sta ($E6,x) ; FD64 81 E6
    smb7    <$A6     ; FD66 F7
    ldx <$F7     ; FD67 A6 F7
    lda .L_FE00,x ; FD69 BD 00 FE
    and #$3F    ; FD6C 29 3F
    tax             ; FD6E AA
    ldy $BD78,x ; FD6F BC 78 BD
    lda [$80],y ; FD72 B1 80
    sta <$6A     ; FD74 85 6A
    clc             ; FD76 18
    rts             ; FD77 60
; ----------------------------------------------------------------------------
    brk             ; FD78 00
    brk             ; FD79 00
    brk             ; FD7A 00
    brk             ; FD7B 00
    brk             ; FD7C 00
    brk             ; FD7D 00
    brk             ; FD7E 00
    brk             ; FD7F 00
    brk             ; FD80 00
    brk             ; FD81 00
    brk             ; FD82 00
    brk             ; FD83 00
    ora ($01,x) ; FD84 01 01
    ora ($01,x) ; FD86 01 01
    ora ($01,x) ; FD88 01 01
    ora ($01,x) ; FD8A 01 01
    ora ($01,x) ; FD8C 01 01
    ora ($01,x) ; FD8E 01 01
    .byte   <$02     ; FD90 02
    .byte   <$02     ; FD91 02
    .byte   <$02     ; FD92 02
    .byte   <$02     ; FD93 02
    .byte   <$02     ; FD94 02
    .byte   <$02     ; FD95 02
    .byte   <$02     ; FD96 02
    .byte   <$02     ; FD97 02
    .byte   <$02     ; FD98 02
    .byte   <$02     ; FD99 02
    .byte   <$02     ; FD9A 02
    .byte   <$02     ; FD9B 02
    .byte   <$03     ; FD9C 03
    .byte   <$03     ; FD9D 03
    .byte   <$03     ; FD9E 03
    .byte   <$03     ; FD9F 03
    .byte   <$03     ; FDA0 03
    .byte   <$03     ; FDA1 03
    .byte   <$03     ; FDA2 03
    .byte   <$03     ; FDA3 03
    .byte   <$03     ; FDA4 03
    .byte   <$03     ; FDA5 03
; bank $3f
loadTo7400Ex:
    .byte   <$03     ; FDA6 03
    .byte   <$03     ; FDA7 03
    tsb <$04     ; FDA8 04 04
    tsb <$04     ; FDAA 04 04
    tsb <$04     ; FDAC 04 04
    ora <$05     ; FDAE 05 05
    ora <$05     ; FDB0 05 05
    ora <$05     ; FDB2 05 05
    asl <$06     ; FDB4 06 06
    asl <$07     ; FDB6 06 07
.L_FDB8:
  rts             ; FDB8 60
; ----------------------------------------------------------------------------
    lda <$6C     ; FDB9 A5 6C
    bne .L_FDB8   ; FDBB D0 FB
    jsr field.getRandom             ; FDBD 20 11 C7
    cmp <$F8     ; FDC0 C5 F8
    bcs .L_FDB8   ; FDC2 B0 F4
    lda #$2E    ; FDC4 A9 2E
    jsr call_switch1stBank          ; FDC6 20 06 FF
    ldx <$48     ; FDC9 A6 48
    lda <$78     ; FDCB A5 78
    bne .L_FDDA   ; FDCD D0 0B
    lda $92F0,x ; FDCF BD F0 92
    jsr getEncounterId              ; FDD2 20 4D BD
    lda #$20    ; FDD5 A9 20
    sta <$AB     ; FDD7 85 AB
    rts             ; FDD9 60
; ----------------------------------------------------------------------------
.L_FDDA:
  .byte   <$BD     ; FDDA BD
    .byte   <$F0     ; FDDB F0
; bank $3f
copyTo7400:
    .byte   <$93     ; FDDC 93
    jmp .L_BDD2   ; FDDD 4C D2 BD
; ----------------------------------------------------------------------------
    lda #$0B    ; FDE0 A9 0B
    jsr call_switch1stBank          ; FDE2 20 06 FF
    lda #$88    ; FDE5 A9 88
    sta <$81     ; FDE7 85 81
    lda #$00    ; FDE9 A9 00
    sta <$80     ; FDEB 85 80
    ldx #$06    ; FDED A2 06
    lda #$12    ; FDEF A9 12
    .byte   <$20     ; FDF1 20
    .byte   <$92     ; FDF2 92
; bank $3f
call_bank30_9e58:
    ldx $202C,y ; FDF3 BE 2C 20
    rts             ; FDF6 60
; ----------------------------------------------------------------------------
    bvc .L_FDFC   ; FDF7 50 03
    jsr .L_BE7C   ; FDF9 20 7C BE
.L_FDFC:
  lda $6020   ; FDFC AD 20 60
    lsr a       ; FDFF 4A
.L_FE00:
  bcc .L_FE0D   ; FE00 90 0B
    lda #$80    ; FE02 A9 80
    sta <$80     ; FE04 85 80
    lda #$8F    ; FE06 A9 8F
    sta <$81     ; FE08 85 81
    jsr .L_BE7C   ; FE0A 20 7C BE
.L_FE0D:
  lda #$00    ; FE0D A9 00
    sta <$80     ; FE0F 85 80
    lda #$87    ; FE11 A9 87
    sta <$81     ; FE13 85 81
    ldx #$01    ; FE15 A2 01
    lda #$18    ; FE17 A9 18
    jsr .L_BE92   ; FE19 20 92 BE
    lda #$9E    ; FE1C A9 9E
    sta <$81     ; FE1E 85 81
    ldy #$80    ; FE20 A0 80
    ldx #$80    ; FE22 A2 80
    jsr .L_BEAD   ; FE24 20 AD BE
    lda #$99    ; FE27 A9 99
    sta <$81     ; FE29 85 81
    ldy #$00    ; FE2B A0 00
    ldx #$80    ; FE2D A2 80
    jsr .L_BEAD   ; FE2F 20 AD BE
    lda #$80    ; FE32 A9 80
    sta <$80     ; FE34 85 80
    lda #$9A    ; FE36 A9 9A
    sta <$81     ; FE38 85 81
    lda #$1C    ; FE3A A9 1C
    ldx #$04    ; FE3C A2 04
    jsr .L_BE92   ; FE3E 20 92 BE
    lda <$78     ; FE41 A5 78
    lsr a       ; FE43 4A
    beq .L_FE64   ; FE44 F0 1E
    lda #$99    ; FE46 A9 99
    sta <$81     ; FE48 85 81
    lda #$80    ; FE4A A9 80
    sta <$80     ; FE4C 85 80
    ldx #$01    ; FE4E A2 01
    lda #$1A    ; FE50 A9 1A
    jsr .L_BE92   ; FE52 20 92 BE
    lda #$00    ; FE55 A9 00
    sta <$80     ; FE57 85 80
    lda #$9F    ; FE59 A9 9F
    sta <$81     ; FE5B 85 81
    ldx #$01    ; FE5D A2 01
    lda #$1B    ; FE5F A9 1B
    jmp .L_BE92   ; FE61 4C 92 BE
; ----------------------------------------------------------------------------
.L_FE64:
  lda $6020   ; FE64 AD 20 60
    ldx #$97    ; FE67 A2 97
    and #$0C    ; FE69 29 0C
    bne .L_FE6F   ; FE6B D0 02
    ldx #$95    ; FE6D A2 95
.L_FE6F:
  stx <$81     ; FE6F 86 81
    lda #$00    ; FE71 A9 00
    sta <$80     ; FE73 85 80
    ldx #$02    ; FE75 A2 02
    lda #$1A    ; FE77 A9 1A
    jmp .L_BE92   ; FE79 4C 92 BE
; ----------------------------------------------------------------------------
    lda #$16    ; FE7C A9 16
    sta $2006   ; FE7E 8D 06 20
    lda #$80    ; FE81 A9 80
    sta $2006   ; FE83 8D 06 20
    bne .L_FE88   ; FE86 D0 00
.L_FE88:
  ldx #$01    ; FE88 A2 01
    jsr .L_BE9D   ; FE8A 20 9D BE
    ldx #$80    ; FE8D A2 80
    jmp .L_BEAD   ; FE8F 4C AD BE
; ----------------------------------------------------------------------------
    bit $2002   ; FE92 2C 02 20
    sta $2006   ; FE95 8D 06 20
    lda #$00    ; FE98 A9 00
    sta $2006   ; FE9A 8D 06 20
    ldy #$00    ; FE9D A0 00
.L_FE9F:
  lda [$80],y ; FE9F B1 80
    sta $2007   ; FEA1 8D 07 20
    iny             ; FEA4 C8
    bne .L_FE9F   ; FEA5 D0 F8
    inc <$81     ; FEA7 E6 81
    dex             ; FEA9 CA
    bne .L_FE9F   ; FEAA D0 F3
    rts             ; FEAC 60
; ----------------------------------------------------------------------------
.L_FEAD:
  lda [$80],y ; FEAD B1 80
    sta $2007   ; FEAF 8D 07 20
    iny             ; FEB2 C8
    dex             ; FEB3 CA
    bne .L_FEAD   ; FEB4 D0 F7
    rts             ; FEB6 60
; ----------------------------------------------------------------------------
    lda <$8A     ; FEB7 A5 8A
    cmp #$6A    ; FEB9 C9 6A
    bcs .L_FEBE   ; FEBB B0 01
    rts             ; FEBD 60
; ----------------------------------------------------------------------------
.L_FEBE:
  ldy #$00    ; FEBE A0 00
    ldx <$26     ; FEC0 A6 26
.L_FEC2:
  lda $0200,y ; FEC2 B9 00 02
    sta $0200,x ; FEC5 9D 00 02
    inx             ; FEC8 E8
    iny             ; FEC9 C8
    cpy #$10    ; FECA C0 10
    bcc .L_FEC2   ; FECC 90 F4
    stx <$26     ; FECE 86 26
    ldx #$00    ; FED0 A2 00
    lda <$F0     ; FED2 A5 F0
    and #$03    ; FED4 29 03
    bne .L_FEDA   ; FED6 D0 02
    ldx #$10    ; FED8 A2 10
.L_FEDA:
  ldy #$00    ; FEDA A0 00
.L_FEDC:
  lda $BEE9,x ; FEDC BD E9 BE
    .byte   <$99     ; FEDF 99
.L_FEE0:
  brk             ; FEE0 00
    .byte   <$02     ; FEE1 02
    inx             ; FEE2 E8
    iny             ; FEE3 C8
    cpy #$10    ; FEE4 C0 10
    bcc .L_FEDC   ; FEE6 90 F4
    rts             ; FEE8 60
; ----------------------------------------------------------------------------
    bbr6    $FC,.L_FEEF                   ; FEE9 6F FC 03
    bvs .L_FF5D   ; FEEC 70 6F
    .byte   <$FD     ; FEEE FD
.L_FEEF:
  .byte   <$03     ; FEEF 03
    sei             ; FEF0 78
    rmb7    <$FE     ; FEF1 77
    inc $7003,x ; FEF2 FE 03 70
    rmb7    <$FF     ; FEF5 77
    bbs7    $03,.L_FF71                   ; FEF6 FF 03 78
    bbr6    $FD,.L_FF3F                   ; FEF9 6F FD 43
    bvs .L_FF6D   ; FEFC 70 6F
    .byte   <$FC     ; FEFE FC
    .byte   <$43     ; FEFF 43
; bank $3f
thunk_await_nmi_by_set_handler:
    sei             ; FF00 78
    rmb7    <$FF     ; FF01 77
    .byte   <$FF     ; FF02 FF
; bank $3f
call_switchFirst2Banks:
    .byte   <$43     ; FF03 43
    bvs .L_FF7D   ; FF04 70 77
; bank $3f
call_switch1stBank:
    inc $7843,x ; FF06 FE 43 78
; bank $3f
call_switch2ndBank:
    rts             ; FF09 60
; ----------------------------------------------------------------------------
    lda <$78     ; FF0A A5 78
; bank $3f
switch_1st_page:
    cmp #$03    ; FF0C C9 03
    .byte   <$D0     ; FF0E D0
.L_FF0F:
  sbc $20AD,y ; FF0F F9 AD 20
    rts             ; FF12 60
; ----------------------------------------------------------------------------
    and #$20    ; FF13 29 20
.L_FF15:
  beq call_switch2ndBank          ; FF15 F0 F2
; bank $3f
switch_2pages:
    lda #$75    ; FF17 A9 75
    sta <$41     ; FF19 85 41
.L_FF1B:
  lda #$80    ; FF1B A9 80
    sta <$40     ; FF1D 85 40
; bank $3f
switch_2nd_page:
    lda #$A2    ; FF1F A9 A2
    sec             ; FF21 38
    .byte   <$E5     ; FF22 E5
.L_FF23:
  rmb2    <$0A     ; FF23 27
    asl a       ; FF24 0A
    asl a       ; FF25 0A
    asl a       ; FF26 0A
    asl a       ; FF27 0A
    sec             ; FF28 38
.L_FF29:
  .byte   <$E5     ; FF29 E5
; bank $3f
nmi_handler_01:
    and <$38,x   ; FF2A 35 38
    sbc #$08    ; FF2C E9 08
    bcc call_switch2ndBank          ; FF2E 90 D9
    lsr a       ; FF30 4A
    asl a       ; FF31 0A
    sta <$80     ; FF32 85 80
    asl a       ; FF34 0A
    .byte   <$65     ; FF35 65
; bank $3f
setNmiHandlerTo_ff2a_andWaitNmi:
    bra .L_FEE0   ; FF36 80 A8
    lda #$06    ; FF38 A9 06
    sta <$81     ; FF3A 85 81
    ldx <$26     ; FF3C A6 26
.L_FF3E:
  .byte   <$B9     ; FF3E B9
.L_FF3F:
  ply             ; FF3F 7A
    bbs3    $48,.L_FF6C                   ; FF40 BF 48 29
    bbr0    $18,.L_FFAB                   ; FF43 0F 18 65
    rti             ; FF46 40
; ----------------------------------------------------------------------------
    sta <$40     ; FF47 85 40
    sta $0203,x ; FF49 9D 03 02
    pla             ; FF4C 68
    lsr a       ; FF4D 4A
    lsr a       ; FF4E 4A
    lsr a       ; FF4F 4A
    lsr a       ; FF50 4A
    cmp #$08    ; FF51 C9 08
    bcc .L_FF5C   ; FF53 90 07
    and #$07    ; FF55 29 07
    eor #$FF    ; FF57 49 FF
    clc             ; FF59 18
    adc #$01    ; FF5A 69 01
.L_FF5C:
  clc             ; FF5C 18
.L_FF5D:
  adc <$41     ; FF5D 65 41
    sta <$41     ; FF5F 85 41
    sta $0200,x ; FF61 9D 00 02
    lda #$B6    ; FF64 A9 B6
    sta $0201,x ; FF66 9D 01 02
    lda #$03    ; FF69 A9 03
    .byte   <$9D     ; FF6B 9D
.L_FF6C:
  .byte   <$02     ; FF6C 02
.L_FF6D:
  .byte   <$02     ; FF6D 02
    inx             ; FF6E E8
    inx             ; FF6F E8
    inx             ; FF70 E8
.L_FF71:
  inx             ; FF71 E8
    iny             ; FF72 C8
    dec <$81     ; FF73 C6 81
    bne .L_FF3E   ; FF75 D0 C7
    stx <$26     ; FF77 86 26
    rts             ; FF79 60
; ----------------------------------------------------------------------------
    brk             ; FF7A 00
    bpl .L_FF8D   ; FF7B 10 10
.L_FF7D:
  bpl .L_FF0F   ; FF7D 10 90
    ldy #$00    ; FF7F A0 00
    ora ($10)   ; FF81 12 10
    bpl .L_FF15   ; FF83 10 90
    ldy #$00    ; FF85 A0 00
    ora ($12)   ; FF87 12 12
    bpl .L_FF1B   ; FF89 10 90
    ldy #$00    ; FF8B A0 00
.L_FF8D:
  ora ($12)   ; FF8D 12 12
    bpl .L_FF23   ; FF8F 10 92
    ldy #$00    ; FF91 A0 00
    trb <$12     ; FF93 14 12
    bpl .L_FF29   ; FF95 10 92
    ldy #$00    ; FF97 A0 00
    trb <$12     ; FF99 14 12
    ora ($92)   ; FF9B 12 92
    ldy #$00    ; FF9D A0 00
    asl <$12,x   ; FF9F 16 12
    ora ($92)   ; FFA1 12 92
    ldy #$00    ; FFA3 A0 00
    asl <$12,x   ; FFA5 16 12
    ora ($92)   ; FFA7 12 92
    ldx #$00    ; FFA9 A2 00
.L_FFAB:
  asl <$14,x   ; FFAB 16 14
    ora ($92)   ; FFAD 12 92
    ldx #$00    ; FFAF A2 00
    asl <$16,x   ; FFB1 16 16
    ora ($92)   ; FFB3 12 92
    ldx #$00    ; FFB5 A2 00
    asl <$16,x   ; FFB7 16 16
    tsb <$92     ; FFB9 04 92
    sta ($00)   ; FFBB 92 00
    clc             ; FFBD 18
    asl <$04,x   ; FFBE 16 04
    sta ($92)   ; FFC0 92 92
    brk             ; FFC2 00
    clc             ; FFC3 18
    asl <$06,x   ; FFC4 16 06
    sta ($92)   ; FFC6 92 92
    brk             ; FFC8 00
    clc             ; FFC9 18
    asl <$06,x   ; FFCA 16 06
    sta ($94)   ; FFCC 92 94
    brk             ; FFCE 00
    clc             ; FFCF 18
    asl <$06,x   ; FFD0 16 06
    sty <$94,x   ; FFD2 94 94
    brk             ; FFD4 00
    clc             ; FFD5 18
    clc             ; FFD6 18
    asl <$94     ; FFD7 06 94
    sty <$00,x   ; FFD9 94 00
    clc             ; FFDB 18
    clc             ; FFDC 18
    stx $04,y   ; FFDD 96 04
    stx $00,y   ; FFDF 96 00
    clc             ; FFE1 18
    clc             ; FFE2 18
    stx $06,y   ; FFE3 96 06
    stx $00,y   ; FFE5 96 00
    php             ; FFE7 08
    clc             ; FFE8 18
    tya             ; FFE9 98
    asl <$06     ; FFEA 06 06
    brk             ; FFEC 00
    php             ; FFED 08
    php             ; FFEE 08
    php             ; FFEF 08
; bank $3f
hardware_vectors:
    php             ; FFF0 08
    asl <$00     ; FFF1 06 00
    php             ; FFF3 08
    php             ; FFF4 08
    php             ; FFF5 08
    php             ; FFF6 08
    php             ; FFF7 08
    php             ; FFF8 08
    php             ; FFF9 08
    php             ; FFFA 08
    cmp <$FF,x   ; FFFB D5 FF
    .byte   <$7D     ; FFFD 7D
    .byte   <$FF     ; FFFE FF
