; da65 V2.11.0 - (C) Copyright 2000-2005,  Ullrich von Bassewitz
; Created:    2017-12-24 00:17:04
; Input file: D:\Documents\programming\eclipse workspaces\ff3\hack-and-patch\work\base-binary\ff3_plain.nes.noheader
; Page:   1


    .setcpu "65C02"

; ----------------------------------------------------------------------------
.L_0000       := $0000
.L_004D       := $004D
.L_0080       := $0080
.L_0810       := $0810
.L_1000       := $1000
.L_2020       := $2020
.L_2120       := $2120
.L_2121       := $2121
.L_2221       := $2221
.L_38BB       := $38BB
.L_6040       := $6040
.L_6F6C       := $6F6C
menu.select_pc.put_pc_sprites:= $8000       ; bank $3c
.L_8001       := $8001
.L_8003       := $8003
.L_8006       := $8006
.L_8009       := $8009
.L_800C       := $800C
.L_808C       := $808C
.L_80CB       := $80CB
.L_8129       := $8129
.L_8136       := $8136
.L_8236       := $8236
.L_8241       := $8241
.L_8500       := $8500
.L_8503       := $8503
.L_8506       := $8506
.L_8509       := $8509
.L_850C       := $850C
.L_850F       := $850F
.L_8515       := $8515
.L_8518       := $8518
.L_851B       := $851B
.L_852D       := $852D
.L_8530       := $8530
.L_8533       := $8533
.L_87A1       := $87A1
.L_8857       := $8857
.L_8887       := $8887
.L_88C2       := $88C2
.L_88DB       := $88DB
.L_8908       := $8908
.L_8998       := $8998
.L_8B03       := $8B03
.L_8B29       := $8B29
.L_8B34       := $8B34
.L_8B57       := $8B57
.L_8B78       := $8B78
.L_8DE3       := $8DE3
.L_8E55       := $8E55
.L_8F58       := $8F58
menu.accept_input_action:= $8F74            ; bank $3c
.L_8FDD       := $8FDD
menu.items.save_render_params:= $903D       ; bank $3c
menu.items.load_render_params:= $9075       ; bank $3c
menu.put_cursor_on_window1:= $9119          ; bank $3c
menu.put_cursor_on_window2:= $912A          ; bank $3c
menu.put_cursor_on_window3:= $914C          ; bank $3c
menu.put_cursor_attrs_on_sprite_cache:= $9164   ; bank $3c
menu.get_input_and_queue_SE:= $9175         ; bank $3c
menu.window1.get_input_and_update_cursor:= $91A3; bank $3c
menu.window2.get_input_and_update_cursor:= $91D9; bank $3c
.L_9209       := $9209
menu.window3.get_input_and_scroll:= $920D   ; bank $3c
.L_9274       := $9274
.L_92EE       := $92EE
floor.copyEventScriptStream:= $92F3         ; bank $3c
.L_9319       := $9319
getEventFlag    := $9344; bank $3c
floor.searchSpaceForItem:= $937E            ; bank $3c
.L_939B       := $939B
.L_94FF       := $94FF
menu.upload_default_bg_attrs:= $956F        ; bank $3c
.L_958C       := $958C
menu.init_input_states:= $9592              ; bank $3c
.L_9599       := $9599
menu.init_ppu   := $959F; bank $3c
jobMenu.main    := $962F; bank $3c
.L_9761       := $9761
.L_9921       := $9921
.L_9BB5       := $9BB5
.L_9D50       := $9D50
.L_9D53       := $9D53
.L_9D56       := $9D56
.L_9E58       := $9E58
menu.items.on_close:= $9EBC                 ; bank $3c
; ----------------------------------------------------------------------------
; bank $3c
menu.items.main_loop:
    jsr menu.init_input_states      ; 9EC2 20 92 95
    lda #$80    ; 9EC5 A9 80
    sta <$B4     ; 9EC7 85 B4
    jsr menu.main.erase             ; 9EC9 20 85 A6
    jsr menu.upload_default_bg_attrs    ; 9ECC 20 6F 95
    jsr menu.pc_select.draw_window  ; 9ECF 20 28 A3
    lda #$00    ; 9ED2 A9 00
    sta <$A2     ; 9ED4 85 A2
    sta <$A3     ; 9ED6 85 A3
    lda #$01    ; 9ED8 A9 01
    sta <$A4     ; 9EDA 85 A4
    lda #$00    ; 9EDC A9 00
    sta $7AF0   ; 9EDE 8D F0 7A
    ldx #$06    ; 9EE1 A2 06
    jsr menu.draw_window_box        ; 9EE3 20 F1 AA
    lda #$3D    ; 9EE6 A9 3D
    jsr menu.draw_window_content    ; 9EE8 20 78 A6
    jsr menu.items.save_render_params   ; 9EEB 20 3D 90
    jsr menu.pc_select.save_states  ; 9EEE 20 A8 A3
    ldx #$05    ; 9EF1 A2 05
    jsr menu.draw_window_box        ; 9EF3 20 F1 AA
    lda #$35    ; 9EF6 A9 35
    jsr menu.stream_window_content  ; 9EF8 20 6B A6
    jsr menu.pc_select.load_states  ; 9EFB 20 8E A3
.L_9EFE:
  .byte   <$20     ; 9EFE 20
    .byte   <$CD     ; 9EFF CD
.L_9F00:
  smb2    <$A9     ; 9F00 A7
.L_9F01:
  lda #$08    ; 9F01 A9 08
    jsr menu.window3.get_input_and_scroll; 9F03 20 0D 92
    lda #$03    ; 9F06 A9 03
    jsr menu.select_pc.put_pc_sprites   ; 9F08 20 00 80
    lda <$25     ; 9F0B A5 25
    bne menu.items.on_close         ; 9F0D D0 AD
    lda <$24     ; 9F0F A5 24
    beq .L_9EFE   ; 9F11 F0 EB
    jsr menu.accept_input_action    ; 9F13 20 74 8F
    lda #$02    ; 9F16 A9 02
    sta <$A3     ; 9F18 85 A3
    sta <$A4     ; 9F1A 85 A4
    jsr .L_A363   ; 9F1C 20 63 A3
    lda $7AF0   ; 9F1F AD F0 7A
    sta $79F0   ; 9F22 8D F0 79
    tax             ; 9F25 AA
    lda $7A02,x ; 9F26 BD 02 7A
    cmp #$0F    ; 9F29 C9 0F
    bne .L_9F31   ; 9F2B D0 04
    lda #$FF    ; 9F2D A9 FF
    bne .L_9F34   ; 9F2F D0 03
.L_9F31:
  lda $7A03,x ; 9F31 BD 03 7A
.L_9F34:
  sta <$8E     ; 9F34 85 8E
    lda #$00    ; 9F36 A9 00
    sta $79F2   ; 9F38 8D F2 79
.L_9F3B:
  jsr menu.render_cursor          ; 9F3B 20 CD A7
    lda #$08    ; 9F3E A9 08
    jsr menu.window3.get_input_and_scroll; 9F40 20 0D 92
    lda #$03    ; 9F43 A9 03
    jsr menu.select_pc.put_pc_sprites   ; 9F45 20 00 80
    lda <$25     ; 9F48 A5 25
    beq .L_9F5A   ; 9F4A F0 0E
    jsr menu.accept_input_action    ; 9F4C 20 74 8F
    lda #$00    ; 9F4F A9 00
    sta <$A3     ; 9F51 85 A3
    lda #$01    ; 9F53 A9 01
    sta <$A4     ; 9F55 85 A4
    jmp .L_9EFE   ; 9F57 4C FE 9E
; ----------------------------------------------------------------------------
.L_9F5A:
  lda <$24     ; 9F5A A5 24
    beq .L_9F3B   ; 9F5C F0 DD
    jsr menu.pc_select.save_states  ; 9F5E 20 A8 A3
    jsr .L_A349   ; 9F61 20 49 A3
    jsr menu.accept_input_action    ; 9F64 20 74 8F
    lda #$00    ; 9F67 A9 00
    sta <$A3     ; 9F69 85 A3
    sta <$B4     ; 9F6B 85 B4
    lda #$01    ; 9F6D A9 01
    sta <$A4     ; 9F6F 85 A4
    jsr .L_9FA5   ; 9F71 20 A5 9F
    php             ; 9F74 08
    jsr menu.pc_select.load_states  ; 9F75 20 8E A3
    jsr .L_A356   ; 9F78 20 56 A3
    plp             ; 9F7B 28
    bcs .L_9EFE   ; 9F7C B0 80
    jsr .L_AA8E   ; 9F7E 20 8E AA
    jsr .L_A356   ; 9F81 20 56 A3
    jsr menu.items.load_render_params   ; 9F84 20 75 90
    jsr menu.pc_select.load_states  ; 9F87 20 8E A3
    lda <$1C     ; 9F8A A5 1C
    sta <$3E     ; 9F8C 85 3E
    lda <$1D     ; 9F8E A5 1D
    sta <$3F     ; 9F90 85 3F
    jsr field.reflect_window_scroll ; 9F92 20 61 EB
    jsr menu.init_input_states      ; 9F95 20 92 95
    lda #$00    ; 9F98 A9 00
    sta <$A3     ; 9F9A 85 A3
    sta <$A2     ; 9F9C 85 A2
    lda #$01    ; 9F9E A9 01
    sta <$A4     ; 9FA0 85 A4
    jmp .L_9EFE   ; 9FA2 4C FE 9E
; ----------------------------------------------------------------------------
.L_9FA5:
  ldx $7AF0   ; 9FA5 AE F0 7A
    lda $7A03,x ; 9FA8 BD 03 7A
    sta <$8F     ; 9FAB 85 8F
    lda $7A02,x ; 9FAD BD 02 7A
    cmp #$0F    ; 9FB0 C9 0F
    bne .L_9FDC   ; 9FB2 D0 28
    ldx <$8E     ; 9FB4 A6 8E
    cpx #$20    ; 9FB6 E0 20
    bcs .L_9FCD   ; 9FB8 B0 13
.L_9FBA:
  lda $60C0,x ; 9FBA BD C0 60
    cmp #$F6    ; 9FBD C9 F6
    beq .L_9FCD   ; 9FBF F0 0C
    cmp #$F7    ; 9FC1 C9 F7
    beq .L_9FCD   ; 9FC3 F0 08
    cmp #$9A    ; 9FC5 C9 9A
    bcc .L_9FD2   ; 9FC7 90 09
    cmp #$A4    ; 9FC9 C9 A4
    bcs .L_9FD2   ; 9FCB B0 05
.L_9FCD:
  jsr menu.queue_SE_of_invalid_action ; 9FCD 20 29 D5
    sec             ; 9FD0 38
    rts             ; 9FD1 60
; ----------------------------------------------------------------------------
.L_9FD2:
  lda #$00    ; 9FD2 A9 00
    sta $60C0,x ; 9FD4 9D C0 60
    sta $60E0,x ; 9FD7 9D E0 60
    clc             ; 9FDA 18
    rts             ; 9FDB 60
; ----------------------------------------------------------------------------
.L_9FDC:
  ldx <$8F     ; 9FDC A6 8F
    ldy <$8E     ; 9FDE A4 8E
    cpy #$20    ; 9FE0 C0 20
    bcs .L_9FBA   ; 9FE2 B0 D6
    cpy <$8F     ; 9FE4 C4 8F
    beq .L_A033   ; 9FE6 F0 4B
    lda $60C0,x ; 9FE8 BD C0 60
    pha             ; 9FEB 48
    lda $60C0,y ; 9FEC B9 C0 60
    sta $60C0,x ; 9FEF 9D C0 60
    pla             ; 9FF2 68
    sta $60C0,y ; 9FF3 99 C0 60
    lda $60E0,x ; 9FF6 BD E0 60
    pha             ; 9FF9 48
    lda $60E0,y ; 9FFA B9 E0 60
    sta $60E0,x ; 9FFD 9D E0 60
.L_A000:
  pla             ; A000 68
.L_A001:
  .byte   <$99     ; A001 99
    .byte   <$E0     ; A002 E0
.L_A003:
  rts             ; A003 60
; ----------------------------------------------------------------------------
    clc             ; A004 18
    rts             ; A005 60
; ----------------------------------------------------------------------------
.L_A006:
  lda <$2D     ; A006 A5 2D
    lsr a       ; A008 4A
    bcs .L_A03C   ; A009 B0 31
    jsr .L_A33C   ; A00B 20 3C A3
    jmp .L_A525   ; A00E 4C 25 A5
; ----------------------------------------------------------------------------
.L_A011:
  pla             ; A011 68
    lda #$65    ; A012 A9 65
    jsr .L_A2F6   ; A014 20 F6 A2
    lda <$20     ; A017 A5 20
    and #$40    ; A019 29 40
    bne .L_A031   ; A01B D0 14
    jsr .L_A33C   ; A01D 20 3C A3
    jsr .L_958C   ; A020 20 8C 95
    jsr .L_9921   ; A023 20 21 99
    jmp .L_C0ED   ; A026 4C ED C0
; ----------------------------------------------------------------------------
.L_A029:
  lda #$5A    ; A029 A9 5A
.L_A02B:
  jsr .L_A2F6   ; A02B 20 F6 A2
    jsr menu.init_input_states      ; A02E 20 92 95
.L_A031:
  clc             ; A031 18
    rts             ; A032 60
; ----------------------------------------------------------------------------
.L_A033:
  ldx <$8E     ; A033 A6 8E
    stx <$63     ; A035 86 63
    lda $60E0,x ; A037 BD E0 60
    bne .L_A044   ; A03A D0 08
.L_A03C:
  jsr menu.queue_SE_of_invalid_action ; A03C 20 29 D5
    sec             ; A03F 38
    rts             ; A040 60
; ----------------------------------------------------------------------------
.L_A041:
  jmp .L_A15F   ; A041 4C 5F A1
; ----------------------------------------------------------------------------
.L_A044:
  ldy $60C0,x ; A044 BC C0 60
    cpy #$A4    ; A047 C0 A4
    beq .L_A006   ; A049 F0 BB
    cpy #$A6    ; A04B C0 A6
    bcc .L_A029   ; A04D 90 DA
    cpy #$C8    ; A04F C0 C8
    bcs .L_A041   ; A051 B0 EE
    cpy #$B1    ; A053 C0 B1
    bcs .L_A029   ; A055 B0 D2
    cpy #$AB    ; A057 C0 AB
    beq .L_A05F   ; A059 F0 04
    cpy #$AD    ; A05B C0 AD
    bne .L_A069   ; A05D D0 0A
.L_A05F:
  .byte   <$A5     ; A05F A5
.L_A060:
  .byte   <$53     ; A060 53
    and #$20    ; A061 29 20
    beq .L_A073   ; A063 F0 0E
    lda #$77    ; A065 A9 77
    bne .L_A02B   ; A067 D0 C2
.L_A069:
  cpy #$B0    ; A069 C0 B0
    bne .L_A073   ; A06B D0 06
    bit <$53     ; A06D 24 53
    lda #$78    ; A06F A9 78
    bvs .L_A02B   ; A071 70 B8
.L_A073:
  tya             ; A073 98
    pha             ; A074 48
    sec             ; A075 38
    sbc #$A6    ; A076 E9 A6
    clc             ; A078 18
    adc #$5B    ; A079 69 5B
    pha             ; A07B 48
    ldx #$15    ; A07C A2 15
    jsr menu.draw_window_box        ; A07E 20 F1 AA
    pla             ; A081 68
    jsr menu.draw_window_content    ; A082 20 78 A6
    pla             ; A085 68
    pha             ; A086 48
    cmp #$B0    ; A087 C9 B0
    beq .L_A011   ; A089 F0 86
.L_A08B:
  jsr .L_A715   ; A08B 20 15 A7
    pla             ; A08E 68
    tay             ; A08F A8
    bcs .L_A031   ; A090 B0 9F
    jsr .L_958C   ; A092 20 8C 95
    ldx <$7F     ; A095 A6 7F
    cpy #$A6    ; A097 C0 A6
    bne .L_A0B4   ; A099 D0 19
    lda $6102,x ; A09B BD 02 61
    cmp #$40    ; A09E C9 40
    bcs .L_A0B1   ; A0A0 B0 0F
    lda #$1E    ; A0A2 A9 1E
.L_A0A4:
  sta <$8D     ; A0A4 85 8D
    lda #$01    ; A0A6 A9 01
    sta <$8B     ; A0A8 85 8B
    lda #$03    ; A0AA A9 03
    sta <$8C     ; A0AC 85 8C
    jsr .L_A48A   ; A0AE 20 8A A4
.L_A0B1:
  jmp .L_A12B   ; A0B1 4C 2B A1
; ----------------------------------------------------------------------------
.L_A0B4:
  cpy #$A7    ; A0B4 C0 A7
    bne .L_A0C4   ; A0B6 D0 0C
    lda $6102,x ; A0B8 BD 02 61
    cmp #$40    ; A0BB C9 40
    bcs .L_A0B1   ; A0BD B0 F2
    lda #$78    ; A0BF A9 78
    jmp .L_A0A4   ; A0C1 4C A4 A0
; ----------------------------------------------------------------------------
.L_A0C4:
  cpy #$A8    ; A0C4 C0 A8
    bne .L_A0D8   ; A0C6 D0 10
    lda $6102,x ; A0C8 BD 02 61
    cmp #$40    ; A0CB C9 40
    bcs .L_A0B1   ; A0CD B0 E2
    jsr .L_A458   ; A0CF 20 58 A4
    jsr .L_A418   ; A0D2 20 18 A4
    jmp .L_A12B   ; A0D5 4C 2B A1
; ----------------------------------------------------------------------------
.L_A0D8:
  cpy #$A9    ; A0D8 C0 A9
    bne .L_A0F2   ; A0DA D0 16
    lda $6102,x ; A0DC BD 02 61
    bpl .L_A13C   ; A0DF 10 5B
    eor #$80    ; A0E1 49 80
    sta $6102,x ; A0E3 9D 02 61
    lda #$00    ; A0E6 A9 00
    sta <$82     ; A0E8 85 82
    lda #$01    ; A0EA A9 01
    jsr .L_A438   ; A0EC 20 38 A4
    jmp .L_A12B   ; A0EF 4C 2B A1
; ----------------------------------------------------------------------------
.L_A0F2:
  cpy #$AA    ; A0F2 C0 AA
    bne .L_A0FB   ; A0F4 D0 05
    lda #$40    ; A0F6 A9 40
    jmp .L_A144   ; A0F8 4C 44 A1
; ----------------------------------------------------------------------------
.L_A0FB:
  cpy #$AB    ; A0FB C0 AB
    bne .L_A104   ; A0FD D0 05
    lda #$20    ; A0FF A9 20
    jmp .L_A144   ; A101 4C 44 A1
; ----------------------------------------------------------------------------
.L_A104:
  cpy #$AC    ; A104 C0 AC
    bne .L_A10D   ; A106 D0 05
    lda #$10    ; A108 A9 10
    jmp .L_A144   ; A10A 4C 44 A1
; ----------------------------------------------------------------------------
.L_A10D:
  cpy #$AD    ; A10D C0 AD
    bne .L_A11D   ; A10F D0 0C
    lda #$08    ; A111 A9 08
    eor $6102,x ; A113 5D 02 61
    sta $6102,x ; A116 9D 02 61
    clc             ; A119 18
    jmp .L_A12B   ; A11A 4C 2B A1
; ----------------------------------------------------------------------------
.L_A11D:
  cpy #$AE    ; A11D C0 AE
    bne .L_A126   ; A11F D0 05
    lda #$04    ; A121 A9 04
    jmp .L_A144   ; A123 4C 44 A1
; ----------------------------------------------------------------------------
.L_A126:
  lda #$02    ; A126 A9 02
    jmp .L_A144   ; A128 4C 44 A1
; ----------------------------------------------------------------------------
.L_A12B:
  bcs .L_A13C   ; A12B B0 0F
    jsr .L_A33C   ; A12D 20 3C A3
    jsr .L_A332   ; A130 20 32 A3
    lda #$00    ; A133 A9 00
    sta <$A2     ; A135 85 A2
    sta $78F0   ; A137 8D F0 78
    clc             ; A13A 18
    rts             ; A13B 60
; ----------------------------------------------------------------------------
.L_A13C:
  tya             ; A13C 98
    pha             ; A13D 48
    jsr menu.queue_SE_of_invalid_action ; A13E 20 29 D5
    jmp .L_A08B   ; A141 4C 8B A0
; ----------------------------------------------------------------------------
.L_A144:
  sta .L_0080   ; A144 85 80
    and $6102,x ; A146 3D 02 61
    bne .L_A14F   ; A149 D0 04
    sec             ; A14B 38
    jmp .L_A12B   ; A14C 4C 2B A1
; ----------------------------------------------------------------------------
.L_A14F:
  lda .L_0080   ; A14F A5 80
    eor #$FF    ; A151 49 FF
    and $6102,x ; A153 3D 02 61
    sta $6102,x ; A156 9D 02 61
    clc             ; A159 18
    jmp .L_A12B   ; A15A 4C 2B A1
; ----------------------------------------------------------------------------
.L_A15D:
  clc             ; A15D 18
    rts             ; A15E 60
; ----------------------------------------------------------------------------
.L_A15F:
  sty <$8C     ; A15F 84 8C
.L_A161:
  ldx #$15    ; A161 A2 15
    jsr menu.draw_window_box        ; A163 20 F1 AA
    lda #$73    ; A166 A9 73
    jsr menu.draw_window_content    ; A168 20 78 A6
    jsr .L_A715   ; A16B 20 15 A7
    bcs .L_A15D   ; A16E B0 ED
    jsr .L_A2B4   ; A170 20 B4 A2
    lda <$8C     ; A173 A5 8C
    jsr .L_A19C   ; A175 20 9C A1
    bcc .L_A182   ; A178 90 08
    lda #$75    ; A17A A9 75
.L_A17C:
  jsr .L_A2F6   ; A17C 20 F6 A2
    jmp .L_A161   ; A17F 4C 61 A1
; ----------------------------------------------------------------------------
.L_A182:
  cmp #$00    ; A182 C9 00
    beq .L_A18B   ; A184 F0 05
    lda #$74    ; A186 A9 74
    jmp .L_A17C   ; A188 4C 7C A1
; ----------------------------------------------------------------------------
.L_A18B:
  lda <$8C     ; A18B A5 8C
    sta $7C00,x ; A18D 9D 00 7C
    jsr .L_A1C9   ; A190 20 C9 A1
    jsr .L_A33C   ; A193 20 3C A3
    lda #$00    ; A196 A9 00
    sta <$A2     ; A198 85 A2
    clc             ; A19A 18
    rts             ; A19B 60
; ----------------------------------------------------------------------------
.L_A19C:
  sta .L_0080   ; A19C 85 80
    sec             ; A19E 38
    sbc #$C8    ; A19F E9 C8
    tay             ; A1A1 A8
    ldx .L_A27C,y ; A1A2 BE 7C A2
    lda .L_0080   ; A1A5 A5 80
    cmp $7C00,x ; A1A7 DD 00 7C
    beq .L_A1C7   ; A1AA F0 1B
    cmp $7C01,x ; A1AC DD 01 7C
    beq .L_A1C7   ; A1AF F0 16
    cmp $7C02,x ; A1B1 DD 02 7C
    beq .L_A1C7   ; A1B4 F0 11
    lda $7C00,x ; A1B6 BD 00 7C
    beq .L_A1C5   ; A1B9 F0 0A
    inx             ; A1BB E8
    lda $7C00,x ; A1BC BD 00 7C
    beq .L_A1C5   ; A1BF F0 04
    inx             ; A1C1 E8
    lda $7C00,x ; A1C2 BD 00 7C
.L_A1C5:
  clc             ; A1C5 18
    rts             ; A1C6 60
; ----------------------------------------------------------------------------
.L_A1C7:
  sec             ; A1C7 38
    rts             ; A1C8 60
; ----------------------------------------------------------------------------
.L_A1C9:
  ldx <$7F     ; A1C9 A6 7F
    ldy #$00    ; A1CB A0 00
    tya             ; A1CD 98
    sta $6207,x ; A1CE 9D 07 62
    sta $6208,x ; A1D1 9D 08 62
    sta $6209,x ; A1D4 9D 09 62
    sta $620A,x ; A1D7 9D 0A 62
    sta $620B,x ; A1DA 9D 0B 62
    sta $620C,x ; A1DD 9D 0C 62
    sta $620D,x ; A1E0 9D 0D 62
    sta $620E,x ; A1E3 9D 0E 62
.L_A1E6:
  lda $7C00,y ; A1E6 B9 00 7C
    beq .L_A1EE   ; A1E9 F0 03
    jsr .L_A1F4   ; A1EB 20 F4 A1
.L_A1EE:
  iny             ; A1EE C8
    cpy #$18    ; A1EF C0 18
    bcc .L_A1E6   ; A1F1 90 F3
    rts             ; A1F3 60
; ----------------------------------------------------------------------------
.L_A1F4:
  sec             ; A1F4 38
    sbc #$C8    ; A1F5 E9 C8
    tax             ; A1F7 AA
    lda .L_A20C,x ; A1F8 BD 0C A2
    sta .L_0080   ; A1FB 85 80
    lda .L_A244,x ; A1FD BD 44 A2
    ora <$7F     ; A200 05 7F
    tax             ; A202 AA
    lda .L_0080   ; A203 A5 80
    ora $6207,x ; A205 1D 07 62
    sta $6207,x ; A208 9D 07 62
    rts             ; A20B 60
; ----------------------------------------------------------------------------
.L_A20C:
  ora ($02,x) ; A20C 01 02
    tsb <$08     ; A20E 04 08
    bpl .L_A232   ; A210 10 20
    rti             ; A212 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; A213 01 02
    tsb <$08     ; A215 04 08
    bpl .L_A239   ; A217 10 20
    rti             ; A219 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; A21A 01 02
    tsb <$08     ; A21C 04 08
    bpl .L_A240   ; A21E 10 20
    rti             ; A220 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; A221 01 02
    tsb <$08     ; A223 04 08
    bpl .L_A247   ; A225 10 20
    rti             ; A227 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; A228 01 02
    tsb <$08     ; A22A 04 08
    bpl .L_A24E   ; A22C 10 20
    rti             ; A22E 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; A22F 01 02
    .byte   <$04     ; A231 04
.L_A232:
  php             ; A232 08
    bpl .L_A255   ; A233 10 20
    rti             ; A235 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; A236 01 02
    .byte   <$04     ; A238 04
.L_A239:
  php             ; A239 08
    bpl .L_A25C   ; A23A 10 20
    rti             ; A23C 40
; ----------------------------------------------------------------------------
    ora ($02,x) ; A23D 01 02
    .byte   <$04     ; A23F 04
.L_A240:
  php             ; A240 08
    bpl .L_A263   ; A241 10 20
    rti             ; A243 40
; ----------------------------------------------------------------------------
.L_A244:
  rmb0    <$07     ; A244 07
    rmb0    <$07     ; A245 07
    rmb0    <$07     ; A246 07
.L_A247:
  rmb0    <$07     ; A247 07
    rmb0    <$07     ; A248 07
    rmb0    <$07     ; A249 07
    rmb0    <$06     ; A24A 07
    asl <$06     ; A24B 06 06
    .byte   <$06     ; A24D 06
.L_A24E:
  asl <$06     ; A24E 06 06
    asl <$06     ; A250 06 06
    ora <$05     ; A252 05 05
    .byte   <$05     ; A254 05
.L_A255:
  ora <$05     ; A255 05 05
    ora <$05     ; A257 05 05
    tsb <$04     ; A259 04 04
    .byte   <$04     ; A25B 04
.L_A25C:
  tsb <$04     ; A25C 04 04
    tsb <$04     ; A25E 04 04
    .byte   <$03     ; A260 03
    .byte   <$03     ; A261 03
    .byte   <$03     ; A262 03
.L_A263:
  .byte   <$03     ; A263 03
    .byte   <$03     ; A264 03
    .byte   <$03     ; A265 03
    .byte   <$03     ; A266 03
    .byte   <$02     ; A267 02
    .byte   <$02     ; A268 02
    .byte   <$02     ; A269 02
    .byte   <$02     ; A26A 02
    .byte   <$02     ; A26B 02
    .byte   <$02     ; A26C 02
    .byte   <$02     ; A26D 02
    ora ($01,x) ; A26E 01 01
    ora ($01,x) ; A270 01 01
    ora ($01,x) ; A272 01 01
    ora (.L_0000,x)                   ; A274 01 00
    brk             ; A276 00
    brk             ; A277 00
    brk             ; A278 00
    brk             ; A279 00
    brk             ; A27A 00
    brk             ; A27B 00
.L_A27C:
  ora <$15,x   ; A27C 15 15
    ora <$15,x   ; A27E 15 15
    ora <$15,x   ; A280 15 15
    ora <$12,x   ; A282 15 12
    ora ($12)   ; A284 12 12
    ora ($12)   ; A286 12 12
    ora ($12)   ; A288 12 12
    bbr0    $0F,.L_A29C                   ; A28A 0F 0F 0F
    bbr0    $0F,.L_A29F                   ; A28D 0F 0F 0F
    bbr0    $0C,.L_A29F                   ; A290 0F 0C 0C
    tsb $0C0C   ; A293 0C 0C 0C
    tsb $090C   ; A296 0C 0C 09
    ora #$09    ; A299 09 09
    .byte   <$09     ; A29B 09
.L_A29C:
  ora #$09    ; A29C 09 09
    .byte   <$09     ; A29E 09
.L_A29F:
  asl <$06     ; A29F 06 06
    asl <$06     ; A2A1 06 06
    asl <$06     ; A2A3 06 06
    asl <$03     ; A2A5 06 03
    .byte   <$03     ; A2A7 03
    .byte   <$03     ; A2A8 03
    .byte   <$03     ; A2A9 03
    .byte   <$03     ; A2AA 03
    .byte   <$03     ; A2AB 03
    .byte   <$03     ; A2AC 03
    brk             ; A2AD 00
    brk             ; A2AE 00
    brk             ; A2AF 00
    brk             ; A2B0 00
    brk             ; A2B1 00
    brk             ; A2B2 00
    brk             ; A2B3 00
.L_A2B4:
  ldy #$17    ; A2B4 A0 17
    lda #$00    ; A2B6 A9 00
.L_A2B8:
  sta $7C00,y ; A2B8 99 00 7C
    dey             ; A2BB 88
    bpl .L_A2B8   ; A2BC 10 FA
    ldy #$00    ; A2BE A0 00
.L_A2C0:
  lda .L_A20C,y ; A2C0 B9 0C A2
    sta .L_0080   ; A2C3 85 80
    lda .L_A244,y ; A2C5 B9 44 A2
    ora <$7F     ; A2C8 05 7F
    tax             ; A2CA AA
    lda $6207,x ; A2CB BD 07 62
    and .L_0080   ; A2CE 25 80
    beq .L_A2D9   ; A2D0 F0 07
    sty .L_0080   ; A2D2 84 80
    jsr checkmagic                  ; A2D4 20 DF A2
    ldy .L_0080   ; A2D7 A4 80
.L_A2D9:
  iny             ; A2D9 C8
    cpy #$38    ; A2DA C0 38
    bcc .L_A2C0   ; A2DC 90 E2
    rts             ; A2DE 60
; ----------------------------------------------------------------------------
; bank $3d
checkmagic:
    tya             ; A2DF 98
    clc             ; A2E0 18
    adc #$C8    ; A2E1 69 C8
    ldx .L_A27C,y ; A2E3 BE 7C A2
    ldy $7C00,x ; A2E6 BC 00 7C
    beq .L_A2F2   ; A2E9 F0 07
    inx             ; A2EB E8
    ldy $7C00,x ; A2EC BC 00 7C
    beq .L_A2F2   ; A2EF F0 01
    inx             ; A2F1 E8
.L_A2F2:
  sta $7C00,x ; A2F2 9D 00 7C
    rts             ; A2F5 60
; ----------------------------------------------------------------------------
.L_A2F6:
  pha             ; A2F6 48
    ldx #$15    ; A2F7 A2 15
    jsr menu.draw_window_box        ; A2F9 20 F1 AA
    pla             ; A2FC 68
    jsr menu.draw_window_content    ; A2FD 20 78 A6
    jsr .L_A305   ; A300 20 05 A3
    clc             ; A303 18
    rts             ; A304 60
; ----------------------------------------------------------------------------
.L_A305:
  lda #$00    ; A305 A9 00
    sta <$24     ; A307 85 24
    sta <$25     ; A309 85 25
.L_A30B:
  jsr thunk_await_nmi_by_set_handler  ; A30B 20 00 FF
    jsr field.get_input             ; A30E 20 81 D2
    jsr field.call_sound_driver_and_restore_banks; A311 20 58 C7
    lda <$20     ; A314 A5 20
    bne .L_A30B   ; A316 D0 F3
.L_A318:
  jsr thunk_await_nmi_by_set_handler  ; A318 20 00 FF
    jsr field.get_input             ; A31B 20 81 D2
    jsr field.call_sound_driver_and_restore_banks; A31E 20 58 C7
    lda <$20     ; A321 A5 20
    beq .L_A318   ; A323 F0 F3
    sta <$21     ; A325 85 21
    rts             ; A327 60
; ----------------------------------------------------------------------------
; bank $3d
menu.pc_select.draw_window:
    ldx #$07    ; A328 A2 07
    jsr menu.draw_window_box        ; A32A 20 F1 AA
    lda #$3B    ; A32D A9 3B
    jmp menu.draw_window_content    ; A32F 4C 78 A6
; ----------------------------------------------------------------------------
.L_A332:
  ldx #$07    ; A332 A2 07
    jsr .L_AAA6   ; A334 20 A6 AA
    lda #$3B    ; A337 A9 3B
    jmp menu.draw_window_content    ; A339 4C 78 A6
; ----------------------------------------------------------------------------
.L_A33C:
  ldx <$63     ; A33C A6 63
    dec $60E0,x ; A33E DE E0 60
    bne .L_A348   ; A341 D0 05
    lda #$00    ; A343 A9 00
    sta $60C0,x ; A345 9D C0 60
.L_A348:
  rts             ; A348 60
; ----------------------------------------------------------------------------
.L_A349:
  lda .L_0080   ; A349 A5 80
    sta <$08     ; A34B 85 08
    lda <$9E     ; A34D A5 9E
    sta <$09     ; A34F 85 09
    lda <$7F     ; A351 A5 7F
    sta <$0A     ; A353 85 0A
    rts             ; A355 60
; ----------------------------------------------------------------------------
.L_A356:
  lda <$08     ; A356 A5 08
    sta .L_0080   ; A358 85 80
    lda <$09     ; A35A A5 09
    sta <$9E     ; A35C 85 9E
    lda <$0A     ; A35E A5 0A
    sta <$7F     ; A360 85 7F
    rts             ; A362 60
; ----------------------------------------------------------------------------
.L_A363:
  ldx #$80    ; A363 A2 80
.L_A365:
  lda $7A00,x ; A365 BD 00 7A
    clc             ; A368 18
    adc #$01    ; A369 69 01
    sta $7900,x ; A36B 9D 00 79
    lda $7A01,x ; A36E BD 01 7A
    sta $7901,x ; A371 9D 01 79
    lda $7A02,x ; A374 BD 02 7A
    sta $7902,x ; A377 9D 02 79
    lda $7A03,x ; A37A BD 03 7A
    sta $7903,x ; A37D 9D 03 79
    txa             ; A380 8A
    sec             ; A381 38
    sbc #$04    ; A382 E9 04
    tax             ; A384 AA
    bcs .L_A365   ; A385 B0 DE
    lda $7AF1   ; A387 AD F1 7A
    sta $79F1   ; A38A 8D F1 79
    rts             ; A38D 60
; ----------------------------------------------------------------------------
; bank $3d
menu.pc_select.load_states:
    lda $79EB   ; A38E AD EB 79
    sta <$B4     ; A391 85 B4
    lda $79EC   ; A393 AD EC 79
    sta <$B5     ; A396 85 B5
    lda $79ED   ; A398 AD ED 79
    sta <$B6     ; A39B 85 B6
.L_A39D:
  lda $79EE   ; A39D AD EE 79
    sta <$B7     ; A3A0 85 B7
    lda $79EF   ; A3A2 AD EF 79
    sta <$B8     ; A3A5 85 B8
    rts             ; A3A7 60
; ----------------------------------------------------------------------------
; bank $3d
menu.pc_select.save_states:
    lda <$B4     ; A3A8 A5 B4
    sta $79EB   ; A3AA 8D EB 79
    lda <$B5     ; A3AD A5 B5
    sta $79EC   ; A3AF 8D EC 79
    lda <$B6     ; A3B2 A5 B6
    sta $79ED   ; A3B4 8D ED 79
    lda <$B7     ; A3B7 A5 B7
    sta $79EE   ; A3B9 8D EE 79
    lda <$B8     ; A3BC A5 B8
    sta $79EF   ; A3BE 8D EF 79
    rts             ; A3C1 60
; ----------------------------------------------------------------------------
    lda <$8B     ; A3C2 A5 8B
    cmp #$01    ; A3C4 C9 01
    bne .L_A3EE   ; A3C6 D0 26
    ldx <$7F     ; A3C8 A6 7F
    lda $6102,x ; A3CA BD 02 61
    and <$87     ; A3CD 25 87
    bne .L_A3D6   ; A3CF D0 05
.L_A3D1:
  jsr menu.queue_SE_of_invalid_action ; A3D1 20 29 D5
    sec             ; A3D4 38
    rts             ; A3D5 60
; ----------------------------------------------------------------------------
.L_A3D6:
  lda <$87     ; A3D6 A5 87
    and $6102,x ; A3D8 3D 02 61
    bpl .L_A3E2   ; A3DB 10 05
    lda #$01    ; A3DD A9 01
    sta $610C,x ; A3DF 9D 0C 61
.L_A3E2:
  lda <$87     ; A3E2 A5 87
    eor #$FF    ; A3E4 49 FF
    and $6102,x ; A3E6 3D 02 61
    sta $6102,x ; A3E9 9D 02 61
    clc             ; A3EC 18
    rts             ; A3ED 60
; ----------------------------------------------------------------------------
.L_A3EE:
  lda $6102   ; A3EE AD 02 61
    ora $6142   ; A3F1 0D 42 61
    ora $6182   ; A3F4 0D 82 61
    ora $61C2   ; A3F7 0D C2 61
    and <$87     ; A3FA 25 87
    beq .L_A3D1   ; A3FC F0 D3
    ldx #$00    ; A3FE A2 00
    jsr .L_A40F   ; A400 20 0F A4
    ldx #$40    ; A403 A2 40
    jsr .L_A40F   ; A405 20 0F A4
    ldx #$80    ; A408 A2 80
    jsr .L_A40F   ; A40A 20 0F A4
    ldx #$C0    ; A40D A2 C0
.L_A40F:
  lda $6102,x ; A40F BD 02 61
    and <$87     ; A412 25 87
    bne .L_A3D6   ; A414 D0 C0
    clc             ; A416 18
    rts             ; A417 60
; ----------------------------------------------------------------------------
.L_A418:
  ldx <$7F     ; A418 A6 7F
.L_A41A:
  lda $6131,x ; A41A BD 31 61
    sta $6130,x ; A41D 9D 30 61
    inx             ; A420 E8
    inx             ; A421 E8
    txa             ; A422 8A
    and #$0F    ; A423 29 0F
    bne .L_A41A   ; A425 D0 F3
    clc             ; A427 18
    rts             ; A428 60
; ----------------------------------------------------------------------------
.L_A429:
  ldx <$7F     ; A429 A6 7F
    lda $6102,x ; A42B BD 02 61
    cmp #$40    ; A42E C9 40
    bcs .L_A465   ; A430 B0 33
    lda <$83     ; A432 A5 83
    bne .L_A458   ; A434 D0 22
    lda <$81     ; A436 A5 81
.L_A438:
  clc             ; A438 18
    adc $610C,x ; A439 7D 0C 61
    sta $610C,x ; A43C 9D 0C 61
    lda $610D,x ; A43F BD 0D 61
    adc <$82     ; A442 65 82
    sta $610D,x ; A444 9D 0D 61
    cmp $610F,x ; A447 DD 0F 61
    bcc .L_A465   ; A44A 90 19
    beq .L_A450   ; A44C F0 02
    bcs .L_A458   ; A44E B0 08
.L_A450:
  lda $610C,x ; A450 BD 0C 61
    cmp $610E,x ; A453 DD 0E 61
    bcc .L_A465   ; A456 90 0D
.L_A458:
  lda $610E,x ; A458 BD 0E 61
    sta $610C,x ; A45B 9D 0C 61
    lda $610F,x ; A45E BD 0F 61
    sta $610D,x ; A461 9D 0D 61
    clc             ; A464 18
.L_A465:
  rts             ; A465 60
; ----------------------------------------------------------------------------
    ldx <$0A     ; A466 A6 0A
    lda $6110,x ; A468 BD 10 61
    lsr a       ; A46B 4A
    lsr a       ; A46C 4A
    lsr a       ; A46D 4A
    lsr a       ; A46E 4A
    lsr a       ; A46F 4A
    sta <$8C     ; A470 85 8C
    lda $6101,x ; A472 BD 01 61
    lsr a       ; A475 4A
    lsr a       ; A476 4A
    lsr a       ; A477 4A
    lsr a       ; A478 4A
    clc             ; A479 18
    adc <$8C     ; A47A 65 8C
    sta <$8C     ; A47C 85 8C
    lda $611B,x ; A47E BD 1B 61
    lsr a       ; A481 4A
    lsr a       ; A482 4A
    lsr a       ; A483 4A
    lsr a       ; A484 4A
    sec             ; A485 38
    adc <$8C     ; A486 65 8C
    sta <$8C     ; A488 85 8C
.L_A48A:
  jsr .L_A4B5   ; A48A 20 B5 A4
    lda <$8C     ; A48D A5 8C
    sta .L_0080   ; A48F 85 80
    jsr .L_A4D4   ; A491 20 D4 A4
    lda <$8B     ; A494 A5 8B
    sta .L_0080   ; A496 85 80
    jsr .L_A500   ; A498 20 00 A5
    lda <$8B     ; A49B A5 8B
    cmp #$01    ; A49D C9 01
    bne .L_A4A4   ; A49F D0 03
    jmp .L_A429   ; A4A1 4C 29 A4
; ----------------------------------------------------------------------------
.L_A4A4:
  lda #$00    ; A4A4 A9 00
    sta <$7F     ; A4A6 85 7F
.L_A4A8:
  jsr .L_A429   ; A4A8 20 29 A4
    lda <$7F     ; A4AB A5 7F
    clc             ; A4AD 18
    adc #$40    ; A4AE 69 40
    sta <$7F     ; A4B0 85 7F
    bne .L_A4A8   ; A4B2 D0 F4
    rts             ; A4B4 60
; ----------------------------------------------------------------------------
.L_A4B5:
  jsr field.getRandom             ; A4B5 20 11 C7
    lsr a       ; A4B8 4A
    sta <$81     ; A4B9 85 81
    lda #$00    ; A4BB A9 00
    sta <$82     ; A4BD 85 82
    lda <$8D     ; A4BF A5 8D
    sta .L_0080   ; A4C1 85 80
    jsr .L_A4D4   ; A4C3 20 D4 A4
    lda <$85     ; A4C6 A5 85
    clc             ; A4C8 18
    adc <$8D     ; A4C9 65 8D
    sta <$81     ; A4CB 85 81
    lda #$00    ; A4CD A9 00
    adc #$00    ; A4CF 69 00
    sta <$82     ; A4D1 85 82
    rts             ; A4D3 60
; ----------------------------------------------------------------------------
.L_A4D4:
  lda #$00    ; A4D4 A9 00
    sta <$83     ; A4D6 85 83
    sta <$84     ; A4D8 85 84
    sta <$85     ; A4DA 85 85
    sta <$86     ; A4DC 85 86
.L_A4DE:
  lsr .L_0080   ; A4DE 46 80
    bcc .L_A4F5   ; A4E0 90 13
    lda <$84     ; A4E2 A5 84
    clc             ; A4E4 18
    adc <$81     ; A4E5 65 81
    sta <$84     ; A4E7 85 84
    lda <$85     ; A4E9 A5 85
    adc <$82     ; A4EB 65 82
    sta <$85     ; A4ED 85 85
    lda <$86     ; A4EF A5 86
    adc <$83     ; A4F1 65 83
    sta <$86     ; A4F3 85 86
.L_A4F5:
  asl <$81     ; A4F5 06 81
    rol <$82     ; A4F7 26 82
    rol <$83     ; A4F9 26 83
    lda .L_0080   ; A4FB A5 80
    bne .L_A4DE   ; A4FD D0 DF
    rts             ; A4FF 60
; ----------------------------------------------------------------------------
.L_A500:
  lda #$00    ; A500 A9 00
    sta <$81     ; A502 85 81
    sta <$82     ; A504 85 82
    sta <$83     ; A506 85 83
    lda #$00    ; A508 A9 00
    ldx #$18    ; A50A A2 18
.L_A50C:
  asl <$81     ; A50C 06 81
    rol <$82     ; A50E 26 82
    rol <$83     ; A510 26 83
    asl <$84     ; A512 06 84
    rol <$85     ; A514 26 85
    rol <$86     ; A516 26 86
    rol a       ; A518 2A
    cmp .L_0080   ; A519 C5 80
    bcc .L_A521   ; A51B 90 04
    sbc .L_0080   ; A51D E5 80
    inc <$81     ; A51F E6 81
.L_A521:
  dex             ; A521 CA
    bne .L_A50C   ; A522 D0 E8
    rts             ; A524 60
; ----------------------------------------------------------------------------
.L_A525:
  pla             ; A525 68
    pla             ; A526 68
    pla             ; A527 68
    pla             ; A528 68
    jsr menu.main.erase             ; A529 20 85 A6
    jsr .L_C063   ; A52C 20 63 C0
; bank $3d
menu.main_loop:
    lda #$00    ; A52F A9 00
    sta $78F0   ; A531 8D F0 78
.L_A534:
  lda #$00    ; A534 A9 00
    sta <$25     ; A536 85 25
    sta $2001   ; A538 8D 01 20
    sta $79F0   ; A53B 8D F0 79
    sta $7AF0   ; A53E 8D F0 7A
    jsr .L_DD06   ; A541 20 06 DD
    jsr .L_F7BB   ; A544 20 BB F7
    jsr field.init_sprites_cache    ; A547 20 86 C4
    jsr thunk_await_nmi_by_set_handler  ; A54A 20 00 FF
    lda #$02    ; A54D A9 02
    sta $4014   ; A54F 8D 14 40
    jsr .L_D308   ; A552 20 08 D3
    lda #$88    ; A555 A9 88
    sta <$FD     ; A557 85 FD
    sta <$FF     ; A559 85 FF
    jsr menu.init_ppu               ; A55B 20 9F 95
    lda #$FF    ; A55E A9 FF
    sta $7F49   ; A560 8D 49 7F
    lda #$3C    ; A563 A9 3C
    sta <$57     ; A565 85 57
.L_A567:
  jsr .L_9599   ; A567 20 99 95
    lda #$01    ; A56A A9 01
    sta <$37     ; A56C 85 37
    ldx #$00    ; A56E A2 00
    stx <$A3     ; A570 86 A3
    stx <$A4     ; A572 86 A4
    stx <$B4     ; A574 86 B4
    lda #$30    ; A576 A9 30
    jsr menu.draw_window            ; A578 20 66 A6
    ldx #$01    ; A57B A2 01
    lda #$31    ; A57D A9 31
    jsr menu.draw_window            ; A57F 20 66 A6
    ldx #$02    ; A582 A2 02
    lda #$32    ; A584 A9 32
    jsr menu.draw_window            ; A586 20 66 A6
    ldx #$03    ; A589 A2 03
    lda #$33    ; A58B A9 33
    jsr menu.draw_window            ; A58D 20 66 A6
    ldx #$04    ; A590 A2 04
    lda #$34    ; A592 A9 34
    jsr menu.draw_window            ; A594 20 66 A6
    lda #$01    ; A597 A9 01
    sta <$A2     ; A599 85 A2
    lda <$2D     ; A59B A5 2D
    lsr a       ; A59D 4A
    bcc .L_A5A9   ; A59E 90 09
    lda $78F1   ; A5A0 AD F1 78
    sec             ; A5A3 38
    sbc #$04    ; A5A4 E9 04
    sta $78F1   ; A5A6 8D F1 78
.L_A5A9:
  jsr menu.render_cursor          ; A5A9 20 CD A7
    lda #$00    ; A5AC A9 00
    jsr menu.select_pc.put_pc_sprites   ; A5AE 20 00 80
    lda #$00    ; A5B1 A9 00
    jsr .L_80CB   ; A5B3 20 CB 80
    lda #$04    ; A5B6 A9 04
    jsr menu.window1.get_input_and_update_cursor; A5B8 20 A3 91
    lda <$25     ; A5BB A5 25
    beq .L_A5C2   ; A5BD F0 03
    jmp .L_A646   ; A5BF 4C 46 A6
; ----------------------------------------------------------------------------
.L_A5C2:
  lda <$24     ; A5C2 A5 24
    beq .L_A5A9   ; A5C4 F0 E3
    jsr menu.accept_input_action    ; A5C6 20 74 8F
    jsr .L_A654   ; A5C9 20 54 A6
    lda $78F0   ; A5CC AD F0 78
    bne .L_A5D7   ; A5CF D0 06
    jsr menu.items.main_loop        ; A5D1 20 C2 9E
    jmp .L_A567   ; A5D4 4C 67 A5
; ----------------------------------------------------------------------------
.L_A5D7:
  cmp #$04    ; A5D7 C9 04
    bne .L_A5EF   ; A5D9 D0 14
    jsr fieldMenu.selectCharacter   ; A5DB 20 B4 A6
    bcs .L_A5A9   ; A5DE B0 C9
    ldx <$7F     ; A5E0 A6 7F
    lda $6102,x ; A5E2 BD 02 61
    and #$C0    ; A5E5 29 C0
    bne .L_A622   ; A5E7 D0 39
    jsr .L_9761   ; A5E9 20 61 97
    jmp .L_A567   ; A5EC 4C 67 A5
; ----------------------------------------------------------------------------
.L_A5EF:
  cmp #$08    ; A5EF C9 08
    bne .L_A5FE   ; A5F1 D0 0B
    jsr fieldMenu.selectCharacter   ; A5F3 20 B4 A6
    bcs .L_A5A9   ; A5F6 B0 B1
    jsr .L_9BB5   ; A5F8 20 B5 9B
    jmp .L_A567   ; A5FB 4C 67 A5
; ----------------------------------------------------------------------------
.L_A5FE:
  cmp #$0C    ; A5FE C9 0C
    bne .L_A60D   ; A600 D0 0B
    jsr fieldMenu.selectCharacter   ; A602 20 B4 A6
    bcs .L_A5A9   ; A605 B0 A2
    jsr .L_A83B   ; A607 20 3B A8
    jmp .L_A567   ; A60A 4C 67 A5
; ----------------------------------------------------------------------------
.L_A60D:
  cmp #$10    ; A60D C9 10
    bne .L_A617   ; A60F D0 06
    jsr .L_A696   ; A611 20 96 A6
    jmp .L_A5A9   ; A614 4C A9 A5
; ----------------------------------------------------------------------------
.L_A617:
  cmp #$14    ; A617 C9 14
    bne .L_A640   ; A619 D0 25
    lda $6021   ; A61B AD 21 60
    and #$1F    ; A61E 29 1F
    bne .L_A62C   ; A620 D0 0A
.L_A622:
  jsr menu.queue_SE_of_invalid_action ; A622 20 29 D5
    lda #$00    ; A625 A9 00
    sta <$A3     ; A627 85 A3
.L_A629:
  jmp .L_A5A9   ; A629 4C A9 A5
; ----------------------------------------------------------------------------
.L_A62C:
  jsr fieldMenu.selectCharacter   ; A62C 20 B4 A6
    bcs .L_A629   ; A62F B0 F8
    ldx <$7F     ; A631 A6 7F
    lda $6102,x ; A633 BD 02 61
    and #$C0    ; A636 29 C0
    bne .L_A622   ; A638 D0 E8
    jsr jobMenu.main                ; A63A 20 2F 96
    jmp .L_A534   ; A63D 4C 34 A5
; ----------------------------------------------------------------------------
.L_A640:
  jsr menu.savefile.main_loop     ; A640 20 97 A8
    jmp .L_A567   ; A643 4C 67 A5
; ----------------------------------------------------------------------------
.L_A646:
  jsr menu.main.erase             ; A646 20 85 A6
    lda #$00    ; A649 A9 00
    sta $2001   ; A64B 8D 01 20
    jsr .L_A654   ; A64E 20 54 A6
    jmp .L_8F58   ; A651 4C 58 8F
; ----------------------------------------------------------------------------
.L_A654:
  ldx #$00    ; A654 A2 00
.L_A656:
  lda $6102,x ; A656 BD 02 61
    and #$FE    ; A659 29 FE
    sta $6102,x ; A65B 9D 02 61
    txa             ; A65E 8A
    clc             ; A65F 18
    adc #$40    ; A660 69 40
    tax             ; A662 AA
    bne .L_A656   ; A663 D0 F1
    rts             ; A665 60
; ----------------------------------------------------------------------------
; bank $3d
menu.draw_window:
    pha             ; A666 48
    jsr menu.draw_window_box        ; A667 20 F1 AA
    pla             ; A66A 68
; bank $3d
menu.stream_window_content:
    sta <$92     ; A66B 85 92
    lda #$82    ; A66D A9 82
    sta <$95     ; A66F 85 95
    lda #$00    ; A671 A9 00
    sta <$94     ; A673 85 94
    jmp field.stream_string_in_window   ; A675 4C 65 EE
; ----------------------------------------------------------------------------
; bank $3d
menu.draw_window_content:
    sta <$92     ; A678 85 92
    lda #$82    ; A67A A9 82
    sta <$95     ; A67C 85 95
    lda #$00    ; A67E A9 00
    sta <$94     ; A680 85 94
    jmp field.load_and_draw_string  ; A682 4C 9A EE
; ----------------------------------------------------------------------------
; bank $3d
menu.main.erase:
    jsr field.init_sprites_cache    ; A685 20 86 C4
    jsr thunk_await_nmi_by_set_handler  ; A688 20 00 FF
    lda #$02    ; A68B A9 02
    sta $4014   ; A68D 8D 14 40
    jsr menu.init_ppu               ; A690 20 9F 95
    jmp menu.erase_box_1e_x_1c      ; A693 4C 65 F4
; ----------------------------------------------------------------------------
.L_A696:
  lda #$00    ; A696 A9 00
    jsr fieldMenu.selectCharacter   ; A698 20 B4 A6
    bcs .L_A6B3   ; A69B B0 16
.L_A69D:
  ldx <$7F     ; A69D A6 7F
    lda $6102,x ; A69F BD 02 61
    and #$C0    ; A6A2 29 C0
    bne .L_A6AE   ; A6A4 D0 08
    lda $620F,x ; A6A6 BD 0F 62
    eor #$01    ; A6A9 49 01
    sta $620F,x ; A6AB 9D 0F 62
.L_A6AE:
  jsr .L_A6CD   ; A6AE 20 CD A6
    bcc .L_A69D   ; A6B1 90 EA
.L_A6B3:
  rts             ; A6B3 60
; ----------------------------------------------------------------------------
; bank $3d
fieldMenu.selectCharacter:
    lda #$00    ; A6B4 A9 00
    sta $79F0   ; A6B6 8D F0 79
    ldx #$0F    ; A6B9 A2 0F
.L_A6BB:
  lda .L_A705,x ; A6BB BD 05 A7
    sta $7900,x ; A6BE 9D 00 79
    dex             ; A6C1 CA
    bpl .L_A6BB   ; A6C2 10 F7
    lda #$10    ; A6C4 A9 10
    sta $79F1   ; A6C6 8D F1 79
    lda #$01    ; A6C9 A9 01
    sta <$A3     ; A6CB 85 A3
.L_A6CD:
  jsr menu.render_cursor          ; A6CD 20 CD A7
    lda #$00    ; A6D0 A9 00
    jsr menu.select_pc.put_pc_sprites   ; A6D2 20 00 80
    lda #$00    ; A6D5 A9 00
    jsr .L_80CB   ; A6D7 20 CB 80
    lda #$04    ; A6DA A9 04
    jsr menu.window2.get_input_and_update_cursor; A6DC 20 D9 91
    lda <$25     ; A6DF A5 25
    bne .L_A6FC   ; A6E1 D0 19
    lda <$24     ; A6E3 A5 24
    beq .L_A6CD   ; A6E5 F0 E6
.L_A6E7:
  jsr menu.accept_input_action    ; A6E7 20 74 8F
    lda $79F0   ; A6EA AD F0 79
    lsr a       ; A6ED 4A
    lsr a       ; A6EE 4A
    ora #$10    ; A6EF 09 10
    sta <$9E     ; A6F1 85 9E
    lsr a       ; A6F3 4A
    ror a       ; A6F4 6A
    ror a       ; A6F5 6A
    and #$C0    ; A6F6 29 C0
    sta <$7F     ; A6F8 85 7F
    clc             ; A6FA 18
    rts             ; A6FB 60
; ----------------------------------------------------------------------------
.L_A6FC:
  lda #$00    ; A6FC A9 00
    sta <$A3     ; A6FE 85 A3
    jsr menu.accept_input_action    ; A700 20 74 8F
    sec             ; A703 38
    rts             ; A704 60
; ----------------------------------------------------------------------------
.L_A705:
  ora ($05,x) ; A705 01 05
    brk             ; A707 00
    brk             ; A708 00
    ora ($0B,x) ; A709 01 0B
    brk             ; A70B 00
    brk             ; A70C 00
    ora ($11,x) ; A70D 01 11
    brk             ; A70F 00
    brk             ; A710 00
    ora ($17,x) ; A711 01 17
    brk             ; A713 00
    brk             ; A714 00
.L_A715:
  lda #$00    ; A715 A9 00
    sta $79F0   ; A717 8D F0 79
    ldx #$0F    ; A71A A2 0F
.L_A71C:
  lda .L_A74F,x ; A71C BD 4F A7
    sta $7900,x ; A71F 9D 00 79
    dex             ; A722 CA
    bpl .L_A71C   ; A723 10 F7
    lda #$10    ; A725 A9 10
    sta $79F1   ; A727 8D F1 79
    lda #$01    ; A72A A9 01
    sta <$A3     ; A72C 85 A3
.L_A72E:
  jsr menu.render_cursor          ; A72E 20 CD A7
    lda #$03    ; A731 A9 03
    jsr menu.select_pc.put_pc_sprites   ; A733 20 00 80
    lda #$08    ; A736 A9 08
    jsr menu.window2.get_input_and_update_cursor; A738 20 D9 91
    lda <$25     ; A73B A5 25
    bne .L_A746   ; A73D D0 07
    lda <$24     ; A73F A5 24
    beq .L_A72E   ; A741 F0 EB
    jmp .L_A6E7   ; A743 4C E7 A6
; ----------------------------------------------------------------------------
.L_A746:
  lda #$00    ; A746 A9 00
    sta <$A3     ; A748 85 A3
    jsr menu.accept_input_action    ; A74A 20 74 8F
    sec             ; A74D 38
    rts             ; A74E 60
; ----------------------------------------------------------------------------
.L_A74F:
  ora ($17,x) ; A74F 01 17
    brk             ; A751 00
    brk             ; A752 00
    bbr0    $17,.L_A756                   ; A753 0F 17 00
.L_A756:
  brk             ; A756 00
    ora ($1A,x) ; A757 01 1A
    brk             ; A759 00
    brk             ; A75A 00
    bbr0    $1A,.L_A75E                   ; A75B 0F 1A 00
.L_A75E:
  brk             ; A75E 00
    lda #$00    ; A75F A9 00
    sta $79F0   ; A761 8D F0 79
    ldx #$0F    ; A764 A2 0F
.L_A766:
  lda .L_A74F,x ; A766 BD 4F A7
    sta $7900,x ; A769 9D 00 79
    dex             ; A76C CA
    bpl .L_A766   ; A76D 10 F7
    lda #$14    ; A76F A9 14
    sta $79F1   ; A771 8D F1 79
    lda #$01    ; A774 A9 01
    sta <$A3     ; A776 85 A3
.L_A778:
  jsr .L_A799   ; A778 20 99 A7
    lda #$03    ; A77B A9 03
    jsr menu.select_pc.put_pc_sprites   ; A77D 20 00 80
    lda #$08    ; A780 A9 08
    jsr menu.window2.get_input_and_update_cursor; A782 20 D9 91
    lda <$25     ; A785 A5 25
    bne .L_A790   ; A787 D0 07
    lda <$24     ; A789 A5 24
    beq .L_A778   ; A78B F0 EB
    jmp .L_A6E7   ; A78D 4C E7 A6
; ----------------------------------------------------------------------------
.L_A790:
  lda #$00    ; A790 A9 00
    sta <$A3     ; A792 85 A3
    jsr menu.accept_input_action    ; A794 20 74 8F
    sec             ; A797 38
    rts             ; A798 60
; ----------------------------------------------------------------------------
.L_A799:
  lda $79F0   ; A799 AD F0 79
    clc             ; A79C 18
    adc #$04    ; A79D 69 04
    cmp $79F1   ; A79F CD F1 79
    bne menu.render_cursor          ; A7A2 D0 29
    jsr thunk_await_nmi_by_set_handler  ; A7A4 20 00 FF
    lda #$02    ; A7A7 A9 02
    sta $4014   ; A7A9 8D 14 40
    jsr field.call_sound_driver_and_restore_banks; A7AC 20 58 C7
    jsr field.init_sprites_cache    ; A7AF 20 86 C4
    jsr menu.put_cursor_on_window1  ; A7B2 20 19 91
    inc <$F0     ; A7B5 E6 F0
    lda <$F0     ; A7B7 A5 F0
    and #$03    ; A7B9 29 03
    asl a       ; A7BB 0A
    asl a       ; A7BC 0A
    sta $79F0   ; A7BD 8D F0 79
    jsr menu.put_cursor_on_window2  ; A7C0 20 2A 91
    lda $79F1   ; A7C3 AD F1 79
    sec             ; A7C6 38
    sbc #$04    ; A7C7 E9 04
    sta $79F0   ; A7C9 8D F0 79
    rts             ; A7CC 60
; ----------------------------------------------------------------------------
; bank $3d
menu.render_cursor:
    jsr thunk_await_nmi_by_set_handler  ; A7CD 20 00 FF
    lda #$02    ; A7D0 A9 02
    sta $4014   ; A7D2 8D 14 40
    inc <$F0     ; A7D5 E6 F0
    jsr field.call_sound_driver_and_restore_banks; A7D7 20 58 C7
    jsr field.init_sprites_cache    ; A7DA 20 86 C4
    jsr menu.put_cursor_on_window1  ; A7DD 20 19 91
    jsr menu.put_cursor_on_window2  ; A7E0 20 2A 91
    jsr menu.put_cursor_on_window3  ; A7E3 20 4C 91
.L_A7E6:
  ldx <$26     ; A7E6 A6 26
    bit <$B4     ; A7E8 24 B4
    bvc .L_A810   ; A7EA 50 24
    lda <$B5     ; A7EC A5 B5
    asl a       ; A7EE 0A
    asl a       ; A7EF 0A
    asl a       ; A7F0 0A
    sta $0200,x ; A7F1 9D 00 02
    lda #$E8    ; A7F4 A9 E8
    sta $0201,x ; A7F6 9D 01 02
    lda #$83    ; A7F9 A9 83
    ldy <$37     ; A7FB A4 37
    bne .L_A801   ; A7FD D0 02
    lda #$80    ; A7FF A9 80
.L_A801:
  sta $0202,x ; A801 9D 02 02
    lda <$B6     ; A804 A5 B6
    asl a       ; A806 0A
    asl a       ; A807 0A
    asl a       ; A808 0A
    sta $0203,x ; A809 9D 03 02
    inx             ; A80C E8
    inx             ; A80D E8
    inx             ; A80E E8
    inx             ; A80F E8
.L_A810:
  bit <$B4     ; A810 24 B4
    bpl .L_A838   ; A812 10 24
    lda <$B7     ; A814 A5 B7
    asl a       ; A816 0A
    asl a       ; A817 0A
    asl a       ; A818 0A
    sta $0200,x ; A819 9D 00 02
    lda #$E8    ; A81C A9 E8
    sta $0201,x ; A81E 9D 01 02
    lda #$03    ; A821 A9 03
    ldy <$37     ; A823 A4 37
    bne .L_A829   ; A825 D0 02
    lda #$00    ; A827 A9 00
.L_A829:
  sta $0202,x ; A829 9D 02 02
    lda <$B8     ; A82C A5 B8
    asl a       ; A82E 0A
    asl a       ; A82F 0A
    asl a       ; A830 0A
    sta $0203,x ; A831 9D 03 02
    inx             ; A834 E8
    inx             ; A835 E8
    inx             ; A836 E8
    inx             ; A837 E8
.L_A838:
  stx <$26     ; A838 86 26
    rts             ; A83A 60
; ----------------------------------------------------------------------------
.L_A83B:
  jsr menu.init_input_states      ; A83B 20 92 95
    jsr menu.main.erase             ; A83E 20 85 A6
    jsr menu.upload_default_bg_attrs    ; A841 20 6F 95
    lda #$00    ; A844 A9 00
    sta <$A2     ; A846 85 A2
    sta <$A3     ; A848 85 A3
.L_A84A:
  jsr .L_A864   ; A84A 20 64 A8
.L_A84D:
  jsr menu.render_cursor          ; A84D 20 CD A7
    ldx <$7F     ; A850 A6 7F
    jsr .L_8129   ; A852 20 29 81
    jsr floor.getInputOrFireObjectEvent ; A855 20 19 D2
    lda <$24     ; A858 A5 24
    ora <$25     ; A85A 05 25
    beq .L_A84D   ; A85C F0 EF
    jsr menu.accept_input_action    ; A85E 20 74 8F
    jmp menu.main.erase             ; A861 4C 85 A6
; ----------------------------------------------------------------------------
.L_A864:
  ldx #$1D    ; A864 A2 1D
    lda #$47    ; A866 A9 47
    jsr .L_A875   ; A868 20 75 A8
    ldx #$1C    ; A86B A2 1C
    jsr menu.draw_window_box        ; A86D 20 F1 AA
    lda #$37    ; A870 A9 37
    jmp menu.stream_window_content  ; A872 4C 6B A6
; ----------------------------------------------------------------------------
.L_A875:
  pha             ; A875 48
    jsr menu.draw_window_box        ; A876 20 F1 AA
    pla             ; A879 68
; bank $3d
field.loadAndDrawString:
    jsr field.load_label_text_into_buffer; A87A 20 B1 D1
    lda #$18    ; A87D A9 18
    sta <$93     ; A87F 85 93
    lda #$01    ; A881 A9 01
    sta <$3E     ; A883 85 3E
    lda #$7B    ; A885 A9 7B
    sta <$3F     ; A887 85 3F
    jmp field.reflect_window_scroll ; A889 4C 61 EB
; ----------------------------------------------------------------------------
; bank $3d
saveMenu.close:
    jsr menu.accept_input_action    ; A88C 20 74 8F
    lda #$18    ; A88F A9 18
    sta $78F0   ; A891 8D F0 78
    jmp menu.main.erase             ; A894 4C 85 A6
; ----------------------------------------------------------------------------
; bank $3d
menu.savefile.main_loop:
    lda $7F38   ; A897 AD 38 7F
    cmp #$55    ; A89A C9 55
    bne .L_A8A5   ; A89C D0 07
    lda $7F39   ; A89E AD 39 7F
    cmp #$AA    ; A8A1 C9 AA
    beq .L_A8B4   ; A8A3 F0 0F
.L_A8A5:
  lda #$55    ; A8A5 A9 55
    sta $7F38   ; A8A7 8D 38 7F
    lda #$AA    ; A8AA A9 AA
    sta $7F39   ; A8AC 8D 39 7F
    lda #$01    ; A8AF A9 01
    sta $7F3A   ; A8B1 8D 3A 7F
.L_A8B4:
  lda $7F3A   ; A8B4 AD 3A 7F
    sta $6014   ; A8B7 8D 14 60
    jsr .L_AE5C   ; A8BA 20 5C AE
    jsr menu.init_input_states      ; A8BD 20 92 95
    jsr menu.main.erase             ; A8C0 20 85 A6
    jsr menu.upload_default_bg_attrs    ; A8C3 20 6F 95
    lda #$00    ; A8C6 A9 00
    sta $2001   ; A8C8 8D 01 20
    jsr .L_DD06   ; A8CB 20 06 DD
    jsr thunk_await_nmi_by_set_handler  ; A8CE 20 00 FF
    lda #$02    ; A8D1 A9 02
    sta $4014   ; A8D3 8D 14 40
    jsr menu.init_ppu               ; A8D6 20 9F 95
    lda #$00    ; A8D9 A9 00
    sta <$A2     ; A8DB 85 A2
    sta <$A4     ; A8DD 85 A4
    lda #$01    ; A8DF A9 01
    sta <$A3     ; A8E1 85 A3
    lda #$00    ; A8E3 A9 00
    sta $79F0   ; A8E5 8D F0 79
    jsr menu.savefile.build_menu    ; A8E8 20 84 A9
.L_A8EB:
  jsr menu.render_cursor          ; A8EB 20 CD A7
    lda $79F0   ; A8EE AD F0 79
    lsr a       ; A8F1 4A
    lsr a       ; A8F2 4A
    and #$03    ; A8F3 29 03
    jsr .L_8241   ; A8F5 20 41 82
    lda #$04    ; A8F8 A9 04
    jsr menu.window2.get_input_and_update_cursor; A8FA 20 D9 91
    lda <$25     ; A8FD A5 25
    bne saveMenu.close              ; A8FF D0 8B
    lda <$24     ; A901 A5 24
    beq .L_A8EB   ; A903 F0 E6
    jsr menu.accept_input_action    ; A905 20 74 8F
    lda #$4C    ; A908 A9 4C
    jsr menu.savefile.draw_message  ; A90A 20 96 A9
    lda #$01    ; A90D A9 01
    sta <$A2     ; A90F 85 A2
    lda #$00    ; A911 A9 00
    sta $78F0   ; A913 8D F0 78
.L_A916:
  jsr menu.render_cursor          ; A916 20 CD A7
    lda $79F0   ; A919 AD F0 79
    lsr a       ; A91C 4A
    lsr a       ; A91D 4A
    and #$03    ; A91E 29 03
    jsr .L_8241   ; A920 20 41 82
    lda #$04    ; A923 A9 04
    jsr menu.window1.get_input_and_update_cursor; A925 20 A3 91
    lda <$25     ; A928 A5 25
    bne .L_A935   ; A92A D0 09
    lda <$24     ; A92C A5 24
    beq .L_A916   ; A92E F0 E6
    lda $78F0   ; A930 AD F0 78
    beq .L_A938   ; A933 F0 03
.L_A935:
  jmp saveMenu.close              ; A935 4C 8C A8
; ----------------------------------------------------------------------------
.L_A938:
  lda #$4D    ; A938 A9 4D
    jsr menu.savefile.draw_message  ; A93A 20 96 A9
    lda $7F3A   ; A93D AD 3A 7F
    clc             ; A940 18
    adc #$01    ; A941 69 01
    cmp #$64    ; A943 C9 64
    bcc .L_A949   ; A945 90 02
    lda #$01    ; A947 A9 01
.L_A949:
  sta $7F3A   ; A949 8D 3A 7F
    lda $79F0   ; A94C AD F0 79
    and #$0C    ; A94F 29 0C
    clc             ; A951 18
    adc #$64    ; A952 69 64
    sta <$83     ; A954 85 83
    lda #$00    ; A956 A9 00
    sta .L_0080   ; A958 85 80
    sta <$82     ; A95A 85 82
    lda #$60    ; A95C A9 60
    sta <$81     ; A95E 85 81
    ldy #$00    ; A960 A0 00
.L_A962:
  lda (.L_0080),y                   ; A962 B1 80
    sta [$82],y ; A964 91 82
    iny             ; A966 C8
    bne .L_A962   ; A967 D0 F9
    inc <$81     ; A969 E6 81
    inc <$83     ; A96B E6 83
    lda <$81     ; A96D A5 81
    and #$03    ; A96F 29 03
    bne .L_A962   ; A971 D0 EF
    jsr .L_AA67   ; A973 20 67 AA
    jsr .L_AA4B   ; A976 20 4B AA
    lda #$4E    ; A979 A9 4E
    jsr menu.savefile.draw_message  ; A97B 20 96 A9
    jsr .L_AA4B   ; A97E 20 4B AA
    jmp saveMenu.close              ; A981 4C 8C A8
; ----------------------------------------------------------------------------
; bank $3d
menu.savefile.build_menu:
    ldx #$0F    ; A984 A2 0F
    jsr menu.draw_window_box        ; A986 20 F1 AA
    lda #$38    ; A989 A9 38
    jsr menu.stream_window_content  ; A98B 20 6B A6
    jsr menu.savefile.build_file_menu   ; A98E 20 A0 A9
    lda #$4B    ; A991 A9 4B
    jmp menu.savefile.draw_message  ; A993 4C 96 A9
; ----------------------------------------------------------------------------
; bank $3d
menu.savefile.draw_message:
    pha             ; A996 48
    ldx #$10    ; A997 A2 10
    jsr menu.draw_window_box        ; A999 20 F1 AA
    pla             ; A99C 68
    jmp menu.draw_window_content    ; A99D 4C 78 A6
; ----------------------------------------------------------------------------
; bank $3d
menu.savefile.build_file_menu:
    clc             ; A9A0 18
    jsr menu.savefile.save_or_load_current_game_with_buffer; A9A1 20 18 AA
    lda #$00    ; A9A4 A9 00
    sta <$62     ; A9A6 85 62
    ldx #$11    ; A9A8 A2 11
    jsr menu.draw_window_box        ; A9AA 20 F1 AA
    lda #$64    ; A9AD A9 64
    jsr menu.savefile.draw_file_summary ; A9AF 20 E1 A9
    rol <$62     ; A9B2 26 62
    ldx #$12    ; A9B4 A2 12
    jsr menu.draw_window_box        ; A9B6 20 F1 AA
    lda #$68    ; A9B9 A9 68
    jsr menu.savefile.draw_file_summary ; A9BB 20 E1 A9
    rol <$62     ; A9BE 26 62
    ldx #$13    ; A9C0 A2 13
    jsr menu.draw_window_box        ; A9C2 20 F1 AA
    lda #$6C    ; A9C5 A9 6C
    jsr menu.savefile.draw_file_summary ; A9C7 20 E1 A9
    rol <$62     ; A9CA 26 62
    sec             ; A9CC 38
    jsr menu.savefile.save_or_load_current_game_with_buffer; A9CD 20 18 AA
    ldx #$0F    ; A9D0 A2 0F
.L_A9D2:
  lda .L_AA3B,x ; A9D2 BD 3B AA
    sta $7900,x ; A9D5 9D 00 79
    dex             ; A9D8 CA
    bpl .L_A9D2   ; A9D9 10 F7
    lda #$0C    ; A9DB A9 0C
    sta $79F1   ; A9DD 8D F1 79
    rts             ; A9E0 60
; ----------------------------------------------------------------------------
; bank $3d
menu.savefile.draw_file_summary:
    pha             ; A9E1 48
    lsr a       ; A9E2 4A
    lsr a       ; A9E3 4A
    and #$03    ; A9E4 29 03
    jsr .L_AE97   ; A9E6 20 97 AE
    bcc .L_A9EE   ; A9E9 90 03
    pla             ; A9EB 68
    clc             ; A9EC 18
    rts             ; A9ED 60
; ----------------------------------------------------------------------------
.L_A9EE:
  pla             ; A9EE 68
    jsr menu.savefile.load_game_at  ; A9EF 20 F9 A9
    lda #$25    ; A9F2 A9 25
    jsr menu.stream_window_content  ; A9F4 20 6B A6
    sec             ; A9F7 38
    rts             ; A9F8 60
; ----------------------------------------------------------------------------
; bank $3d
menu.savefile.load_game_at:
    sta <$83     ; A9F9 85 83
    lda #$00    ; A9FB A9 00
    tay             ; A9FD A8
    sta .L_0080   ; A9FE 85 80
    sta <$82     ; AA00 85 82
    lda #$60    ; AA02 A9 60
    sta <$81     ; AA04 85 81
; bank $3d
menu.savefile.load_game:
    lda [$82],y ; AA06 B1 82
    sta (.L_0080),y                   ; AA08 91 80
    iny             ; AA0A C8
    bne menu.savefile.load_game     ; AA0B D0 F9
    inc <$83     ; AA0D E6 83
    inc <$81     ; AA0F E6 81
    lda <$81     ; AA11 A5 81
    and #$03    ; AA13 29 03
    bne menu.savefile.load_game     ; AA15 D0 EF
    rts             ; AA17 60
; ----------------------------------------------------------------------------
; bank $3d
menu.savefile.save_or_load_current_game_with_buffer:
    lda #$00    ; AA18 A9 00
    tay             ; AA1A A8
    sta .L_0080   ; AA1B 85 80
    sta <$82     ; AA1D 85 82
    lda #$60    ; AA1F A9 60
    sta <$81     ; AA21 85 81
    lda #$74    ; AA23 A9 74
    sta <$83     ; AA25 85 83
    bcs menu.savefile.load_game     ; AA27 B0 DD
.L_AA29:
  lda (.L_0080),y                   ; AA29 B1 80
    sta [$82],y ; AA2B 91 82
    iny             ; AA2D C8
    bne .L_AA29   ; AA2E D0 F9
    inc <$81     ; AA30 E6 81
    inc <$83     ; AA32 E6 83
    lda <$81     ; AA34 A5 81
    and #$03    ; AA36 29 03
    bne .L_AA29   ; AA38 D0 EF
    rts             ; AA3A 60
; ----------------------------------------------------------------------------
.L_AA3B:
  ora ($07,x) ; AA3B 01 07
    brk             ; AA3D 00
    brk             ; AA3E 00
    ora ($0F,x) ; AA3F 01 0F
    brk             ; AA41 00
    brk             ; AA42 00
    ora ($17,x) ; AA43 01 17
    brk             ; AA45 00
    brk             ; AA46 00
    ora ($02,x) ; AA47 01 02
    brk             ; AA49 00
    brk             ; AA4A 00
.L_AA4B:
  jsr .L_AA60   ; AA4B 20 60 AA
    jsr field.get_input             ; AA4E 20 81 D2
    lda <$20     ; AA51 A5 20
    bne .L_AA4B   ; AA53 D0 F6
.L_AA55:
  jsr .L_AA60   ; AA55 20 60 AA
    jsr field.get_input             ; AA58 20 81 D2
    lda <$20     ; AA5B A5 20
    beq .L_AA55   ; AA5D F0 F6
    rts             ; AA5F 60
; ----------------------------------------------------------------------------
.L_AA60:
  jsr thunk_await_nmi_by_set_handler  ; AA60 20 00 FF
    jsr field.call_sound_driver_and_restore_banks; AA63 20 58 C7
    rts             ; AA66 60
; ----------------------------------------------------------------------------
.L_AA67:
  lda #$00    ; AA67 A9 00
    sta <$A3     ; AA69 85 A3
    sta <$A2     ; AA6B 85 A2
    jsr menu.render_cursor          ; AA6D 20 CD A7
    lda $79F0   ; AA70 AD F0 79
    lsr a       ; AA73 4A
    lsr a       ; AA74 4A
    and #$03    ; AA75 29 03
    pha             ; AA77 48
    clc             ; AA78 18
    adc #$11    ; AA79 69 11
    tax             ; AA7B AA
    jsr menu.draw_window_box        ; AA7C 20 F1 AA
    lda #$25    ; AA7F A9 25
    jsr menu.stream_window_content  ; AA81 20 6B A6
    pla             ; AA84 68
    clc             ; AA85 18
    adc #$01    ; AA86 69 01
    jsr menu.select_pc.put_pc_sprites   ; AA88 20 00 80
    jmp menu.render_cursor          ; AA8B 4C CD A7
; ----------------------------------------------------------------------------
.L_AA8E:
  jsr menu.savefile.erase_windows ; AA8E 20 4B F4
    ldx #$06    ; AA91 A2 06
    jsr .L_AAA0   ; AA93 20 A0 AA
    ldx #$05    ; AA96 A2 05
    jsr menu.draw_window_box        ; AA98 20 F1 AA
    lda #$35    ; AA9B A9 35
    jmp menu.draw_window_content    ; AA9D 4C 78 A6
; ----------------------------------------------------------------------------
.L_AAA0:
  jsr menu.get_window_metrics     ; AAA0 20 BC AA
    jmp field.draw_window_top       ; AAA3 4C E5 EC
; ----------------------------------------------------------------------------
.L_AAA6:
  jsr menu.get_window_metrics     ; AAA6 20 BC AA
    inc <$38     ; AAA9 E6 38
    inc <$39     ; AAAB E6 39
    lda <$3C     ; AAAD A5 3C
    sec             ; AAAF 38
    sbc #$02    ; AAB0 E9 02
    sta <$3C     ; AAB2 85 3C
    lda <$3D     ; AAB4 A5 3D
    sec             ; AAB6 38
    sbc #$02    ; AAB7 E9 02
    sta <$3D     ; AAB9 85 3D
    rts             ; AABB 60
; ----------------------------------------------------------------------------
; bank $3d
menu.get_window_metrics:
    lda field.menu_window_metrics,x ; AABC BD F7 AA
    sta <$B6     ; AABF 85 B6
    sta <$38     ; AAC1 85 38
    sec             ; AAC3 38
    sbc #$01    ; AAC4 E9 01
    sta <$97     ; AAC6 85 97
    lda .L_AB1D,x ; AAC8 BD 1D AB
    sta <$39     ; AACB 85 39
    clc             ; AACD 18
    adc #$02    ; AACE 69 02
    sta <$B5     ; AAD0 85 B5
    dec <$B5     ; AAD2 C6 B5
    sta <$98     ; AAD4 85 98
    lda .L_AB43,x ; AAD6 BD 43 AB
    sta <$3C     ; AAD9 85 3C
    clc             ; AADB 18
    adc <$B6     ; AADC 65 B6
    sec             ; AADE 38
    sbc #$01    ; AADF E9 01
    sta <$B8     ; AAE1 85 B8
    lda .L_AB69,x ; AAE3 BD 69 AB
    sta <$3D     ; AAE6 85 3D
    clc             ; AAE8 18
    adc <$B5     ; AAE9 65 B5
    sec             ; AAEB 38
    sbc #$03    ; AAEC E9 03
    sta <$B7     ; AAEE 85 B7
    rts             ; AAF0 60
; ----------------------------------------------------------------------------
; bank $3d
menu.draw_window_box:
    jsr menu.get_window_metrics     ; AAF1 20 BC AA
    jmp field.draw_window_box       ; AAF4 4C 02 ED
; ----------------------------------------------------------------------------
; bank $3d
field.menu_window_metrics:
    ora ($17,x) ; AAF7 01 17
    rmb1    <$09     ; AAF9 17
    ora #$11    ; AAFA 09 11
    ora ($01,x) ; AAFC 01 01
    ora ($09,x) ; AAFE 01 09
    clc             ; AB00 18
    ora ($01,x) ; AB01 01 01
    ora ($19,x) ; AB03 01 19
    ora ($01,x) ; AB05 01 01
    php             ; AB07 08
    ora ($01,x) ; AB08 01 01
    ora ($02,x) ; AB0A 01 02
    ora #$02    ; AB0C 09 02
    bpl .L_AB12   ; AB0E 10 02
    ora ($07,x) ; AB10 01 07
.L_AB12:
  ora ($01,x) ; AB12 01 01
    ora ($01,x) ; AB14 01 01
    ora ($02,x) ; AB16 01 02
    bpl .L_AB21   ; AB18 10 07
    tsb <$01     ; AB1A 04 01
    .byte   <$01     ; AB1C 01
.L_AB1D:
  ora ($01,x) ; AB1D 01 01
    ora ($1A)   ; AB1F 12 1A
.L_AB21:
  inc a       ; AB21 1A
    ora ($04,x) ; AB22 01 04
    ora <$01,x   ; AB24 15 01
    ora ($01,x) ; AB26 01 01
    .byte   <$0B     ; AB28 0B
    ora ($01,x) ; AB29 01 01
    ora <$01     ; AB2B 05 01
    ora ($05,x) ; AB2D 01 05
    ora $0215   ; AB2F 0D 15 02
    .byte   <$02     ; AB32 02
    asl <$06     ; AB33 06 06
    asl a       ; AB35 0A
    asl a       ; AB36 0A
    ora ($06,x) ; AB37 01 06
    ora ($01,x) ; AB39 01 01
    php             ; AB3B 08
    ora ($08)   ; AB3C 12 08
    ora ($03,x) ; AB3E 01 03
    .byte   <$0B     ; AB40 0B
    ora ($01,x) ; AB41 01 01
.L_AB43:
  asl <$08,x   ; AB43 16 08
    php             ; AB45 08
    php             ; AB46 08
    tsb $1E08   ; AB47 0C 08 1E
    asl $070A,x ; AB4A 1E 0A 07
    asl $121E,x ; AB4D 1E 1E 12
    asl <$1E     ; AB50 06 1E
    rmb0    <$17     ; AB52 07
    rmb1    <$1E     ; AB53 17
    asl $1E1E,x ; AB54 1E 1E 1E
    php             ; AB57 08
    ora <$0E,x   ; AB58 15 0E
    asl $1E16   ; AB5A 0E 16 1E
    clc             ; AB5D 18
    ora ($09)   ; AB5E 12 09
    asl $1213,x ; AB60 1E 13 12
    trb $120F   ; AB63 1C 0F 12
    clc             ; AB66 18
    .byte   <$1E     ; AB67 1E
    .byte   <$1E     ; AB68 1E
.L_AB69:
  .byte   <$1B     ; AB69 1B
    ora [$09],y ; AB6A 11 09
    .byte   <$03     ; AB6C 03
    .byte   <$03     ; AB6D 03
    tsb <$12     ; AB6E 04 12
    php             ; AB70 08
    tsb <$04     ; AB71 04 04
    .byte   <$0B     ; AB73 0B
    ora ($04)   ; AB74 12 04
    tsb <$18     ; AB76 04 18
    tsb <$04     ; AB78 04 04
    php             ; AB7A 08
    php             ; AB7B 08
    php             ; AB7C 08
    tsb <$04     ; AB7D 04 04
    tsb <$04     ; AB7F 04 04
    ora ($12)   ; AB81 12 12
    tsb <$04     ; AB83 04 04
    tsb <$1C     ; AB85 04 1C
    tsb <$04     ; AB87 04 04
    asl <$04     ; AB89 06 04
    asl <$0E     ; AB8B 06 0E
    tsb <$1C     ; AB8D 04 1C
    jsr getJobParameter             ; AB8F 20 F2 AD
    ldx <$8F     ; AB92 A6 8F
    lda $601B   ; AB94 AD 1B 60
    sec             ; AB97 38
    sbc $7200,x ; AB98 FD 00 72
    sta $601B   ; AB9B 8D 1B 60
    ldx <$7F     ; AB9E A6 7F
    lda $6100,x ; ABA0 BD 00 61
    asl a       ; ABA3 0A
    ora <$7F     ; ABA4 05 7F
    tay             ; ABA6 A8
    lda $6110,x ; ABA7 BD 10 61
    sta $6210,y ; ABAA 99 10 62
    lda $6111,x ; ABAD BD 11 61
    sta $6211,y ; ABB0 99 11 62
    lda <$8F     ; ABB3 A5 8F
    sta $6100,x ; ABB5 9D 00 61
    lda <$8F     ; ABB8 A5 8F
    asl a       ; ABBA 0A
    ora <$7F     ; ABBB 05 7F
    tay             ; ABBD A8
    lda $6210,y ; ABBE B9 10 62
    sta $6110,x ; ABC1 9D 10 61
    lda $6211,y ; ABC4 B9 11 62
    sta $6111,x ; ABC7 9D 11 61
    lda $7C02   ; ABCA AD 02 7C
    sta $6112,x ; ABCD 9D 12 61
    lda $7C03   ; ABD0 AD 03 7C
    sta $6113,x ; ABD3 9D 13 61
    lda $7C04   ; ABD6 AD 04 7C
    sta $6114,x ; ABD9 9D 14 61
    lda $7C05   ; ABDC AD 05 7C
    sta $6115,x ; ABDF 9D 15 61
    lda $7C06   ; ABE2 AD 06 7C
    sta $6116,x ; ABE5 9D 16 61
    lda $6102,x ; ABE8 BD 02 61
    ora #$01    ; ABEB 09 01
    sta $6102,x ; ABED 9D 02 61
    lda $7C07   ; ABF0 AD 07 7C
    asl a       ; ABF3 0A
    asl a       ; ABF4 0A
    asl a       ; ABF5 0A
    tay             ; ABF6 A8
    lda $9B88,y ; ABF7 B9 88 9B
    sta $6131,x ; ABFA 9D 31 61
    lda $9B89,y ; ABFD B9 89 9B
    sta $6133,x ; AC00 9D 33 61
    lda $9B8A,y ; AC03 B9 8A 9B
    sta $6135,x ; AC06 9D 35 61
    lda $9B8B,y ; AC09 B9 8B 9B
    sta $6137,x ; AC0C 9D 37 61
    lda $9B8C,y ; AC0F B9 8C 9B
    sta $6139,x ; AC12 9D 39 61
    lda $9B8D,y ; AC15 B9 8D 9B
    sta $613B,x ; AC18 9D 3B 61
    lda $9B8E,y ; AC1B B9 8E 9B
    sta $613D,x ; AC1E 9D 3D 61
    lda $9B8F,y ; AC21 B9 8F 9B
    sta $613F,x ; AC24 9D 3F 61
    lda $6101,x ; AC27 BD 01 61
    sta <$87     ; AC2A 85 87
    bne .L_AC31   ; AC2C D0 03
    jmp .L_AD1E   ; AC2E 4C 1E AD
; ----------------------------------------------------------------------------
.L_AC31:
  lda $6100,x ; AC31 BD 00 61
    asl a       ; AC34 0A
    tay             ; AC35 A8
    lda .L_AD59,y ; AC36 B9 59 AD
    sta .L_0080   ; AC39 85 80
    lda .L_AD5A,y ; AC3B B9 5A AD
    sta <$81     ; AC3E 85 81
    lda <$87     ; AC40 A5 87
    sec             ; AC42 38
    sbc #$01    ; AC43 E9 01
    asl a       ; AC45 0A
    tay             ; AC46 A8
    lda (.L_0080),y                   ; AC47 B1 80
    sta <$82     ; AC49 85 82
    and #$07    ; AC4B 29 07
    sta <$84     ; AC4D 85 84
    iny             ; AC4F C8
    lda (.L_0080),y                   ; AC50 B1 80
    sta <$83     ; AC52 85 83
    lda <$82     ; AC54 A5 82
    and #$80    ; AC56 29 80
    beq .L_AC63   ; AC58 F0 09
    lda $6112,x ; AC5A BD 12 61
    jsr .L_AD45   ; AC5D 20 45 AD
    sta $6112,x ; AC60 9D 12 61
.L_AC63:
  lda <$82     ; AC63 A5 82
    and #$40    ; AC65 29 40
    beq .L_AC72   ; AC67 F0 09
    lda $6113,x ; AC69 BD 13 61
    jsr .L_AD45   ; AC6C 20 45 AD
    sta $6113,x ; AC6F 9D 13 61
.L_AC72:
  lda <$82     ; AC72 A5 82
    and #$20    ; AC74 29 20
    beq .L_AC81   ; AC76 F0 09
    lda $6114,x ; AC78 BD 14 61
    jsr .L_AD45   ; AC7B 20 45 AD
    sta $6114,x ; AC7E 9D 14 61
.L_AC81:
  lda <$82     ; AC81 A5 82
    and #$10    ; AC83 29 10
    beq .L_AC90   ; AC85 F0 09
    lda $6115,x ; AC87 BD 15 61
    jsr .L_AD45   ; AC8A 20 45 AD
    sta $6115,x ; AC8D 9D 15 61
.L_AC90:
  lda <$82     ; AC90 A5 82
    and #$08    ; AC92 29 08
    beq .L_AC9F   ; AC94 F0 09
    lda $6116,x ; AC96 BD 16 61
    jsr .L_AD45   ; AC99 20 45 AD
    sta $6116,x ; AC9C 9D 16 61
.L_AC9F:
  lda <$83     ; AC9F A5 83
    and #$80    ; ACA1 29 80
    beq .L_ACAE   ; ACA3 F0 09
    lda $613F,x ; ACA5 BD 3F 61
    jsr .L_AD4F   ; ACA8 20 4F AD
    sta $613F,x ; ACAB 9D 3F 61
.L_ACAE:
  lda <$83     ; ACAE A5 83
    and #$40    ; ACB0 29 40
    beq .L_ACBD   ; ACB2 F0 09
    lda $613D,x ; ACB4 BD 3D 61
    jsr .L_AD4F   ; ACB7 20 4F AD
    sta $613D,x ; ACBA 9D 3D 61
.L_ACBD:
  lda <$83     ; ACBD A5 83
    and #$20    ; ACBF 29 20
    beq .L_ACCC   ; ACC1 F0 09
    lda $613B,x ; ACC3 BD 3B 61
    jsr .L_AD4F   ; ACC6 20 4F AD
    sta $613B,x ; ACC9 9D 3B 61
.L_ACCC:
  lda <$83     ; ACCC A5 83
    and #$10    ; ACCE 29 10
    beq .L_ACDB   ; ACD0 F0 09
    lda $6139,x ; ACD2 BD 39 61
    jsr .L_AD4F   ; ACD5 20 4F AD
    sta $6139,x ; ACD8 9D 39 61
.L_ACDB:
  lda <$83     ; ACDB A5 83
    and #$08    ; ACDD 29 08
    beq .L_ACEA   ; ACDF F0 09
    lda $6137,x ; ACE1 BD 37 61
    jsr .L_AD4F   ; ACE4 20 4F AD
    sta $6137,x ; ACE7 9D 37 61
.L_ACEA:
  lda <$83     ; ACEA A5 83
    and #$04    ; ACEC 29 04
    beq .L_ACF9   ; ACEE F0 09
    lda $6135,x ; ACF0 BD 35 61
    jsr .L_AD4F   ; ACF3 20 4F AD
    sta $6135,x ; ACF6 9D 35 61
.L_ACF9:
  lda <$83     ; ACF9 A5 83
    and #$02    ; ACFB 29 02
    beq .L_AD08   ; ACFD F0 09
    lda $6133,x ; ACFF BD 33 61
    jsr .L_AD4F   ; AD02 20 4F AD
    sta $6133,x ; AD05 9D 33 61
.L_AD08:
  lda <$83     ; AD08 A5 83
    and #$01    ; AD0A 29 01
    beq .L_AD17   ; AD0C F0 09
    lda $6131,x ; AD0E BD 31 61
    jsr .L_AD4F   ; AD11 20 4F AD
    sta $6131,x ; AD14 9D 31 61
.L_AD17:
  dec <$87     ; AD17 C6 87
    beq .L_AD1E   ; AD19 F0 03
    jmp .L_AC31   ; AD1B 4C 31 AC
; ----------------------------------------------------------------------------
.L_AD1E:
  stx .L_0080   ; AD1E 86 80
    ldy #$05    ; AD20 A0 05
.L_AD22:
  lda $6112,x ; AD22 BD 12 61
    sta $6117,x ; AD25 9D 17 61
    inx             ; AD28 E8
    dey             ; AD29 88
    bne .L_AD22   ; AD2A D0 F6
    ldx .L_0080   ; AD2C A6 80
    ldy #$08    ; AD2E A0 08
.L_AD30:
  lda $6131,x ; AD30 BD 31 61
    cmp $6130,x ; AD33 DD 30 61
    bcs .L_AD3B   ; AD36 B0 03
    sta $6130,x ; AD38 9D 30 61
.L_AD3B:
  inx             ; AD3B E8
    inx             ; AD3C E8
    dey             ; AD3D 88
    bne .L_AD30   ; AD3E D0 F0
    lda #$3C    ; AD40 A9 3C
    jmp call_switch1stBank          ; AD42 4C 06 FF
; ----------------------------------------------------------------------------
.L_AD45:
  clc             ; AD45 18
    adc <$84     ; AD46 65 84
    cmp #$63    ; AD48 C9 63
    bcc .L_AD4E   ; AD4A 90 02
    lda #$63    ; AD4C A9 63
.L_AD4E:
  rts             ; AD4E 60
; ----------------------------------------------------------------------------
.L_AD4F:
  clc             ; AD4F 18
    adc #$01    ; AD50 69 01
    cmp #$63    ; AD52 C9 63
    bcc .L_AD58   ; AD54 90 02
    lda #$63    ; AD56 A9 63
.L_AD58:
  rts             ; AD58 60
; ----------------------------------------------------------------------------
.L_AD59:
  .byte   <$D6     ; AD59 D6
.L_AD5A:
  sta ($9A,x) ; AD5A 81 9A
    .byte   <$82     ; AD5C 82
    lsr $2283,x ; AD5D 5E 83 22
    sty <$E6     ; AD60 84 E6
    sty <$AA     ; AD62 84 AA
    sta <$6E     ; AD64 85 6E
    stx <$32     ; AD66 86 32
    smb0    <$F6     ; AD68 87
    inc <$87,x   ; AD69 F6 87
    tsx             ; AD6B BA
    dey             ; AD6C 88
    ror $4289,x ; AD6D 7E 89 42
    txa             ; AD70 8A
    asl <$8B     ; AD71 06 8B
    dex             ; AD73 CA
    .byte   <$8B     ; AD74 8B
    stx $528C   ; AD75 8E 8C 52
    sta $8E16   ; AD78 8D 16 8E
    phx             ; AD7B DA
    stx $8F9E   ; AD7C 8E 9E 8F
    .byte   <$62     ; AD7F 62
    bcc .L_ADA8   ; AD80 90 26
    sta [$EA],y ; AD82 91 EA
    .byte   <$91     ; AD84 91
; bank $3d
jobMenu.getCosts:
    lda #$00    ; AD85 A9 00
    sta <$8F     ; AD87 85 8F
.L_AD89:
  jsr getJobParameter             ; AD89 20 F2 AD
    lda $7C00   ; AD8C AD 00 7C
    lsr a       ; AD8F 4A
    lsr a       ; AD90 4A
    lsr a       ; AD91 4A
    lsr a       ; AD92 4A
    sta .L_0080   ; AD93 85 80
    lda $7C08   ; AD95 AD 08 7C
    lsr a       ; AD98 4A
    lsr a       ; AD99 4A
    lsr a       ; AD9A 4A
    lsr a       ; AD9B 4A
    sec             ; AD9C 38
    sbc .L_0080   ; AD9D E5 80
    bpl .L_ADA6   ; AD9F 10 05
    eor #$FF    ; ADA1 49 FF
    clc             ; ADA3 18
    adc #$01    ; ADA4 69 01
.L_ADA6:
  sta .L_0080   ; ADA6 85 80
.L_ADA8:
  lda $7C00   ; ADA8 AD 00 7C
    and #$0F    ; ADAB 29 0F
    sta <$81     ; ADAD 85 81
    lda $7C08   ; ADAF AD 08 7C
    and #$0F    ; ADB2 29 0F
    sec             ; ADB4 38
    sbc <$81     ; ADB5 E5 81
    bpl .L_ADBE   ; ADB7 10 05
    eor #$FF    ; ADB9 49 FF
    clc             ; ADBB 18
    adc #$01    ; ADBC 69 01
.L_ADBE:
  sta <$81     ; ADBE 85 81
    lda .L_0080   ; ADC0 A5 80
    clc             ; ADC2 18
    adc <$81     ; ADC3 65 81
    sta <$82     ; ADC5 85 82
    lda <$8F     ; ADC7 A5 8F
    asl a       ; ADC9 0A
    ora <$7F     ; ADCA 05 7F
    tax             ; ADCC AA
    lda $6210,x ; ADCD BD 10 62
    sta <$83     ; ADD0 85 83
    lda <$82     ; ADD2 A5 82
    asl a       ; ADD4 0A
    asl a       ; ADD5 0A
    sec             ; ADD6 38
    sbc <$83     ; ADD7 E5 83
    bcs .L_ADDD   ; ADD9 B0 02
    lda #$00    ; ADDB A9 00
.L_ADDD:
  ldx <$8F     ; ADDD A6 8F
    sta $7200,x ; ADDF 9D 00 72
    inc <$8F     ; ADE2 E6 8F
    lda <$8F     ; ADE4 A5 8F
    cmp #$17    ; ADE6 C9 17
    bcs .L_ADED   ; ADE8 B0 03
    jmp .L_AD89   ; ADEA 4C 89 AD
; ----------------------------------------------------------------------------
.L_ADED:
  lda #$3C    ; ADED A9 3C
    jmp call_switch1stBank          ; ADEF 4C 06 FF
; ----------------------------------------------------------------------------
; bank $3d
getJobParameter:
    lda #$39    ; ADF2 A9 39
    jsr call_switch1stBank          ; ADF4 20 06 FF
    lda <$8F     ; ADF7 A5 8F
    asl a       ; ADF9 0A
    asl a       ; ADFA 0A
    asl a       ; ADFB 0A
    tay             ; ADFC A8
    ldx #$00    ; ADFD A2 00
.L_ADFF:
  lda menu.select_pc.put_pc_sprites,y ; ADFF B9 00 80
    sta $7C00,x ; AE02 9D 00 7C
    inx             ; AE05 E8
    iny             ; AE06 C8
    cpx #$08    ; AE07 E0 08
    bcc .L_ADFF   ; AE09 90 F4
    ldx <$7F     ; AE0B A6 7F
    lda $6100,x ; AE0D BD 00 61
    asl a       ; AE10 0A
    asl a       ; AE11 0A
    asl a       ; AE12 0A
    tay             ; AE13 A8
    ldx #$00    ; AE14 A2 00
.L_AE16:
  lda menu.select_pc.put_pc_sprites,y ; AE16 B9 00 80
    sta $7C08,x ; AE19 9D 08 7C
    inx             ; AE1C E8
    iny             ; AE1D C8
    cpx #$08    ; AE1E E0 08
    bcc .L_AE16   ; AE20 90 F4
    rts             ; AE22 60
; ----------------------------------------------------------------------------
    jsr getJobParameter             ; AE23 20 F2 AD
    lda #$3C    ; AE26 A9 3C
    jsr call_switch1stBank          ; AE28 20 06 FF
    ldx <$7F     ; AE2B A6 7F
    lda $6101,x ; AE2D BD 01 61
    cmp $7C01   ; AE30 CD 01 7C
    bcs .L_AE39   ; AE33 B0 04
    lda #$3A    ; AE35 A9 3A
    clc             ; AE37 18
    rts             ; AE38 60
; ----------------------------------------------------------------------------
.L_AE39:
  lda $6200,x ; AE39 BD 00 62
    ora $6201,x ; AE3C 1D 01 62
    ora $6202,x ; AE3F 1D 02 62
    ora $6203,x ; AE42 1D 03 62
    ora $6205,x ; AE45 1D 05 62
    beq .L_AE4E   ; AE48 F0 04
    lda #$71    ; AE4A A9 71
    clc             ; AE4C 18
    rts             ; AE4D 60
; ----------------------------------------------------------------------------
.L_AE4E:
  lda $601B   ; AE4E AD 1B 60
    ldx <$8F     ; AE51 A6 8F
    cmp $7200,x ; AE53 DD 00 72
    bcs .L_AE5B   ; AE56 B0 03
    lda #$72    ; AE58 A9 72
    clc             ; AE5A 18
.L_AE5B:
  rts             ; AE5B 60
; ----------------------------------------------------------------------------
.L_AE5C:
  lda <$78     ; AE5C A5 78
    sta $6008   ; AE5E 8D 08 60
    lda <$42     ; AE61 A5 42
    sta $600F   ; AE63 8D 0F 60
    lda <$27     ; AE66 A5 27
    sta $6009   ; AE68 8D 09 60
    lda <$28     ; AE6B A5 28
    sta $600A   ; AE6D 8D 0A 60
    lda #$00    ; AE70 A9 00
    sta $601A   ; AE72 8D 1A 60
    lda #$5A    ; AE75 A9 5A
    sta $6019   ; AE77 8D 19 60
    lda #$00    ; AE7A A9 00
    ldx #$00    ; AE7C A2 00
.L_AE7E:
  clc             ; AE7E 18
    adc $6000,x ; AE7F 7D 00 60
    clc             ; AE82 18
    adc $6100,x ; AE83 7D 00 61
    clc             ; AE86 18
    adc $6200,x ; AE87 7D 00 62
    clc             ; AE8A 18
    adc $6300,x ; AE8B 7D 00 63
    inx             ; AE8E E8
    bne .L_AE7E   ; AE8F D0 ED
    eor #$FF    ; AE91 49 FF
    sta $601A   ; AE93 8D 1A 60
    rts             ; AE96 60
; ----------------------------------------------------------------------------
.L_AE97:
  asl a       ; AE97 0A
    asl a       ; AE98 0A
    adc #$60    ; AE99 69 60
    sta <$81     ; AE9B 85 81
    lda #$00    ; AE9D A9 00
    sta .L_0080   ; AE9F 85 80
    ldx #$04    ; AEA1 A2 04
    ldy #$19    ; AEA3 A0 19
    lda (.L_0080),y                   ; AEA5 B1 80
    cmp #$5A    ; AEA7 C9 5A
    bne .L_AEC1   ; AEA9 D0 16
    ldy #$00    ; AEAB A0 00
    lda #$00    ; AEAD A9 00
.L_AEAF:
  clc             ; AEAF 18
    adc (.L_0080),y                   ; AEB0 71 80
    iny             ; AEB2 C8
    bne .L_AEAF   ; AEB3 D0 FA
    inc <$81     ; AEB5 E6 81
    dex             ; AEB7 CA
    bne .L_AEAF   ; AEB8 D0 F5
    clc             ; AEBA 18
    adc #$01    ; AEBB 69 01
    bne .L_AEC1   ; AEBD D0 02
    clc             ; AEBF 18
    rts             ; AEC0 60
; ----------------------------------------------------------------------------
.L_AEC1:
  sec             ; AEC1 38
    rts             ; AEC2 60
; ----------------------------------------------------------------------------
.L_AEC3:
  ldx #$00    ; AEC3 A2 00
.L_AEC5:
  lda $6102,x ; AEC5 BD 02 61
    and #$FE    ; AEC8 29 FE
    sta $6102,x ; AECA 9D 02 61
    txa             ; AECD 8A
    clc             ; AECE 18
    adc #$40    ; AECF 69 40
    tax             ; AED1 AA
    bne .L_AEC5   ; AED2 D0 F1
    rts             ; AED4 60
; ----------------------------------------------------------------------------
.L_AED5:
  jsr .L_AEC3   ; AED5 20 C3 AE
    lda $79F0   ; AED8 AD F0 79
    lsr a       ; AEDB 4A
    lsr a       ; AEDC 4A
    sta <$8E     ; AEDD 85 8E
    tax             ; AEDF AA
    lda $7B80,x ; AEE0 BD 80 7B
.L_AEE3:
  jsr .L_D113   ; AEE3 20 13 D1
    lda .L_0080   ; AEE6 A5 80
    and #$08    ; AEE8 29 08
    bne .L_AEF4   ; AEEA D0 08
    lda $6102   ; AEEC AD 02 61
    ora #$01    ; AEEF 09 01
    sta $6102   ; AEF1 8D 02 61
.L_AEF4:
  lda .L_0080   ; AEF4 A5 80
    and #$04    ; AEF6 29 04
    bne .L_AF02   ; AEF8 D0 08
    lda $6142   ; AEFA AD 42 61
    ora #$01    ; AEFD 09 01
    sta $6142   ; AEFF 8D 42 61
.L_AF02:
  lda .L_0080   ; AF02 A5 80
    and #$02    ; AF04 29 02
    bne .L_AF10   ; AF06 D0 08
    lda $6182   ; AF08 AD 82 61
    ora #$01    ; AF0B 09 01
    sta $6182   ; AF0D 8D 82 61
.L_AF10:
  lda .L_0080   ; AF10 A5 80
    and #$01    ; AF12 29 01
    bne .L_AF1E   ; AF14 D0 08
    lda $61C2   ; AF16 AD C2 61
    ora #$01    ; AF19 09 01
    sta $61C2   ; AF1B 8D C2 61
.L_AF1E:
  rts             ; AF1E 60
; ----------------------------------------------------------------------------
.L_AF1F:
  jsr .L_B1EB   ; AF1F 20 EB B1
    lda #$00    ; AF22 A9 00
    sta $2001   ; AF24 8D 01 20
    sta $78F0   ; AF27 8D F0 78
    sta $79F0   ; AF2A 8D F0 79
    sta $7AF0   ; AF2D 8D F0 7A
    jsr .L_DD06   ; AF30 20 06 DD
    jsr .L_F7BB   ; AF33 20 BB F7
    jsr field.init_sprites_cache    ; AF36 20 86 C4
    jsr thunk_await_nmi_by_set_handler  ; AF39 20 00 FF
    lda #$02    ; AF3C A9 02
    sta $4014   ; AF3E 8D 14 40
    jsr .L_D308   ; AF41 20 08 D3
    jsr .L_B369   ; AF44 20 69 B3
    lda #$3C    ; AF47 A9 3C
    sta <$57     ; AF49 85 57
    lda #$01    ; AF4B A9 01
    sta <$37     ; AF4D 85 37
    lda #$00    ; AF4F A9 00
    sta <$A3     ; AF51 85 A3
    sta <$A4     ; AF53 85 A4
    lda <$A0     ; AF55 A5 A0
    cmp #$FC    ; AF57 C9 FC
    bcc .L_AF68   ; AF59 90 0D
    jmp .L_B383   ; AF5B 4C 83 B3
; ----------------------------------------------------------------------------
.L_AF5E:
  jsr menu.accept_input_action    ; AF5E 20 74 8F
    lda #$00    ; AF61 A9 00
    sta <$50     ; AF63 85 50
    jmp menu.main.erase             ; AF65 4C 85 A6
; ----------------------------------------------------------------------------
.L_AF68:
  jsr floor.shop.getItemValues    ; AF68 20 20 B2
    ldx #$14    ; AF6B A2 14
    jsr menu.draw_window_box        ; AF6D 20 F1 AA
    lda $7B00   ; AF70 AD 00 7B
    jsr menu.draw_window_content    ; AF73 20 78 A6
.L_AF76:
  jsr menu.erase_box_1e_x_14      ; AF76 20 61 F4
    lda #$00    ; AF79 A9 00
    sta <$64     ; AF7B 85 64
    lda #$01    ; AF7D A9 01
    .byte   <$85     ; AF7F 85
.L_AF80:
  ldx #$A9    ; AF80 A2 A9
    brk             ; AF82 00
    sta $78F0   ; AF83 8D F0 78
    sta <$A3     ; AF86 85 A3
    sta <$A4     ; AF88 85 A4
    sta <$B4     ; AF8A 85 B4
    jsr menu.pc_select.save_states  ; AF8C 20 A8 A3
    jsr .L_B1F2   ; AF8F 20 F2 B1
    lda #$26    ; AF92 A9 26
    jsr .L_B20C   ; AF94 20 0C B2
    lda #$0B    ; AF97 A9 0B
    jsr .L_B216   ; AF99 20 16 B2
.L_AF9C:
  jsr menu.render_cursor          ; AF9C 20 CD A7
    lda #$04    ; AF9F A9 04
    jsr menu.window1.get_input_and_update_cursor; AFA1 20 A3 91
    lda <$25     ; AFA4 A5 25
    bne .L_AF5E   ; AFA6 D0 B6
    lda <$24     ; AFA8 A5 24
    beq .L_AF9C   ; AFAA F0 F0
    jsr menu.accept_input_action    ; AFAC 20 74 8F
    ldx #$00    ; AFAF A2 00
    lda $78F0   ; AFB1 AD F0 78
    stx $78F0   ; AFB4 8E F0 78
    cmp #$08    ; AFB7 C9 08
    bcs .L_AF5E   ; AFB9 B0 A3
    cmp #$04    ; AFBB C9 04
    bcc .L_AFC2   ; AFBD 90 03
    jmp floor.shop                  ; AFBF 4C EB B0
; ----------------------------------------------------------------------------
.L_AFC2:
  ldx #$18    ; AFC2 A2 18
    jsr menu.draw_window_box        ; AFC4 20 F1 AA
    jsr .L_B281   ; AFC7 20 81 B2
    lda #$20    ; AFCA A9 20
    jsr menu.draw_window_content    ; AFCC 20 78 A6
.L_AFCF:
  jsr .L_AEC3   ; AFCF 20 C3 AE
    lda #$00    ; AFD2 A9 00
    sta <$A3     ; AFD4 85 A3
    lda #$27    ; AFD6 A9 27
    jsr .L_B20C   ; AFD8 20 0C B2
    lda #$2D    ; AFDB A9 2D
    jsr .L_B216   ; AFDD 20 16 B2
.L_AFE0:
  jsr menu.render_cursor          ; AFE0 20 CD A7
    lda #$04    ; AFE3 A9 04
    jsr menu.window1.get_input_and_update_cursor; AFE5 20 A3 91
    jsr .L_B335   ; AFE8 20 35 B3
    lda <$25     ; AFEB A5 25
    beq .L_AFF8   ; AFED F0 09
    jsr .L_AEC3   ; AFEF 20 C3 AE
.L_AFF2:
  jsr menu.accept_input_action    ; AFF2 20 74 8F
    jmp .L_AF76   ; AFF5 4C 76 AF
; ----------------------------------------------------------------------------
.L_AFF8:
  lda <$24     ; AFF8 A5 24
    beq .L_AFE0   ; AFFA F0 E4
    jsr menu.accept_input_action    ; AFFC 20 74 8F
    lda $78F0   ; AFFF AD F0 78
    lsr a       ; B002 4A
    lsr a       ; B003 4A
    sta <$64     ; B004 85 64
    lda #$01    ; B006 A9 01
    sta <$A3     ; B008 85 A3
    jsr .L_B281   ; B00A 20 81 B2
    ldx #$18    ; B00D A2 18
    jsr menu.draw_window_box        ; B00F 20 F1 AA
    lda #$20    ; B012 A9 20
    jsr menu.draw_window_content    ; B014 20 78 A6
    jsr .L_AED5   ; B017 20 D5 AE
.L_B01A:
  jsr menu.render_cursor          ; B01A 20 CD A7
    lda $79F0   ; B01D AD F0 79
    pha             ; B020 48
    lda #$04    ; B021 A9 04
    jsr menu.window2.get_input_and_update_cursor; B023 20 D9 91
    jsr .L_B335   ; B026 20 35 B3
    pla             ; B029 68
    cmp $79F0   ; B02A CD F0 79
    beq .L_B032   ; B02D F0 03
    jsr .L_AED5   ; B02F 20 D5 AE
.L_B032:
  lda <$25     ; B032 A5 25
    beq .L_B03C   ; B034 F0 06
    jsr menu.accept_input_action    ; B036 20 74 8F
    jmp .L_AFCF   ; B039 4C CF AF
; ----------------------------------------------------------------------------
.L_B03C:
  lda <$24     ; B03C A5 24
    beq .L_B01A   ; B03E F0 DA
    jsr menu.accept_input_action    ; B040 20 74 8F
    jsr .L_B04D   ; B043 20 4D B0
    jsr .L_B1F2   ; B046 20 F2 B1
    jmp .L_B01A   ; B049 4C 1A B0
; ----------------------------------------------------------------------------
    rts             ; B04C 60
; ----------------------------------------------------------------------------
.L_B04D:
  ldx <$8E     ; B04D A6 8E
    lda $7B90,x ; B04F BD 90 7B
    sta .L_0080   ; B052 85 80
    sta <$61     ; B054 85 61
    lda $7B98,x ; B056 BD 98 7B
    sta <$81     ; B059 85 81
    sta <$62     ; B05B 85 62
    lda $7BA0,x ; B05D BD A0 7B
    sta <$82     ; B060 85 82
    sta <$63     ; B062 85 63
    jsr .L_B0CA   ; B064 20 CA B0
    bcc .L_B06E   ; B067 90 05
    lda #$6C    ; B069 A9 6C
    jmp .L_B20C   ; B06B 4C 0C B2
; ----------------------------------------------------------------------------
.L_B06E:
  ldx <$8E     ; B06E A6 8E
    lda $7B80,x ; B070 BD 80 7B
    bne .L_B076   ; B073 D0 01
    rts             ; B075 60
; ----------------------------------------------------------------------------
.L_B076:
  sta .L_0080   ; B076 85 80
    ldx #$01    ; B078 A2 01
    lda <$64     ; B07A A5 64
    beq .L_B086   ; B07C F0 08
    ldx #$04    ; B07E A2 04
    cmp #$01    ; B080 C9 01
    beq .L_B086   ; B082 F0 02
    ldx #$0A    ; B084 A2 0A
.L_B086:
  stx <$81     ; B086 86 81
    jsr floor.searchSpaceForItem    ; B088 20 7E 93
    bcc .L_B092   ; B08B 90 05
.L_B08D:
  lda #$2C    ; B08D A9 2C
    jmp .L_B20C   ; B08F 4C 0C B2
; ----------------------------------------------------------------------------
.L_B092:
  cmp #$00    ; B092 C9 00
    beq .L_B0A2   ; B094 F0 0C
    lda $60E0,x ; B096 BD E0 60
    clc             ; B099 18
    adc <$81     ; B09A 65 81
    cmp #$64    ; B09C C9 64
    bcs .L_B08D   ; B09E B0 ED
    bcc .L_B0A9   ; B0A0 90 07
.L_B0A2:
  lda .L_0080   ; B0A2 A5 80
    sta $60C0,x ; B0A4 9D C0 60
    lda <$81     ; B0A7 A5 81
.L_B0A9:
  sta $60E0,x ; B0A9 9D E0 60
    lda $601C   ; B0AC AD 1C 60
    sec             ; B0AF 38
    sbc <$61     ; B0B0 E5 61
    sta $601C   ; B0B2 8D 1C 60
    lda $601D   ; B0B5 AD 1D 60
    sbc <$62     ; B0B8 E5 62
    sta $601D   ; B0BA 8D 1D 60
    lda $601E   ; B0BD AD 1E 60
    sbc <$63     ; B0C0 E5 63
    sta $601E   ; B0C2 8D 1E 60
    lda #$28    ; B0C5 A9 28
    jmp .L_B20C   ; B0C7 4C 0C B2
; ----------------------------------------------------------------------------
.L_B0CA:
  lda $601E   ; B0CA AD 1E 60
    cmp <$82     ; B0CD C5 82
    bcc .L_B0E7   ; B0CF 90 16
    beq .L_B0D5   ; B0D1 F0 02
    bcs .L_B0E9   ; B0D3 B0 14
.L_B0D5:
  lda $601D   ; B0D5 AD 1D 60
    cmp <$81     ; B0D8 C5 81
    bcc .L_B0E7   ; B0DA 90 0B
    beq .L_B0E0   ; B0DC F0 02
    bcs .L_B0E9   ; B0DE B0 09
.L_B0E0:
  lda $601C   ; B0E0 AD 1C 60
    cmp .L_0080   ; B0E3 C5 80
    bcs .L_B0E9   ; B0E5 B0 02
.L_B0E7:
  sec             ; B0E7 38
    rts             ; B0E8 60
; ----------------------------------------------------------------------------
.L_B0E9:
  clc             ; B0E9 18
    rts             ; B0EA 60
; ----------------------------------------------------------------------------
; bank $3d
floor.shop:
    ldx #$19    ; B0EB A2 19
    jsr menu.draw_window_box        ; B0ED 20 F1 AA
    lda #$3D    ; B0F0 A9 3D
    jsr menu.draw_window_content    ; B0F2 20 78 A6
    jsr menu.items.save_render_params   ; B0F5 20 3D 90
    lda #$80    ; B0F8 A9 80
    sta <$B4     ; B0FA 85 B4
    jsr menu.pc_select.save_states  ; B0FC 20 A8 A3
    lda #$00    ; B0FF A9 00
    sta <$B4     ; B101 85 B4
    sta $7AF0   ; B103 8D F0 7A
.L_B106:
  lda #$00    ; B106 A9 00
    sta <$A4     ; B108 85 A4
    sta <$B4     ; B10A 85 B4
    lda #$2A    ; B10C A9 2A
    jsr .L_B20C   ; B10E 20 0C B2
    lda #$2E    ; B111 A9 2E
    jsr .L_B216   ; B113 20 16 B2
.L_B116:
  jsr menu.render_cursor          ; B116 20 CD A7
    lda #$04    ; B119 A9 04
    jsr menu.window1.get_input_and_update_cursor; B11B 20 A3 91
    lda <$25     ; B11E A5 25
    beq .L_B125   ; B120 F0 03
    jmp .L_AFF2   ; B122 4C F2 AF
; ----------------------------------------------------------------------------
.L_B125:
  lda <$24     ; B125 A5 24
    beq .L_B116   ; B127 F0 ED
    jsr menu.accept_input_action    ; B129 20 74 8F
    lda $78F0   ; B12C AD F0 78
    lsr a       ; B12F 4A
    lsr a       ; B130 4A
    sta <$64     ; B131 85 64
    lda #$01    ; B133 A9 01
    sta <$A4     ; B135 85 A4
.L_B137:
  jsr menu.pc_select.load_states  ; B137 20 8E A3
    jsr .L_B619   ; B13A 20 19 B6
.L_B13D:
  jsr menu.render_cursor          ; B13D 20 CD A7
    lda #$08    ; B140 A9 08
    jsr menu.window3.get_input_and_scroll; B142 20 0D 92
    lda <$25     ; B145 A5 25
    beq .L_B14F   ; B147 F0 06
    jsr menu.accept_input_action    ; B149 20 74 8F
    jmp .L_B106   ; B14C 4C 06 B1
; ----------------------------------------------------------------------------
.L_B14F:
  lda <$24     ; B14F A5 24
    beq .L_B13D   ; B151 F0 EA
    jsr menu.accept_input_action    ; B153 20 74 8F
    ldx $7AF0   ; B156 AE F0 7A
    lda $7A02,x ; B159 BD 02 7A
    cmp #$0F    ; B15C C9 0F
    beq .L_B16B   ; B15E F0 0B
    lda $7A03,x ; B160 BD 03 7A
    sta <$8E     ; B163 85 8E
    tax             ; B165 AA
    lda $60C0,x ; B166 BD C0 60
    bne .L_B171   ; B169 D0 06
.L_B16B:
  jsr menu.queue_SE_of_invalid_action ; B16B 20 29 D5
    jmp .L_B13D   ; B16E 4C 3D B1
; ----------------------------------------------------------------------------
.L_B171:
  cmp #$9A    ; B171 C9 9A
    bcc .L_B181   ; B173 90 0C
    cmp #$A4    ; B175 C9 A4
    bcc .L_B16B   ; B177 90 F2
    cmp #$F6    ; B179 C9 F6
    beq .L_B16B   ; B17B F0 EE
    cmp #$F7    ; B17D C9 F7
    beq .L_B16B   ; B17F F0 EA
.L_B181:
  jsr floor.shop.getSellingPrice  ; B181 20 48 B2
    lda #$2B    ; B184 A9 2B
    jsr .L_B1FC   ; B186 20 FC B1
    jsr .L_B1CB   ; B189 20 CB B1
    lda <$20     ; B18C A5 20
    and #$80    ; B18E 29 80
    bne .L_B19A   ; B190 D0 08
    lda #$2A    ; B192 A9 2A
    jsr .L_B1FC   ; B194 20 FC B1
    jmp .L_B13D   ; B197 4C 3D B1
; ----------------------------------------------------------------------------
.L_B19A:
  jsr menu.accept_input_action    ; B19A 20 74 8F
    ldx <$8E     ; B19D A6 8E
    lda <$64     ; B19F A5 64
    bne .L_B1AE   ; B1A1 D0 0B
    lda $60E0,x ; B1A3 BD E0 60
    sec             ; B1A6 38
    sbc #$01    ; B1A7 E9 01
    sta $60E0,x ; B1A9 9D E0 60
    bne .L_B1B6   ; B1AC D0 08
.L_B1AE:
  lda #$00    ; B1AE A9 00
    sta $60C0,x ; B1B0 9D C0 60
    sta $60E0,x ; B1B3 9D E0 60
.L_B1B6:
  lda <$61     ; B1B6 A5 61
    sta .L_0080   ; B1B8 85 80
    lda <$62     ; B1BA A5 62
    sta <$81     ; B1BC 85 81
    lda <$63     ; B1BE A5 63
    sta <$82     ; B1C0 85 82
    jsr increment_gil               ; B1C2 20 FF F5
    jsr .L_B1F2   ; B1C5 20 F2 B1
    jmp .L_B137   ; B1C8 4C 37 B1
; ----------------------------------------------------------------------------
.L_B1CB:
  jsr .L_B1EB   ; B1CB 20 EB B1
.L_B1CE:
  jsr thunk_await_nmi_by_set_handler  ; B1CE 20 00 FF
    jsr field.get_input             ; B1D1 20 81 D2
    jsr field.call_sound_driver_and_restore_banks; B1D4 20 58 C7
    lda <$20     ; B1D7 A5 20
    bne .L_B1CE   ; B1D9 D0 F3
.L_B1DB:
  jsr thunk_await_nmi_by_set_handler  ; B1DB 20 00 FF
    jsr field.get_input             ; B1DE 20 81 D2
    jsr field.call_sound_driver_and_restore_banks; B1E1 20 58 C7
    lda <$20     ; B1E4 A5 20
    beq .L_B1DB   ; B1E6 F0 F3
    sta <$21     ; B1E8 85 21
    rts             ; B1EA 60
; ----------------------------------------------------------------------------
.L_B1EB:
  lda #$00    ; B1EB A9 00
    sta <$24     ; B1ED 85 24
    sta <$25     ; B1EF 85 25
    rts             ; B1F1 60
; ----------------------------------------------------------------------------
.L_B1F2:
  ldx #$17    ; B1F2 A2 17
    jsr menu.draw_window_box        ; B1F4 20 F1 AA
    lda #$05    ; B1F7 A9 05
    jmp menu.draw_window_content    ; B1F9 4C 78 A6
; ----------------------------------------------------------------------------
.L_B1FC:
  pha             ; B1FC 48
    jsr menu.pc_select.save_states  ; B1FD 20 A8 A3
    ldx #$15    ; B200 A2 15
    jsr menu.draw_window_box        ; B202 20 F1 AA
    pla             ; B205 68
    jsr menu.draw_window_content    ; B206 20 78 A6
    jmp menu.pc_select.load_states  ; B209 4C 8E A3
; ----------------------------------------------------------------------------
.L_B20C:
  pha             ; B20C 48
    ldx #$15    ; B20D A2 15
    jsr menu.draw_window_box        ; B20F 20 F1 AA
    pla             ; B212 68
    jmp menu.draw_window_content    ; B213 4C 78 A6
; ----------------------------------------------------------------------------
.L_B216:
  pha             ; B216 48
    ldx #$16    ; B217 A2 16
    jsr menu.draw_window_box        ; B219 20 F1 AA
    pla             ; B21C 68
    jmp menu.draw_window_content    ; B21D 4C 78 A6
; ----------------------------------------------------------------------------
; bank $3d
floor.shop.getItemValues:
    ldx #$07    ; B220 A2 07
.L_B222:
  lda $7B01,x ; B222 BD 01 7B
    sta $7B80,x ; B225 9D 80 7B
    dex             ; B228 CA
    bpl .L_B222   ; B229 10 F7
    ldy #$00    ; B22B A0 00
.L_B22D:
  ldx $7B80,y ; B22D BE 80 7B
    jsr floor.get_item_price        ; B230 20 D4 F5
    lda .L_0080   ; B233 A5 80
    sta $7BA8,y ; B235 99 A8 7B
    lda <$81     ; B238 A5 81
    sta $7BB0,y ; B23A 99 B0 7B
    lda <$82     ; B23D A5 82
    sta $7BB8,y ; B23F 99 B8 7B
    iny             ; B242 C8
    cpy #$08    ; B243 C0 08
    bcc .L_B22D   ; B245 90 E6
    rts             ; B247 60
; ----------------------------------------------------------------------------
; bank $3d
floor.shop.getSellingPrice:
    lda <$64     ; B248 A5 64
    bne .L_B257   ; B24A D0 0B
    ldx <$8E     ; B24C A6 8E
    lda $60C0,x ; B24E BD C0 60
    jsr floor.shop.getItemValue     ; B251 20 70 B2
    jmp .L_B269   ; B254 4C 69 B2
; ----------------------------------------------------------------------------
.L_B257:
  ldx <$8E     ; B257 A6 8E
    lda $60C0,x ; B259 BD C0 60
    jsr floor.shop.getItemValue     ; B25C 20 70 B2
    ldx <$8E     ; B25F A6 8E
    lda $60E0,x ; B261 BD E0 60
    sta .L_0080   ; B264 85 80
    jsr .L_8E55   ; B266 20 55 8E
.L_B269:
  lsr <$63     ; B269 46 63
    ror <$62     ; B26B 66 62
    ror <$61     ; B26D 66 61
    rts             ; B26F 60
; ----------------------------------------------------------------------------
; bank $3d
floor.shop.getItemValue:
    tax             ; B270 AA
    jsr floor.get_item_price        ; B271 20 D4 F5
    lda .L_0080   ; B274 A5 80
    sta <$61     ; B276 85 61
    lda <$81     ; B278 A5 81
    sta <$62     ; B27A 85 62
    lda <$82     ; B27C A5 82
    sta <$63     ; B27E 85 63
    rts             ; B280 60
; ----------------------------------------------------------------------------
.L_B281:
  lda <$64     ; B281 A5 64
    bne .L_B291   ; B283 D0 0C
    ldx #$17    ; B285 A2 17
.L_B287:
  lda $7BA8,x ; B287 BD A8 7B
    sta $7B90,x ; B28A 9D 90 7B
    dex             ; B28D CA
    bpl .L_B287   ; B28E 10 F7
    rts             ; B290 60
; ----------------------------------------------------------------------------
.L_B291:
  cmp #$01    ; B291 C9 01
    bne .L_B2E5   ; B293 D0 50
    lda #$00    ; B295 A9 00
    sta <$8B     ; B297 85 8B
.L_B299:
  ldx <$8B     ; B299 A6 8B
    lda $7BA8,x ; B29B BD A8 7B
    sta <$61     ; B29E 85 61
    lda $7BB0,x ; B2A0 BD B0 7B
    sta <$62     ; B2A3 85 62
    lda $7BB8,x ; B2A5 BD B8 7B
    sta <$63     ; B2A8 85 63
    lda #$04    ; B2AA A9 04
    sta .L_0080   ; B2AC 85 80
    jsr .L_8E55   ; B2AE 20 55 8E
    lda <$61     ; B2B1 A5 61
    sta <$88     ; B2B3 85 88
    lda <$62     ; B2B5 A5 62
    sta <$89     ; B2B7 85 89
    lda <$63     ; B2B9 A5 63
    sta <$8A     ; B2BB 85 8A
    lda #$1A    ; B2BD A9 1A
    sta .L_0080   ; B2BF 85 80
    jsr .L_8E55   ; B2C1 20 55 8E
    ldx <$8B     ; B2C4 A6 8B
    lda <$88     ; B2C6 A5 88
    sec             ; B2C8 38
    sbc <$62     ; B2C9 E5 62
    sta $7B90,x ; B2CB 9D 90 7B
    lda <$89     ; B2CE A5 89
    sbc <$63     ; B2D0 E5 63
    sta $7B98,x ; B2D2 9D 98 7B
    lda <$8A     ; B2D5 A5 8A
    sbc #$00    ; B2D7 E9 00
    sta $7BA0,x ; B2D9 9D A0 7B
    inc <$8B     ; B2DC E6 8B
    lda <$8B     ; B2DE A5 8B
    cmp #$08    ; B2E0 C9 08
    bcc .L_B299   ; B2E2 90 B5
    rts             ; B2E4 60
; ----------------------------------------------------------------------------
.L_B2E5:
  lda #$00    ; B2E5 A9 00
    sta <$8B     ; B2E7 85 8B
.L_B2E9:
  ldx <$8B     ; B2E9 A6 8B
    lda $7BA8,x ; B2EB BD A8 7B
    sta <$61     ; B2EE 85 61
    lda $7BB0,x ; B2F0 BD B0 7B
    sta <$62     ; B2F3 85 62
    lda $7BB8,x ; B2F5 BD B8 7B
    sta <$63     ; B2F8 85 63
    lda #$0A    ; B2FA A9 0A
    sta .L_0080   ; B2FC 85 80
    jsr .L_8E55   ; B2FE 20 55 8E
    lda <$61     ; B301 A5 61
    sta <$88     ; B303 85 88
    lda <$62     ; B305 A5 62
    sta <$89     ; B307 85 89
    lda <$63     ; B309 A5 63
    sta <$8A     ; B30B 85 8A
    lda #$33    ; B30D A9 33
    sta .L_0080   ; B30F 85 80
    jsr .L_8E55   ; B311 20 55 8E
    lda <$88     ; B314 A5 88
    sec             ; B316 38
    sbc <$62     ; B317 E5 62
    ldx <$8B     ; B319 A6 8B
    sta $7B90,x ; B31B 9D 90 7B
    lda <$89     ; B31E A5 89
    sbc <$63     ; B320 E5 63
    sta $7B98,x ; B322 9D 98 7B
    lda <$8A     ; B325 A5 8A
    sbc #$00    ; B327 E9 00
    sta $7BA0,x ; B329 9D A0 7B
    inc <$8B     ; B32C E6 8B
    lda <$8B     ; B32E A5 8B
    cmp #$08    ; B330 C9 08
    bcc .L_B2E9   ; B332 90 B5
    rts             ; B334 60
; ----------------------------------------------------------------------------
.L_B335:
  lda #$D8    ; B335 A9 D8
    sta <$40     ; B337 85 40
    lda #$60    ; B339 A9 60
    sta <$41     ; B33B 85 41
    ldx #$00    ; B33D A2 00
    jsr .L_8136   ; B33F 20 36 81
    lda #$D8    ; B342 A9 D8
    sta <$40     ; B344 85 40
    lda #$80    ; B346 A9 80
    sta <$41     ; B348 85 41
    ldx #$40    ; B34A A2 40
    jsr .L_8136   ; B34C 20 36 81
    lda #$D8    ; B34F A9 D8
    sta <$40     ; B351 85 40
    lda #$A0    ; B353 A9 A0
    sta <$41     ; B355 85 41
    ldx #$80    ; B357 A2 80
    jsr .L_8136   ; B359 20 36 81
    lda #$D8    ; B35C A9 D8
    sta <$40     ; B35E 85 40
    lda #$C0    ; B360 A9 C0
    sta <$41     ; B362 85 41
    ldx #$C0    ; B364 A2 C0
    jmp .L_8136   ; B366 4C 36 81
; ----------------------------------------------------------------------------
.L_B369:
  lda #$88    ; B369 A9 88
    sta <$FD     ; B36B 85 FD
    sta <$FF     ; B36D 85 FF
    sta $2000   ; B36F 8D 00 20
    lda #$00    ; B372 A9 00
    sta $2005   ; B374 8D 05 20
    sta $2005   ; B377 8D 05 20
    lda #$1E    ; B37A A9 1E
    sta $2001   ; B37C 8D 01 20
    rts             ; B37F 60
; ----------------------------------------------------------------------------
.L_B380:
  jmp .L_AF5E   ; B380 4C 5E AF
; ----------------------------------------------------------------------------
.L_B383:
  lda #$0F    ; B383 A9 0F
    sta $03DD   ; B385 8D DD 03
    lda #$27    ; B388 A9 27
    sta $03DE   ; B38A 8D DE 03
    jsr thunk_await_nmi_by_set_handler  ; B38D 20 00 FF
    jsr .L_D308   ; B390 20 08 D3
    jsr .L_B369   ; B393 20 69 B3
    jsr .L_AEC3   ; B396 20 C3 AE
    lda #$51    ; B399 A9 51
    jsr .L_B5F7   ; B39B 20 F7 B5
    lda #$24    ; B39E A9 24
    jsr .L_B5ED   ; B3A0 20 ED B5
    lda #$00    ; B3A3 A9 00
    sta <$A3     ; B3A5 85 A3
    sta <$A4     ; B3A7 85 A4
    sta <$B4     ; B3A9 85 B4
    sta $78F0   ; B3AB 8D F0 78
    lda #$01    ; B3AE A9 01
    sta <$A2     ; B3B0 85 A2
.L_B3B2:
  jsr menu.render_cursor          ; B3B2 20 CD A7
    lda #$04    ; B3B5 A9 04
    jsr menu.window1.get_input_and_update_cursor; B3B7 20 A3 91
    jsr .L_808C   ; B3BA 20 8C 80
    lda <$25     ; B3BD A5 25
    bne .L_B380   ; B3BF D0 BF
    lda <$24     ; B3C1 A5 24
    beq .L_B3B2   ; B3C3 F0 ED
    jsr menu.accept_input_action    ; B3C5 20 74 8F
    lda $78F0   ; B3C8 AD F0 78
    cmp #$08    ; B3CB C9 08
    bcs .L_B380   ; B3CD B0 B1
    cmp #$04    ; B3CF C9 04
    beq .L_B419   ; B3D1 F0 46
    lda #$52    ; B3D3 A9 52
    jsr .L_B5F7   ; B3D5 20 F7 B5
    lda #$80    ; B3D8 A9 80
    sta <$B4     ; B3DA 85 B4
    ldx #$19    ; B3DC A2 19
    jsr menu.draw_window_box        ; B3DE 20 F1 AA
    lda #$3D    ; B3E1 A9 3D
    jsr menu.draw_window_content    ; B3E3 20 78 A6
    lda #$00    ; B3E6 A9 00
    sta $7AF0   ; B3E8 8D F0 7A
    lda #$01    ; B3EB A9 01
    sta <$A4     ; B3ED 85 A4
    jsr menu.items.save_render_params   ; B3EF 20 3D 90
.L_B3F2:
  jsr menu.render_cursor          ; B3F2 20 CD A7
    jsr .L_808C   ; B3F5 20 8C 80
    lda #$08    ; B3F8 A9 08
    jsr menu.window3.get_input_and_scroll; B3FA 20 0D 92
    lda <$25     ; B3FD A5 25
    beq .L_B407   ; B3FF F0 06
.L_B401:
  jsr menu.accept_input_action    ; B401 20 74 8F
    jmp .L_B383   ; B404 4C 83 B3
; ----------------------------------------------------------------------------
.L_B407:
  lda <$24     ; B407 A5 24
    beq .L_B3F2   ; B409 F0 E7
    jsr menu.accept_input_action    ; B40B 20 74 8F
    jsr .L_B4AE   ; B40E 20 AE B4
    bcs .L_B3F2   ; B411 B0 DF
    jsr .L_B619   ; B413 20 19 B6
    jmp .L_B3F2   ; B416 4C F2 B3
; ----------------------------------------------------------------------------
.L_B419:
  lda #$53    ; B419 A9 53
    jsr .L_B5F7   ; B41B 20 F7 B5
    lda #$80    ; B41E A9 80
    sta <$B4     ; B420 85 B4
    ldx #$19    ; B422 A2 19
    jsr menu.draw_window_box        ; B424 20 F1 AA
    jsr menu.stomach.build_content_text ; B427 20 70 B5
    lda #$18    ; B42A A9 18
    sta <$93     ; B42C 85 93
    lda #$01    ; B42E A9 01
    sta <$3E     ; B430 85 3E
    lda #$73    ; B432 A9 73
    sta <$3F     ; B434 85 3F
    jsr field.reflect_window_scroll ; B436 20 61 EB
    lda #$00    ; B439 A9 00
    sta $7AF0   ; B43B 8D F0 7A
    lda #$01    ; B43E A9 01
    sta <$A4     ; B440 85 A4
    jsr menu.items.save_render_params   ; B442 20 3D 90
    lda $7C00   ; B445 AD 00 7C
    beq .L_B44D   ; B448 F0 03
    jsr .L_B492   ; B44A 20 92 B4
.L_B44D:
  jsr menu.render_cursor          ; B44D 20 CD A7
    jsr .L_808C   ; B450 20 8C 80
    ldx $7AF0   ; B453 AE F0 7A
    ldy $7A03,x ; B456 BC 03 7A
    lda $7C00,y ; B459 B9 00 7C
    pha             ; B45C 48
    lda #$08    ; B45D A9 08
    jsr menu.window3.get_input_and_scroll; B45F 20 0D 92
    ldx $7AF0   ; B462 AE F0 7A
    ldy $7A03,x ; B465 BC 03 7A
    pla             ; B468 68
    cmp $7C00,y ; B469 D9 00 7C
    beq .L_B479   ; B46C F0 0B
    jsr .L_AEC3   ; B46E 20 C3 AE
    lda $7C00,y ; B471 B9 00 7C
    beq .L_B479   ; B474 F0 03
    jsr .L_B492   ; B476 20 92 B4
.L_B479:
  lda <$25     ; B479 A5 25
    beq .L_B480   ; B47B F0 03
    jmp .L_B401   ; B47D 4C 01 B4
; ----------------------------------------------------------------------------
.L_B480:
  lda <$24     ; B480 A5 24
    beq .L_B44D   ; B482 F0 C9
    jsr menu.accept_input_action    ; B484 20 74 8F
    jsr .L_B504   ; B487 20 04 B5
    bcs .L_B44D   ; B48A B0 C1
    jsr .L_B619   ; B48C 20 19 B6
    jmp .L_B44D   ; B48F 4C 4D B4
; ----------------------------------------------------------------------------
.L_B492:
  pha             ; B492 48
    ldx #$00    ; B493 A2 00
.L_B495:
  lda $7470,x ; B495 BD 70 74
    sta $7200,x ; B498 9D 00 72
    inx             ; B49B E8
    bne .L_B495   ; B49C D0 F7
    pla             ; B49E 68
    jsr .L_AEE3   ; B49F 20 E3 AE
    ldx #$00    ; B4A2 A2 00
.L_B4A4:
  lda $7200,x ; B4A4 BD 00 72
    sta $7470,x ; B4A7 9D 70 74
    inx             ; B4AA E8
    bne .L_B4A4   ; B4AB D0 F7
    rts             ; B4AD 60
; ----------------------------------------------------------------------------
.L_B4AE:
  ldx $7AF0   ; B4AE AE F0 7A
    lda $7A02,x ; B4B1 BD 02 7A
    cmp #$0F    ; B4B4 C9 0F
    beq .L_B4C3   ; B4B6 F0 0B
    lda $7A03,x ; B4B8 BD 03 7A
    sta <$8E     ; B4BB 85 8E
    tax             ; B4BD AA
    lda $60C0,x ; B4BE BD C0 60
    bne .L_B4C8   ; B4C1 D0 05
.L_B4C3:
  jsr menu.queue_SE_of_invalid_action ; B4C3 20 29 D5
    sec             ; B4C6 38
    rts             ; B4C7 60
; ----------------------------------------------------------------------------
.L_B4C8:
  cmp #$9A    ; B4C8 C9 9A
    bcc .L_B4D0   ; B4CA 90 04
    cmp #$A4    ; B4CC C9 A4
    bcc .L_B4C3   ; B4CE 90 F3
.L_B4D0:
  tay             ; B4D0 A8
    lda #$00    ; B4D1 A9 00
    sta .L_0080   ; B4D3 85 80
    lda $6300,y ; B4D5 B9 00 63
    cmp #$63    ; B4D8 C9 63
    bcc .L_B4E3   ; B4DA 90 07
    lda #$55    ; B4DC A9 55
    jsr .L_B5F7   ; B4DE 20 F7 B5
    clc             ; B4E1 18
    rts             ; B4E2 60
; ----------------------------------------------------------------------------
.L_B4E3:
  adc $60E0,x ; B4E3 7D E0 60
    cmp #$64    ; B4E6 C9 64
    bcc .L_B4F0   ; B4E8 90 06
    sbc #$63    ; B4EA E9 63
    sta .L_0080   ; B4EC 85 80
    lda #$63    ; B4EE A9 63
.L_B4F0:
  sta $6300,y ; B4F0 99 00 63
    lda .L_0080   ; B4F3 A5 80
    sta $60E0,x ; B4F5 9D E0 60
    bne .L_B4FD   ; B4F8 D0 03
    sta $60C0,x ; B4FA 9D C0 60
.L_B4FD:
  lda #$54    ; B4FD A9 54
    jsr .L_B5F7   ; B4FF 20 F7 B5
    clc             ; B502 18
    rts             ; B503 60
; ----------------------------------------------------------------------------
.L_B504:
  ldx $7AF0   ; B504 AE F0 7A
    lda $7A03,x ; B507 BD 03 7A
    sta <$8E     ; B50A 85 8E
    tax             ; B50C AA
    lda $7C00,x ; B50D BD 00 7C
    bne .L_B517   ; B510 D0 05
    jsr menu.queue_SE_of_invalid_action ; B512 20 29 D5
    sec             ; B515 38
    rts             ; B516 60
; ----------------------------------------------------------------------------
.L_B517:
  sta <$8F     ; B517 85 8F
    tay             ; B519 A8
    lda $6300,y ; B51A B9 00 63
    sta <$81     ; B51D 85 81
    sty .L_0080   ; B51F 84 80
    jsr floor.searchSpaceForItem    ; B521 20 7E 93
    bcc .L_B52D   ; B524 90 07
    lda #$56    ; B526 A9 56
    jsr .L_B5F7   ; B528 20 F7 B5
    clc             ; B52B 18
    rts             ; B52C 60
; ----------------------------------------------------------------------------
.L_B52D:
  cmp #$00    ; B52D C9 00
    bne .L_B54E   ; B52F D0 1D
    lda .L_0080   ; B531 A5 80
    sta $60C0,x ; B533 9D C0 60
    lda <$81     ; B536 A5 81
.L_B538:
  sta $60E0,x ; B538 9D E0 60
    ldx <$8E     ; B53B A6 8E
    lda #$00    ; B53D A9 00
    sta $7C00,x ; B53F 9D 00 7C
.L_B542:
  ldx <$8F     ; B542 A6 8F
    sta $6300,x ; B544 9D 00 63
    lda #$58    ; B547 A9 58
    jsr .L_B5F7   ; B549 20 F7 B5
    clc             ; B54C 18
    rts             ; B54D 60
; ----------------------------------------------------------------------------
.L_B54E:
  lda $60E0,x ; B54E BD E0 60
    cmp #$99    ; B551 C9 99
    bcs .L_B569   ; B553 B0 14
    adc <$81     ; B555 65 81
    cmp #$64    ; B557 C9 64
    bcc .L_B538   ; B559 90 DD
    sbc #$63    ; B55B E9 63
    sta <$81     ; B55D 85 81
    lda #$63    ; B55F A9 63
    sta $60E0,x ; B561 9D E0 60
    lda <$81     ; B564 A5 81
    jmp .L_B542   ; B566 4C 42 B5
; ----------------------------------------------------------------------------
.L_B569:
  lda #$57    ; B569 A9 57
    jsr .L_B5F7   ; B56B 20 F7 B5
    clc             ; B56E 18
    rts             ; B56F 60
; ----------------------------------------------------------------------------
; bank $3d
menu.stomach.build_content_text:
    ldx #$01    ; B570 A2 01
    ldy #$00    ; B572 A0 00
.L_B574:
  lda $6300,x ; B574 BD 00 63
    beq .L_B57E   ; B577 F0 05
    txa             ; B579 8A
    sta $7C00,y ; B57A 99 00 7C
    iny             ; B57D C8
.L_B57E:
  inx             ; B57E E8
    bne .L_B574   ; B57F D0 F3
    lda #$00    ; B581 A9 00
    sta $7C00,y ; B583 99 00 7C
    cpy #$FF    ; B586 C0 FF
    beq .L_B590   ; B588 F0 06
.L_B58A:
  sta $7C00,y ; B58A 99 00 7C
    iny             ; B58D C8
    bne .L_B58A   ; B58E D0 FA
.L_B590:
  lda #$00    ; B590 A9 00
    sta <$82     ; B592 85 82
    sta $72FF   ; B594 8D FF 72
    sta $7300   ; B597 8D 00 73
    lda #$01    ; B59A A9 01
    sta .L_0080   ; B59C 85 80
    lda #$73    ; B59E A9 73
    sta <$81     ; B5A0 85 81
.L_B5A2:
  ldy #$00    ; B5A2 A0 00
    lda #$1B    ; B5A4 A9 1B
    sta (.L_0080),y                   ; B5A6 91 80
    iny             ; B5A8 C8
    lda <$82     ; B5A9 A5 82
    sta (.L_0080),y                   ; B5AB 91 80
    iny             ; B5AD C8
    lda #$1D    ; B5AE A9 1D
    sta (.L_0080),y                   ; B5B0 91 80
    iny             ; B5B2 C8
    lda <$82     ; B5B3 A5 82
    sta (.L_0080),y                   ; B5B5 91 80
    iny             ; B5B7 C8
    inc <$82     ; B5B8 E6 82
    lda #$1B    ; B5BA A9 1B
    sta (.L_0080),y                   ; B5BC 91 80
    iny             ; B5BE C8
    lda <$82     ; B5BF A5 82
    sta (.L_0080),y                   ; B5C1 91 80
    iny             ; B5C3 C8
    lda #$1D    ; B5C4 A9 1D
    sta (.L_0080),y                   ; B5C6 91 80
    iny             ; B5C8 C8
    lda #$FF    ; B5C9 A9 FF
    sta (.L_0080),y                   ; B5CB 91 80
    iny             ; B5CD C8
    lda #$01    ; B5CE A9 01
    sta (.L_0080),y                   ; B5D0 91 80
    iny             ; B5D2 C8
    inc <$82     ; B5D3 E6 82
    beq .L_B5E7   ; B5D5 F0 10
    lda .L_0080   ; B5D7 A5 80
    clc             ; B5D9 18
    adc #$09    ; B5DA 69 09
    sta .L_0080   ; B5DC 85 80
    lda <$81     ; B5DE A5 81
    adc #$00    ; B5E0 69 00
    sta <$81     ; B5E2 85 81
    jmp .L_B5A2   ; B5E4 4C A2 B5
; ----------------------------------------------------------------------------
.L_B5E7:
  dey             ; B5E7 88
    lda #$00    ; B5E8 A9 00
    sta (.L_0080),y                   ; B5EA 91 80
    rts             ; B5EC 60
; ----------------------------------------------------------------------------
.L_B5ED:
  pha             ; B5ED 48
    ldx #$1B    ; B5EE A2 1B
    jsr menu.draw_window_box        ; B5F0 20 F1 AA
    pla             ; B5F3 68
    jmp menu.draw_window_content    ; B5F4 4C 78 A6
; ----------------------------------------------------------------------------
.L_B5F7:
  pha             ; B5F7 48
    jsr menu.pc_select.save_states  ; B5F8 20 A8 A3
    ldx #$1A    ; B5FB A2 1A
    jsr menu.draw_window_box        ; B5FD 20 F1 AA
    pla             ; B600 68
    jsr menu.draw_window_content    ; B601 20 78 A6
    jmp menu.pc_select.load_states  ; B604 4C 8E A3
; ----------------------------------------------------------------------------
    jsr field.load_label_text_into_buffer; B607 20 B1 D1
    lda #$18    ; B60A A9 18
    sta <$93     ; B60C 85 93
    lda #$01    ; B60E A9 01
    sta <$3E     ; B610 85 3E
    lda #$7B    ; B612 A9 7B
    sta <$3F     ; B614 85 3F
    jmp field.reflect_window_scroll ; B616 4C 61 EB
; ----------------------------------------------------------------------------
.L_B619:
  jsr menu.items.load_render_params   ; B619 20 75 90
    lda <$1C     ; B61C A5 1C
    sta <$3E     ; B61E 85 3E
    lda <$1D     ; B620 A5 1D
    sta <$3F     ; B622 85 3F
    jmp field.reflect_window_scroll ; B624 4C 61 EB
; ----------------------------------------------------------------------------
.L_B627:
  lda #$1F    ; B627 A9 1F
    sta .L_0080   ; B629 85 80
    lda <$2D     ; B62B A5 2D
    lsr a       ; B62D 4A
    bcc .L_B637   ; B62E 90 07
    lda <$29     ; B630 A5 29
    ldy <$2A     ; B632 A4 2A
    jmp .L_B645   ; B634 4C 45 B6
; ----------------------------------------------------------------------------
.L_B637:
  lda #$FF    ; B637 A9 FF
    sta .L_0080   ; B639 85 80
    lda <$78     ; B63B A5 78
    bne .L_B641   ; B63D D0 02
    lsr .L_0080   ; B63F 46 80
.L_B641:
  lda <$27     ; B641 A5 27
    ldy <$28     ; B643 A4 28
.L_B645:
  clc             ; B645 18
    adc #$07    ; B646 69 07
    and .L_0080   ; B648 25 80
    sta <$AC     ; B64A 85 AC
    tya             ; B64C 98
    clc             ; B64D 18
    adc #$07    ; B64E 69 07
    and .L_0080   ; B650 25 80
    sta <$AD     ; B652 85 AD
.L_B654:
  lda #$00    ; B654 A9 00
    sta <$13     ; B656 85 13
    sta <$14     ; B658 85 14
    sta <$AE     ; B65A 85 AE
    sta <$E1     ; B65C 85 E1
    sta <$E2     ; B65E 85 E2
    sta <$E3     ; B660 85 E3
    sta <$E4     ; B662 85 E4
    sta <$A9     ; B664 85 A9
    lda #$04    ; B666 A9 04
    sta <$A7     ; B668 85 A7
    lda <$43     ; B66A A5 43
    sta <$A8     ; B66C 85 A8
    rts             ; B66E 60
; ----------------------------------------------------------------------------
.L_B66F:
  lda <$33     ; B66F A5 33
    lsr a       ; B671 4A
    bcs .L_B688   ; B672 B0 14
    lsr a       ; B674 4A
    bcs .L_B68F   ; B675 B0 18
    lsr a       ; B677 4A
    bcs .L_B681   ; B678 B0 07
    ldx #$07    ; B67A A2 07
    ldy #$04    ; B67C A0 04
    jmp .L_B693   ; B67E 4C 93 B6
; ----------------------------------------------------------------------------
.L_B681:
  ldx #$07    ; B681 A2 07
    ldy #$0A    ; B683 A0 0A
    jmp .L_B693   ; B685 4C 93 B6
; ----------------------------------------------------------------------------
.L_B688:
  ldx #$0A    ; B688 A2 0A
    ldy #$07    ; B68A A0 07
    jmp .L_B693   ; B68C 4C 93 B6
; ----------------------------------------------------------------------------
.L_B68F:
  ldx #$04    ; B68F A2 04
    ldy #$07    ; B691 A0 07
.L_B693:
  txa             ; B693 8A
    clc             ; B694 18
    adc <$27     ; B695 65 27
    sta .L_0080   ; B697 85 80
    sta <$82     ; B699 85 82
    tya             ; B69B 98
    clc             ; B69C 18
    adc <$28     ; B69D 65 28
    sta <$83     ; B69F 85 83
    tya             ; B6A1 98
    clc             ; B6A2 18
    adc <$2F     ; B6A3 65 2F
    cmp #$0F    ; B6A5 C9 0F
    bcc .L_B6AB   ; B6A7 90 02
    sbc #$0F    ; B6A9 E9 0F
.L_B6AB:
  ora #$70    ; B6AB 09 70
    sta <$81     ; B6AD 85 81
    ldy #$00    ; B6AF A0 00
    lda (.L_0080),y                   ; B6B1 B1 80
    asl a       ; B6B3 0A
    tax             ; B6B4 AA
    lda $0400,x ; B6B5 BD 00 04
    and #$30    ; B6B8 29 30
    beq .L_B6C0   ; B6BA F0 04
    lda #$C1    ; B6BC A9 C1
    bne .L_B6C2   ; B6BE D0 02
.L_B6C0:
  lda #$81    ; B6C0 A9 81
.L_B6C2:
  sta <$A6     ; B6C2 85 A6
    lda #$00    ; B6C4 A9 00
    sta <$AF     ; B6C6 85 AF
    sta <$24     ; B6C8 85 24
    sta <$25     ; B6CA 85 25
    sta <$22     ; B6CC 85 22
    sta <$23     ; B6CE 85 23
    lda <$33     ; B6D0 A5 33
    sta <$E0     ; B6D2 85 E0
    lda #$AC    ; B6D4 A9 AC
    sta $7F49   ; B6D6 8D 49 7F
    rts             ; B6D9 60
; ----------------------------------------------------------------------------
.L_B6DA:
  lda <$E3     ; B6DA A5 E3
    sta <$E4     ; B6DC 85 E4
    lda <$E2     ; B6DE A5 E2
    sta <$E3     ; B6E0 85 E3
    lda <$E1     ; B6E2 A5 E1
    sta <$E2     ; B6E4 85 E2
    lda <$33     ; B6E6 A5 33
    and #$0F    ; B6E8 29 0F
    sta <$E1     ; B6EA 85 E1
    lda <$2D     ; B6EC A5 2D
    lsr a       ; B6EE 4A
    bcs .L_B6FA   ; B6EF B0 09
    lda <$44     ; B6F1 A5 44
    and #$30    ; B6F3 29 30
.L_B6F5:
  ora <$E1     ; B6F5 05 E1
    sta <$E1     ; B6F7 85 E1
    rts             ; B6F9 60
; ----------------------------------------------------------------------------
.L_B6FA:
  lda <$44     ; B6FA A5 44
    and #$04    ; B6FC 29 04
    beq .L_B706   ; B6FE F0 06
    lda <$A5     ; B700 A5 A5
    lsr a       ; B702 4A
    bcc .L_B706   ; B703 90 01
    rts             ; B705 60
; ----------------------------------------------------------------------------
.L_B706:
  lda <$44     ; B706 A5 44
    and #$34    ; B708 29 34
    pha             ; B70A 48
    and #$04    ; B70B 29 04
    cmp #$04    ; B70D C9 04
    pla             ; B70F 68
    bcc .L_B6F5   ; B710 90 E3
    lda #$70    ; B712 A9 70
    bne .L_B6F5   ; B714 D0 DF
.L_B716:
  lda <$AE     ; B716 A5 AE
    beq .L_B71B   ; B718 F0 01
    rts             ; B71A 60
; ----------------------------------------------------------------------------
.L_B71B:
  lda <$E4     ; B71B A5 E4
    beq .L_B73B   ; B71D F0 1C
    ldx #$00    ; B71F A2 00
    stx <$E4     ; B721 86 E4
.L_B723:
  pha             ; B723 48
    and #$0F    ; B724 29 0F
    sta <$A7     ; B726 85 A7
    pla             ; B728 68
    and #$70    ; B729 29 70
    sta <$A8     ; B72B 85 A8
    ldx <$F0     ; B72D A6 F0
    lda .L_FE00,x ; B72F BD 00 FE
    and #$02    ; B732 29 02
    bne .L_B738   ; B734 D0 02
    ora #$01    ; B736 09 01
.L_B738:
  sta <$AE     ; B738 85 AE
    rts             ; B73A 60
; ----------------------------------------------------------------------------
.L_B73B:
  lda <$E3     ; B73B A5 E3
    beq .L_B74D   ; B73D F0 0E
    lda <$A9     ; B73F A5 A9
    bne .L_B743   ; B741 D0 00
.L_B743:
  lda <$E3     ; B743 A5 E3
    ldx #$00    ; B745 A2 00
    stx <$E3     ; B747 86 E3
    jmp .L_B723   ; B749 4C 23 B7
; ----------------------------------------------------------------------------
.L_B74C:
  rts             ; B74C 60
; ----------------------------------------------------------------------------
.L_B74D:
  lda <$E2     ; B74D A5 E2
    beq .L_B769   ; B74F F0 18
    lda <$A9     ; B751 A5 A9
    bne .L_B75B   ; B753 D0 06
    lda <$F0     ; B755 A5 F0
    and #$10    ; B757 29 10
    bne .L_B74C   ; B759 D0 F1
.L_B75B:
  lda <$E2     ; B75B A5 E2
    ldx #$00    ; B75D A2 00
    stx <$E2     ; B75F 86 E2
    jsr .L_B723   ; B761 20 23 B7
    lda #$01    ; B764 A9 01
    sta <$AE     ; B766 85 AE
.L_B768:
  rts             ; B768 60
; ----------------------------------------------------------------------------
.L_B769:
  lda <$E1     ; B769 A5 E1
    and #$0F    ; B76B 29 0F
    sta <$A7     ; B76D 85 A7
    lda <$2D     ; B76F A5 2D
    lsr a       ; B771 4A
    bcs .L_B785   ; B772 B0 11
    lda <$A9     ; B774 A5 A9
    beq .L_B768   ; B776 F0 F0
    lda <$E1     ; B778 A5 E1
    beq .L_B785   ; B77A F0 09
    sta <$E2     ; B77C 85 E2
    lda #$00    ; B77E A9 00
    sta <$E1     ; B780 85 E1
    jmp .L_B75B   ; B782 4C 5B B7
; ----------------------------------------------------------------------------
.L_B785:
  lda #$00    ; B785 A9 00
    sta <$A9     ; B787 85 A9
    rts             ; B789 60
; ----------------------------------------------------------------------------
.L_B78A:
  lda $600B   ; B78A AD 0B 60
    bne .L_B792   ; B78D D0 03
.L_B78F:
  jmp .L_B654   ; B78F 4C 54 B6
; ----------------------------------------------------------------------------
.L_B792:
  lda <$A9     ; B792 A5 A9
    bne .L_B79F   ; B794 D0 09
    lda <$2D     ; B796 A5 2D
    lsr a       ; B798 4A
    bcs .L_B79F   ; B799 B0 04
    lda <$42     ; B79B A5 42
    bne .L_B78F   ; B79D D0 F0
.L_B79F:
  jsr .L_B716   ; B79F 20 16 B7
    lda <$AE     ; B7A2 A5 AE
    bne .L_B7A7   ; B7A4 D0 01
    rts             ; B7A6 60
; ----------------------------------------------------------------------------
.L_B7A7:
  lda <$A7     ; B7A7 A5 A7
    lsr a       ; B7A9 4A
    bcc .L_B7BD   ; B7AA 90 11
    lda <$13     ; B7AC A5 13
    clc             ; B7AE 18
    adc <$AE     ; B7AF 65 AE
    and #$0F    ; B7B1 29 0F
    sta <$13     ; B7B3 85 13
    bne .L_B7BC   ; B7B5 D0 05
    inc <$AC     ; B7B7 E6 AC
    jmp .L_B7F4   ; B7B9 4C F4 B7
; ----------------------------------------------------------------------------
.L_B7BC:
  rts             ; B7BC 60
; ----------------------------------------------------------------------------
.L_B7BD:
  lsr a       ; B7BD 4A
    bcc .L_B7D0   ; B7BE 90 10
    lda <$13     ; B7C0 A5 13
    sec             ; B7C2 38
    sbc <$AE     ; B7C3 E5 AE
    bpl .L_B7C9   ; B7C5 10 02
    dec <$AC     ; B7C7 C6 AC
.L_B7C9:
  and #$0F    ; B7C9 29 0F
    sta <$13     ; B7CB 85 13
    beq .L_B7F4   ; B7CD F0 25
    rts             ; B7CF 60
; ----------------------------------------------------------------------------
.L_B7D0:
  lsr a       ; B7D0 4A
    bcc .L_B7E4   ; B7D1 90 11
    lda <$14     ; B7D3 A5 14
    clc             ; B7D5 18
    adc <$AE     ; B7D6 65 AE
    and #$0F    ; B7D8 29 0F
    sta <$14     ; B7DA 85 14
    bne .L_B7E3   ; B7DC D0 05
    inc <$AD     ; B7DE E6 AD
    jmp .L_B7F4   ; B7E0 4C F4 B7
; ----------------------------------------------------------------------------
.L_B7E3:
  rts             ; B7E3 60
; ----------------------------------------------------------------------------
.L_B7E4:
  lda <$14     ; B7E4 A5 14
    sec             ; B7E6 38
    sbc <$AE     ; B7E7 E5 AE
    bpl .L_B7ED   ; B7E9 10 02
    dec <$AD     ; B7EB C6 AD
.L_B7ED:
  and #$0F    ; B7ED 29 0F
    sta <$14     ; B7EF 85 14
    beq .L_B7F4   ; B7F1 F0 01
    rts             ; B7F3 60
; ----------------------------------------------------------------------------
.L_B7F4:
  lda #$00    ; B7F4 A9 00
    sta <$AE     ; B7F6 85 AE
    rts             ; B7F8 60
; ----------------------------------------------------------------------------
.L_B7F9:
  lda <$2D     ; B7F9 A5 2D
    lsr a       ; B7FB 4A
    bcs .L_B81A   ; B7FC B0 1C
    lda <$78     ; B7FE A5 78
    cmp #$04    ; B800 C9 04
    bcc .L_B81A   ; B802 90 16
    lda <$6D     ; B804 A5 6D
    and #$10    ; B806 29 10
    beq .L_B83E   ; B808 F0 34
    lda #$00    ; B80A A9 00
    sta <$6D     ; B80C 85 6D
    ldx #$00    ; B80E A2 00
    inc <$6E     ; B810 E6 6E
    lda <$6E     ; B812 A5 6E
    and #$04    ; B814 29 04
    beq .L_B864   ; B816 F0 4C
    bne .L_B875   ; B818 D0 5B
.L_B81A:
  lda <$6E     ; B81A A5 6E
    bpl .L_B82B   ; B81C 10 0D
    and #$10    ; B81E 29 10
    beq .L_B82B   ; B820 F0 09
    lda <$6E     ; B822 A5 6E
    eor #$10    ; B824 49 10
    sta <$6E     ; B826 85 6E
    jsr .L_B83F   ; B828 20 3F B8
.L_B82B:
  lda <$6D     ; B82B A5 6D
    bpl .L_B83E   ; B82D 10 0F
    and #$10    ; B82F 29 10
    beq .L_B83E   ; B831 F0 0B
    lda <$6D     ; B833 A5 6D
    eor #$10    ; B835 49 10
    sta <$6D     ; B837 85 6D
    ldx #$00    ; B839 A2 00
    jmp .L_B864   ; B83B 4C 64 B8
; ----------------------------------------------------------------------------
.L_B83E:
  rts             ; B83E 60
; ----------------------------------------------------------------------------
.L_B83F:
  ldx #$0C    ; B83F A2 0C
    lda $7F22,x ; B841 BD 22 7F
    pha             ; B844 48
    lda $7F23,x ; B845 BD 23 7F
    pha             ; B848 48
.L_B849:
  lda $7F20,x ; B849 BD 20 7F
    sta $7F22,x ; B84C 9D 22 7F
    lda $7F21,x ; B84F BD 21 7F
    sta $7F23,x ; B852 9D 23 7F
    dex             ; B855 CA
    dex             ; B856 CA
    bpl .L_B849   ; B857 10 F0
    inx             ; B859 E8
    inx             ; B85A E8
    pla             ; B85B 68
    sta $7F21,x ; B85C 9D 21 7F
    pla             ; B85F 68
    sta $7F20,x ; B860 9D 20 7F
    rts             ; B863 60
; ----------------------------------------------------------------------------
.L_B864:
  lda $7F01,x ; B864 BD 01 7F
    lsr a       ; B867 4A
    ror $7F00,x ; B868 7E 00 7F
    ror $7F01,x ; B86B 7E 01 7F
    inx             ; B86E E8
    inx             ; B86F E8
    cpx #$20    ; B870 E0 20
    bne .L_B864   ; B872 D0 F0
    rts             ; B874 60
; ----------------------------------------------------------------------------
.L_B875:
  lda $7F00,x ; B875 BD 00 7F
    asl a       ; B878 0A
    rol $7F01,x ; B879 3E 01 7F
    rol $7F00,x ; B87C 3E 00 7F
    inx             ; B87F E8
    inx             ; B880 E8
    cpx #$20    ; B881 E0 20
    bne .L_B875   ; B883 D0 F0
    rts             ; B885 60
; ----------------------------------------------------------------------------
.L_B886:
  lda #$A0    ; B886 A9 A0
    sta <$40     ; B888 85 40
    lda #$20    ; B88A A9 20
    sta <$41     ; B88C 85 41
    jmp .L_8236   ; B88E 4C 36 82
; ----------------------------------------------------------------------------
.L_B891:
  bpl .L_B8A4   ; B891 10 11
    ora ($13)   ; B893 12 13
.L_B895:
  jsr menu.main.erase             ; B895 20 85 A6
    jsr .L_8F58   ; B898 20 58 8F
    lda #$00    ; B89B A9 00
    sta $7AF0   ; B89D 8D F0 7A
    ldx #$23    ; B8A0 A2 23
    .byte   <$20     ; B8A2 20
    .byte   <$F1     ; B8A3 F1
.L_B8A4:
  tax             ; B8A4 AA
    lda #$21    ; B8A5 A9 21
    jsr menu.draw_window_content    ; B8A7 20 78 A6
    jsr menu.items.save_render_params   ; B8AA 20 3D 90
    lda #$80    ; B8AD A9 80
    sta <$B4     ; B8AF 85 B4
    jsr menu.pc_select.save_states  ; B8B1 20 A8 A3
    lda #$01    ; B8B4 A9 01
    sta <$A4     ; B8B6 85 A4
    ldx #$22    ; B8B8 A2 22
    jsr menu.draw_window_box        ; B8BA 20 F1 AA
    lda #$00    ; B8BD A9 00
    sta <$07     ; B8BF 85 07
    sta <$08     ; B8C1 85 08
    jsr menu.pc_select.load_states  ; B8C3 20 8E A3
.L_B8C6:
  jsr .L_B8E6   ; B8C6 20 E6 B8
    bcc .L_B8D9   ; B8C9 90 0E
    lda <$07     ; B8CB A5 07
    cmp #$01    ; B8CD C9 01
    bcc .L_B8C6   ; B8CF 90 F5
    sec             ; B8D1 38
    sbc #$01    ; B8D2 E9 01
    sta <$07     ; B8D4 85 07
    jmp .L_B8C6   ; B8D6 4C C6 B8
; ----------------------------------------------------------------------------
.L_B8D9:
  lda <$07     ; B8D9 A5 07
    clc             ; B8DB 18
    adc #$01    ; B8DC 69 01
    sta <$07     ; B8DE 85 07
    cmp #$04    ; B8E0 C9 04
    bcc .L_B8C6   ; B8E2 90 E2
    clc             ; B8E4 18
    rts             ; B8E5 60
; ----------------------------------------------------------------------------
.L_B8E6:
  ldx <$07     ; B8E6 A6 07
    lda .L_B891,x ; B8E8 BD 91 B8
    sta <$9E     ; B8EB 85 9E
    and #$03    ; B8ED 29 03
    lsr a       ; B8EF 4A
    ror a       ; B8F0 6A
    ror a       ; B8F1 6A
    sta <$7F     ; B8F2 85 7F
    jsr .L_B9B7   ; B8F4 20 B7 B9
.L_B8F7:
  jsr thunk_await_nmi_by_set_handler  ; B8F7 20 00 FF
    lda #$02    ; B8FA A9 02
    sta $4014   ; B8FC 8D 14 40
    jsr field.init_sprites_cache    ; B8FF 20 86 C4
    jsr field.call_sound_driver_and_restore_banks; B902 20 58 C7
    jsr menu.put_cursor_on_window3  ; B905 20 4C 91
    ldx <$7F     ; B908 A6 7F
    jsr .L_B886   ; B90A 20 86 B8
    jsr .L_A7E6   ; B90D 20 E6 A7
    jsr .L_B9CA   ; B910 20 CA B9
    lda #$28    ; B913 A9 28
    jsr menu.window3.get_input_and_scroll; B915 20 0D 92
    lda <$25     ; B918 A5 25
    beq .L_B92E   ; B91A F0 12
    jsr menu.accept_input_action    ; B91C 20 74 8F
    lda <$08     ; B91F A5 08
    sec             ; B921 38
    sbc #$01    ; B922 E9 01
    sta <$08     ; B924 85 08
    bpl .L_B8F7   ; B926 10 CF
    lda #$05    ; B928 A9 05
    sta <$08     ; B92A 85 08
    sec             ; B92C 38
    rts             ; B92D 60
; ----------------------------------------------------------------------------
.L_B92E:
  lda <$24     ; B92E A5 24
    beq .L_B8F7   ; B930 F0 C5
    jsr menu.accept_input_action    ; B932 20 74 8F
    lda <$08     ; B935 A5 08
    cmp #$06    ; B937 C9 06
    bcc .L_B941   ; B939 90 06
    lda #$00    ; B93B A9 00
    sta <$08     ; B93D 85 08
    clc             ; B93F 18
    rts             ; B940 60
; ----------------------------------------------------------------------------
.L_B941:
  lda <$08     ; B941 A5 08
    ora <$7F     ; B943 05 7F
    tay             ; B945 A8
    ldx $7AF0   ; B946 AE F0 7A
    lda $7A02,x ; B949 BD 02 7A
    sta $6106,y ; B94C 99 06 61
    inc <$08     ; B94F E6 08
    jsr .L_B9B7   ; B951 20 B7 B9
    lda <$08     ; B954 A5 08
    cmp #$06    ; B956 C9 06
    bcs .L_B95D   ; B958 B0 03
.L_B95A:
  jmp .L_B8F7   ; B95A 4C F7 B8
; ----------------------------------------------------------------------------
.L_B95D:
  lda <$07     ; B95D A5 07
    beq .L_B95A   ; B95F F0 F9
    cmp #$01    ; B961 C9 01
    beq .L_B977   ; B963 F0 12
    cmp #$02    ; B965 C9 02
    beq .L_B970   ; B967 F0 07
    ldy <$7F     ; B969 A4 7F
    ldx #$80    ; B96B A2 80
    jsr .L_B981   ; B96D 20 81 B9
.L_B970:
  ldy <$7F     ; B970 A4 7F
    ldx #$40    ; B972 A2 40
    jsr .L_B981   ; B974 20 81 B9
.L_B977:
  ldy <$7F     ; B977 A4 7F
    ldx #$00    ; B979 A2 00
    jsr .L_B981   ; B97B 20 81 B9
    jmp .L_B8F7   ; B97E 4C F7 B8
; ----------------------------------------------------------------------------
.L_B981:
  lda $6106,y ; B981 B9 06 61
    cmp $6106,x ; B984 DD 06 61
    bne .L_B9B6   ; B987 D0 2D
    lda $6107,y ; B989 B9 07 61
    cmp $6107,x ; B98C DD 07 61
    bne .L_B9B6   ; B98F D0 25
    lda $6108,y ; B991 B9 08 61
    cmp $6108,x ; B994 DD 08 61
    bne .L_B9B6   ; B997 D0 1D
    lda $6109,y ; B999 B9 09 61
    cmp $6109,x ; B99C DD 09 61
    bne .L_B9B6   ; B99F D0 15
    lda $610A,y ; B9A1 B9 0A 61
    cmp $610A,x ; B9A4 DD 0A 61
    bne .L_B9B6   ; B9A7 D0 0D
    lda $610B,y ; B9A9 B9 0B 61
    cmp $610B,x ; B9AC DD 0B 61
    bne .L_B9B6   ; B9AF D0 05
    dec <$08     ; B9B1 C6 08
    jsr menu.queue_SE_of_invalid_action ; B9B3 20 29 D5
.L_B9B6:
  rts             ; B9B6 60
; ----------------------------------------------------------------------------
.L_B9B7:
  jsr menu.pc_select.save_states  ; B9B7 20 A8 A3
    ldx #$22    ; B9BA A2 22
    jsr .L_AAA6   ; B9BC 20 A6 AA
    lda #$6D    ; B9BF A9 6D
    jsr field.load_label_text_into_buffer; B9C1 20 B1 D1
    jsr .L_BC03   ; B9C4 20 03 BC
    jmp menu.pc_select.load_states  ; B9C7 4C 8E A3
; ----------------------------------------------------------------------------
.L_B9CA:
  inc <$F0     ; B9CA E6 F0
    lda <$08     ; B9CC A5 08
    cmp #$06    ; B9CE C9 06
    bcc .L_B9D3   ; B9D0 90 01
.L_B9D2:
  rts             ; B9D2 60
; ----------------------------------------------------------------------------
.L_B9D3:
  lda <$F0     ; B9D3 A5 F0
    and #$08    ; B9D5 29 08
    bne .L_B9D2   ; B9D7 D0 F9
    ldx <$26     ; B9D9 A6 26
    lda #$27    ; B9DB A9 27
    sta $0200,x ; B9DD 9D 00 02
    lda #$D0    ; B9E0 A9 D0
    sta $0201,x ; B9E2 9D 01 02
    lda #$03    ; B9E5 A9 03
    sta $0202,x ; B9E7 9D 02 02
    lda <$08     ; B9EA A5 08
    asl a       ; B9EC 0A
    asl a       ; B9ED 0A
    asl a       ; B9EE 0A
    clc             ; B9EF 18
    adc #$48    ; B9F0 69 48
    sta $0203,x ; B9F2 9D 03 02
    rts             ; B9F5 60
; ----------------------------------------------------------------------------
.L_B9F6:
  lda #$3C    ; B9F6 A9 3C
    sta <$57     ; B9F8 85 57
    lda #$00    ; B9FA A9 00
    sta $2001   ; B9FC 8D 01 20
    tax             ; B9FF AA
.L_BA00:
  sta $6100,x ; BA00 9D 00 61
    inx             ; BA03 E8
    bne .L_BA00   ; BA04 D0 FA
    lda #$05    ; BA06 A9 05
    sta <$08     ; BA08 85 08
    lda $6410   ; BA0A AD 10 64
    sta <$09     ; BA0D 85 09
    lda $6810   ; BA0F AD 10 68
    sta <$0A     ; BA12 85 0A
    lda $6C10   ; BA14 AD 10 6C
    sta <$0B     ; BA17 85 0B
    jsr .L_DD06   ; BA19 20 06 DD
    jsr .L_BBC7   ; BA1C 20 C7 BB
    jsr thunk_await_nmi_by_set_handler  ; BA1F 20 00 FF
    lda #$02    ; BA22 A9 02
    sta $4014   ; BA24 8D 14 40
    jsr .L_D308   ; BA27 20 08 D3
    lda <$FF     ; BA2A A5 FF
    sta $2000   ; BA2C 8D 00 20
    lda #$1E    ; BA2F A9 1E
    sta $2001   ; BA31 8D 01 20
    lda #$0C    ; BA34 A9 0C
    sta $78F0   ; BA36 8D F0 78
    lda #$00    ; BA39 A9 00
    sta $79F0   ; BA3B 8D F0 79
    sta $7AF0   ; BA3E 8D F0 7A
    lda #$01    ; BA41 A9 01
    sta $7F43   ; BA43 8D 43 7F
    lda #$01    ; BA46 A9 01
    sta $7F42   ; BA48 8D 42 7F
    jsr menu.savefile.build_file_menu   ; BA4B 20 A0 A9
    jsr .L_BBEF   ; BA4E 20 EF BB
    jsr .L_BBAD   ; BA51 20 AD BB
.L_BA54:
  jsr thunk_await_nmi_by_set_handler  ; BA54 20 00 FF
    lda #$02    ; BA57 A9 02
    sta $4014   ; BA59 8D 14 40
    jsr field.init_sprites_cache    ; BA5C 20 86 C4
    jsr field.call_sound_driver_and_restore_banks; BA5F 20 58 C7
    lda $78F0   ; BA62 AD F0 78
    lsr a       ; BA65 4A
    lsr a       ; BA66 4A
    and #$03    ; BA67 29 03
    cmp #$03    ; BA69 C9 03
    bcs .L_BA72   ; BA6B B0 05
    cmp #$00    ; BA6D C9 00
    jsr .L_8241   ; BA6F 20 41 82
.L_BA72:
  jsr menu.put_cursor_on_window1  ; BA72 20 19 91
    jsr .L_BADD   ; BA75 20 DD BA
    lda <$24     ; BA78 A5 24
    beq .L_BA54   ; BA7A F0 D8
    jsr menu.accept_input_action    ; BA7C 20 74 8F
    lda $78F0   ; BA7F AD F0 78
    cmp #$0C    ; BA82 C9 0C
    bcs .L_BAC6   ; BA84 B0 40
    lsr a       ; BA86 4A
    lsr a       ; BA87 4A
    sta .L_0080   ; BA88 85 80
    eor #$03    ; BA8A 49 03
    cmp #$03    ; BA8C C9 03
    bne .L_BA92   ; BA8E D0 02
    lda #$04    ; BA90 A9 04
.L_BA92:
  and <$62     ; BA92 25 62
    beq .L_BAC6   ; BA94 F0 30
    lda .L_0080   ; BA96 A5 80
    pha             ; BA98 48
    asl a       ; BA99 0A
    asl a       ; BA9A 0A
    clc             ; BA9B 18
    adc #$64    ; BA9C 69 64
    sta <$81     ; BA9E 85 81
    lda #$00    ; BAA0 A9 00
    sta .L_0080   ; BAA2 85 80
    sta <$82     ; BAA4 85 82
    lda #$60    ; BAA6 A9 60
    sta <$83     ; BAA8 85 83
    ldy #$00    ; BAAA A0 00
.L_BAAC:
  lda (.L_0080),y                   ; BAAC B1 80
    sta [$82],y ; BAAE 91 82
    iny             ; BAB0 C8
    bne .L_BAAC   ; BAB1 D0 F9
    inc <$81     ; BAB3 E6 81
    inc <$83     ; BAB5 E6 83
    lda <$83     ; BAB7 A5 83
    and #$03    ; BAB9 29 03
    bne .L_BAAC   ; BABB D0 EF
    pla             ; BABD 68
    tax             ; BABE AA
    lda <$09,x   ; BABF B5 09
    sta $6010   ; BAC1 8D 10 60
    sec             ; BAC4 38
    rts             ; BAC5 60
; ----------------------------------------------------------------------------
.L_BAC6:
  lda #$3A    ; BAC6 A9 3A
    jsr call_switch1stBank          ; BAC8 20 06 FF
    jsr .L_850C   ; BACB 20 0C 85
    lda #$3C    ; BACE A9 3C
    jsr call_switch1stBank          ; BAD0 20 06 FF
    lda <$08     ; BAD3 A5 08
    sta $6010   ; BAD5 8D 10 60
    jsr .L_B895   ; BAD8 20 95 B8
    clc             ; BADB 18
    rts             ; BADC 60
; ----------------------------------------------------------------------------
.L_BADD:
  jsr menu.get_input_and_queue_SE ; BADD 20 75 91
    and #$0F    ; BAE0 29 0F
    beq .L_BB24   ; BAE2 F0 40
    cmp #$04    ; BAE4 C9 04
    bcc .L_BB25   ; BAE6 90 3D
    cmp #$08    ; BAE8 C9 08
    bcs .L_BAFA   ; BAEA B0 0E
    lda $78F0   ; BAEC AD F0 78
    clc             ; BAEF 18
    adc #$04    ; BAF0 69 04
    cmp #$10    ; BAF2 C9 10
    bcc .L_BB04   ; BAF4 90 0E
    lda #$00    ; BAF6 A9 00
    beq .L_BB04   ; BAF8 F0 0A
.L_BAFA:
  lda $78F0   ; BAFA AD F0 78
    sec             ; BAFD 38
    sbc #$04    ; BAFE E9 04
    bcs .L_BB04   ; BB00 B0 02
    lda #$0C    ; BB02 A9 0C
.L_BB04:
  sta $78F0   ; BB04 8D F0 78
    cmp #$0C    ; BB07 C9 0C
    ldx #$00    ; BB09 A2 00
    bcs .L_BB1F   ; BB0B B0 12
    lsr a       ; BB0D 4A
    lsr a       ; BB0E 4A
    tax             ; BB0F AA
    inx             ; BB10 E8
    eor #$03    ; BB11 49 03
    cmp #$03    ; BB13 C9 03
    bne .L_BB19   ; BB15 D0 02
    lda #$04    ; BB17 A9 04
.L_BB19:
  and <$62     ; BB19 25 62
    bne .L_BB1F   ; BB1B D0 02
    ldx #$00    ; BB1D A2 00
.L_BB1F:
  lda <$08,x   ; BB1F B5 08
    jmp .L_BB7D   ; BB21 4C 7D BB
; ----------------------------------------------------------------------------
.L_BB24:
  rts             ; BB24 60
; ----------------------------------------------------------------------------
.L_BB25:
  cmp #$02    ; BB25 C9 02
    bcs .L_BB41   ; BB27 B0 18
    lda $78F0   ; BB29 AD F0 78
    cmp #$0C    ; BB2C C9 0C
    bcs .L_BB59   ; BB2E B0 29
    lsr a       ; BB30 4A
    lsr a       ; BB31 4A
    tax             ; BB32 AA
    eor #$03    ; BB33 49 03
    cmp #$03    ; BB35 C9 03
    bne .L_BB3B   ; BB37 D0 02
    lda #$04    ; BB39 A9 04
.L_BB3B:
  and <$62     ; BB3B 25 62
    bne .L_BB6D   ; BB3D D0 2E
    beq .L_BB59   ; BB3F F0 18
.L_BB41:
  lda $78F0   ; BB41 AD F0 78
    cmp #$0C    ; BB44 C9 0C
    bcs .L_BB61   ; BB46 B0 19
    lsr a       ; BB48 4A
    lsr a       ; BB49 4A
    tax             ; BB4A AA
    eor #$03    ; BB4B 49 03
    cmp #$03    ; BB4D C9 03
    bne .L_BB53   ; BB4F D0 02
    lda #$04    ; BB51 A9 04
.L_BB53:
  and <$62     ; BB53 25 62
    bne .L_BB74   ; BB55 D0 1D
    beq .L_BB61   ; BB57 F0 08
.L_BB59:
  lda <$08     ; BB59 A5 08
    clc             ; BB5B 18
    adc #$01    ; BB5C 69 01
    jmp .L_BB66   ; BB5E 4C 66 BB
; ----------------------------------------------------------------------------
.L_BB61:
  lda <$08     ; BB61 A5 08
    sec             ; BB63 38
    sbc #$01    ; BB64 E9 01
.L_BB66:
  and #$07    ; BB66 29 07
    sta <$08     ; BB68 85 08
    jmp .L_BB7D   ; BB6A 4C 7D BB
; ----------------------------------------------------------------------------
.L_BB6D:
  lda <$09,x   ; BB6D B5 09
    clc             ; BB6F 18
    adc #$01    ; BB70 69 01
    bne .L_BB79   ; BB72 D0 05
.L_BB74:
  lda <$09,x   ; BB74 B5 09
    sec             ; BB76 38
    sbc #$01    ; BB77 E9 01
.L_BB79:
  and #$07    ; BB79 29 07
    sta <$09,x   ; BB7B 95 09
.L_BB7D:
  pha             ; BB7D 48
    jsr thunk_await_nmi_by_set_handler  ; BB7E 20 00 FF
    bit $2002   ; BB81 2C 02 20
    lda #$20    ; BB84 A9 20
    sta $2006   ; BB86 8D 06 20
    lda #$7B    ; BB89 A9 7B
    sta $2006   ; BB8B 8D 06 20
    pla             ; BB8E 68
    clc             ; BB8F 18
    adc #$81    ; BB90 69 81
    sta $2007   ; BB92 8D 07 20
    lda #$00    ; BB95 A9 00
    sta $2005   ; BB97 8D 05 20
    sta $2005   ; BB9A 8D 05 20
    lda <$FF     ; BB9D A5 FF
    sta $2000   ; BB9F 8D 00 20
    jmp field.call_sound_driver_and_restore_banks; BBA2 4C 58 C7
; ----------------------------------------------------------------------------
    jsr .L_2221   ; BBA5 20 21 22
    jsr .L_DDDD   ; BBA8 20 DD DD
    .byte   <$DD     ; BBAB DD
    .byte   <$51     ; BBAC 51
.L_BBAD:
  ldx #$0F    ; BBAD A2 0F
.L_BBAF:
  lda $7900,x ; BBAF BD 00 79
    sta $7800,x ; BBB2 9D 00 78
    dex             ; BBB5 CA
    bpl .L_BBAF   ; BBB6 10 F7
    lda #$10    ; BBB8 A9 10
    sta $78F1   ; BBBA 8D F1 78
    lda #$01    ; BBBD A9 01
    sta <$A2     ; BBBF 85 A2
    lda <$08     ; BBC1 A5 08
    jsr .L_BB7D   ; BBC3 20 7D BB
    rts             ; BBC6 60
; ----------------------------------------------------------------------------
.L_BBC7:
  jsr .L_F7BB   ; BBC7 20 BB F7
    lda #$88    ; BBCA A9 88
    sta <$FF     ; BBCC 85 FF
    sta $2000   ; BBCE 8D 00 20
    lda #$01    ; BBD1 A9 01
    sta <$37     ; BBD3 85 37
    jsr .L_8F58   ; BBD5 20 58 8F
    lda #$00    ; BBD8 A9 00
    sta <$A2     ; BBDA 85 A2
    sta <$A3     ; BBDC 85 A3
    sta <$A4     ; BBDE 85 A4
    jsr field.init_sprites_cache    ; BBE0 20 86 C4
    jsr thunk_await_nmi_by_set_handler  ; BBE3 20 00 FF
    jsr thunk_await_nmi_by_set_handler  ; BBE6 20 00 FF
    lda #$02    ; BBE9 A9 02
    sta $4014   ; BBEB 8D 14 40
    rts             ; BBEE 60
; ----------------------------------------------------------------------------
.L_BBEF:
  ldx #$0C    ; BBEF A2 0C
    jsr menu.draw_window_box        ; BBF1 20 F1 AA
    lda #$22    ; BBF4 A9 22
    jsr menu.draw_window_content    ; BBF6 20 78 A6
    ldx #$21    ; BBF9 A2 21
    jsr menu.draw_window_box        ; BBFB 20 F1 AA
    lda #$23    ; BBFE A9 23
    jmp menu.draw_window_content    ; BC00 4C 78 A6
; ----------------------------------------------------------------------------
.L_BC03:
  lda #$18    ; BC03 A9 18
    sta <$93     ; BC05 85 93
    lda #$01    ; BC07 A9 01
    sta <$3E     ; BC09 85 3E
    lda #$7B    ; BC0B A9 7B
    sta <$3F     ; BC0D 85 3F
    jmp field.reflect_window_scroll ; BC0F 4C 61 EB
; ----------------------------------------------------------------------------
.L_BC12:
  jsr .L_BC4D   ; BC12 20 4D BC
    ldy #$00    ; BC15 A0 00
    ldx #$00    ; BC17 A2 00
.L_BC19:
  lda $7400,x ; BC19 BD 00 74
    sta $60C0,y ; BC1C 99 C0 60
    lda $7420,x ; BC1F BD 20 74
    sta $60C1,y ; BC22 99 C1 60
    iny             ; BC25 C8
    iny             ; BC26 C8
    inx             ; BC27 E8
    cpx #$20    ; BC28 E0 20
    bcc .L_BC19   ; BC2A 90 ED
    rts             ; BC2C 60
; ----------------------------------------------------------------------------
.L_BC2D:
  jsr .L_BC4D   ; BC2D 20 4D BC
    ldy #$00    ; BC30 A0 00
    ldx #$00    ; BC32 A2 00
.L_BC34:
  lda $7400,y ; BC34 B9 00 74
    sta $60C0,x ; BC37 9D C0 60
    lda $7401,y ; BC3A B9 01 74
    sta $60E0,x ; BC3D 9D E0 60
    iny             ; BC40 C8
    iny             ; BC41 C8
    inx             ; BC42 E8
    cpx #$20    ; BC43 E0 20
    bcc .L_BC34   ; BC45 90 ED
    lda <$FF     ; BC47 A5 FF
    sta $2000   ; BC49 8D 00 20
    rts             ; BC4C 60
; ----------------------------------------------------------------------------
.L_BC4D:
  ldx #$00    ; BC4D A2 00
.L_BC4F:
  lda $60C0,x ; BC4F BD C0 60
    sta $7400,x ; BC52 9D 00 74
    inx             ; BC55 E8
    cpx #$40    ; BC56 E0 40
    bcc .L_BC4F   ; BC58 90 F5
    rts             ; BC5A 60
; ----------------------------------------------------------------------------
.L_BC5B:
  bcc .L_BC68   ; BC5B 90 0B
    jmp isEncounterOccured          ; BC5D 4C B9 BD
; ----------------------------------------------------------------------------
.L_BC60:
  lda <$44     ; BC60 A5 44
    and #$3F    ; BC62 29 3F
    sta <$44     ; BC64 85 44
    clc             ; BC66 18
    rts             ; BC67 60
; ----------------------------------------------------------------------------
.L_BC68:
  lda <$6C     ; BC68 A5 6C
    bne .L_BC60   ; BC6A D0 F4
    lda #$2E    ; BC6C A9 2E
    jsr call_switch1stBank          ; BC6E 20 06 FF
    lda <$78     ; BC71 A5 78
    bne .L_BC8C   ; BC73 D0 17
    lda $9D47   ; BC75 AD 47 9D
    ldx <$42     ; BC78 A6 42
    beq .L_BCC5   ; BC7A F0 49
    lda $9D48   ; BC7C AD 48 9D
    cpx #$02    ; BC7F E0 02
    beq .L_BCC5   ; BC81 F0 42
    lda $9D49   ; BC83 AD 49 9D
    cpx #$03    ; BC86 E0 03
    beq .L_BCC5   ; BC88 F0 3B
    bne .L_BC60   ; BC8A D0 D4
.L_BC8C:
  cmp #$02    ; BC8C C9 02
    bne .L_BC99   ; BC8E D0 09
    lda $9D4A   ; BC90 AD 4A 9D
    ldx <$42     ; BC93 A6 42
    bne .L_BC60   ; BC95 D0 C9
    beq .L_BCC5   ; BC97 F0 2C
.L_BC99:
  cmp #$03    ; BC99 C9 03
    bne .L_BCC2   ; BC9B D0 25
    lda $9D4B   ; BC9D AD 4B 9D
    ldx <$42     ; BCA0 A6 42
    beq .L_BCC5   ; BCA2 F0 21
    lda $9D4C   ; BCA4 AD 4C 9D
    cpx #$02    ; BCA7 E0 02
    beq .L_BCC5   ; BCA9 F0 1A
    lda $9D4D   ; BCAB AD 4D 9D
    cpx #$03    ; BCAE E0 03
    beq .L_BCC5   ; BCB0 F0 13
    lda $602F   ; BCB2 AD 2F 60
    lsr a       ; BCB5 4A
    bcc .L_BCBF   ; BCB6 90 07
    lda $9D4E   ; BCB8 AD 4E 9D
    cpx #$04    ; BCBB E0 04
    bcs .L_BCC5   ; BCBD B0 06
.L_BCBF:
  jmp .L_BC60   ; BCBF 4C 60 BC
; ----------------------------------------------------------------------------
.L_BCC2:
  lda $9D4F   ; BCC2 AD 4F 9D
.L_BCC5:
  sta .L_0080   ; BCC5 85 80
    jsr field.getRandom             ; BCC7 20 11 C7
    cmp .L_0080   ; BCCA C5 80
    bcc .L_BCD1   ; BCCC 90 03
    jmp .L_BC60   ; BCCE 4C 60 BC
; ----------------------------------------------------------------------------
.L_BCD1:
  lda <$78     ; BCD1 A5 78
    bne .L_BD07   ; BCD3 D0 32
    ldx <$42     ; BCD5 A6 42
    beq .L_BCE6   ; BCD7 F0 0D
    lda $9D40   ; BCD9 AD 40 9D
    cpx #$02    ; BCDC E0 02
    beq .L_BCE3   ; BCDE F0 03
    lda $9D41   ; BCE0 AD 41 9D
.L_BCE3:
  jmp getEncounterId              ; BCE3 4C 4D BD
; ----------------------------------------------------------------------------
.L_BCE6:
  lda <$27     ; BCE6 A5 27
    clc             ; BCE8 18
    adc #$07    ; BCE9 69 07
    and #$7F    ; BCEB 29 7F
    lsr a       ; BCED 4A
    lsr a       ; BCEE 4A
    lsr a       ; BCEF 4A
    lsr a       ; BCF0 4A
    lsr a       ; BCF1 4A
    sta .L_0080   ; BCF2 85 80
    lda <$28     ; BCF4 A5 28
    clc             ; BCF6 18
    adc #$07    ; BCF7 69 07
    and #$60    ; BCF9 29 60
    lsr a       ; BCFB 4A
    lsr a       ; BCFC 4A
    lsr a       ; BCFD 4A
    ora .L_0080   ; BCFE 05 80
    tax             ; BD00 AA
    lda $9CF0,x ; BD01 BD F0 9C
    jmp getEncounterId              ; BD04 4C 4D BD
; ----------------------------------------------------------------------------
.L_BD07:
  cmp #$02    ; BD07 C9 02
    bne .L_BD11   ; BD09 D0 06
    lda $9D42   ; BD0B AD 42 9D
    jmp getEncounterId              ; BD0E 4C 4D BD
; ----------------------------------------------------------------------------
.L_BD11:
  cmp #$03    ; BD11 C9 03
    bne .L_BD4A   ; BD13 D0 35
    lda $9D43   ; BD15 AD 43 9D
    ldx <$42     ; BD18 A6 42
    cpx #$02    ; BD1A E0 02
    beq .L_BD47   ; BD1C F0 29
    lda $9D44   ; BD1E AD 44 9D
    cpx #$03    ; BD21 E0 03
    beq .L_BD47   ; BD23 F0 22
    lda $9D45   ; BD25 AD 45 9D
    cpx #$04    ; BD28 E0 04
    bcs .L_BCE3   ; BD2A B0 B7
    lda <$27     ; BD2C A5 27
    clc             ; BD2E 18
    adc #$07    ; BD2F 69 07
    lsr a       ; BD31 4A
    lsr a       ; BD32 4A
    lsr a       ; BD33 4A
    lsr a       ; BD34 4A
    lsr a       ; BD35 4A
    sta .L_0080   ; BD36 85 80
    lda <$28     ; BD38 A5 28
    clc             ; BD3A 18
    adc #$07    ; BD3B 69 07
    and #$E0    ; BD3D 29 E0
    lsr a       ; BD3F 4A
    lsr a       ; BD40 4A
    ora .L_0080   ; BD41 05 80
    tax             ; BD43 AA
    lda $9D00,x ; BD44 BD 00 9D
.L_BD47:
  jmp getEncounterId              ; BD47 4C 4D BD
; ----------------------------------------------------------------------------
.L_BD4A:
  lda $9D46   ; BD4A AD 46 9D
; bank $3d
getEncounterId:
    ldy #$00    ; BD4D A0 00
    sty <$81     ; BD4F 84 81
    asl a       ; BD51 0A
    rol <$81     ; BD52 26 81
    asl a       ; BD54 0A
    rol <$81     ; BD55 26 81
    asl a       ; BD57 0A
    rol <$81     ; BD58 26 81
    clc             ; BD5A 18
    adc #$F0    ; BD5B 69 F0
    sta .L_0080   ; BD5D 85 80
    lda <$81     ; BD5F A5 81
    adc #$94    ; BD61 69 94
    sta <$81     ; BD63 85 81
    inc <$F7     ; BD65 E6 F7
    ldx <$F7     ; BD67 A6 F7
    lda .L_FE00,x ; BD69 BD 00 FE
    and #$3F    ; BD6C 29 3F
    tax             ; BD6E AA
    ldy .L_BD78,x ; BD6F BC 78 BD
    lda (.L_0080),y                   ; BD72 B1 80
    sta <$6A     ; BD74 85 6A
    clc             ; BD76 18
    rts             ; BD77 60
; ----------------------------------------------------------------------------
.L_BD78:
  brk             ; BD78 00
    brk             ; BD79 00
    brk             ; BD7A 00
    brk             ; BD7B 00
    brk             ; BD7C 00
    brk             ; BD7D 00
    brk             ; BD7E 00
    brk             ; BD7F 00
    brk             ; BD80 00
    brk             ; BD81 00
    brk             ; BD82 00
    brk             ; BD83 00
    ora ($01,x) ; BD84 01 01
    ora ($01,x) ; BD86 01 01
    ora ($01,x) ; BD88 01 01
    ora ($01,x) ; BD8A 01 01
    ora ($01,x) ; BD8C 01 01
    ora ($01,x) ; BD8E 01 01
    .byte   <$02     ; BD90 02
    .byte   <$02     ; BD91 02
    .byte   <$02     ; BD92 02
    .byte   <$02     ; BD93 02
    .byte   <$02     ; BD94 02
    .byte   <$02     ; BD95 02
    .byte   <$02     ; BD96 02
    .byte   <$02     ; BD97 02
    .byte   <$02     ; BD98 02
    .byte   <$02     ; BD99 02
    .byte   <$02     ; BD9A 02
    .byte   <$02     ; BD9B 02
    .byte   <$03     ; BD9C 03
    .byte   <$03     ; BD9D 03
    .byte   <$03     ; BD9E 03
    .byte   <$03     ; BD9F 03
    .byte   <$03     ; BDA0 03
    .byte   <$03     ; BDA1 03
    .byte   <$03     ; BDA2 03
    .byte   <$03     ; BDA3 03
    .byte   <$03     ; BDA4 03
    .byte   <$03     ; BDA5 03
    .byte   <$03     ; BDA6 03
    .byte   <$03     ; BDA7 03
    tsb <$04     ; BDA8 04 04
    tsb <$04     ; BDAA 04 04
    tsb <$04     ; BDAC 04 04
    ora <$05     ; BDAE 05 05
    ora <$05     ; BDB0 05 05
    ora <$05     ; BDB2 05 05
    asl <$06     ; BDB4 06 06
    asl <$07     ; BDB6 06 07
.L_BDB8:
  rts             ; BDB8 60
; ----------------------------------------------------------------------------
; bank $3d
isEncounterOccured:
    lda <$6C     ; BDB9 A5 6C
    bne .L_BDB8   ; BDBB D0 FB
    jsr field.getRandom             ; BDBD 20 11 C7
    cmp <$F8     ; BDC0 C5 F8
    bcs .L_BDB8   ; BDC2 B0 F4
    lda #$2E    ; BDC4 A9 2E
    jsr call_switch1stBank          ; BDC6 20 06 FF
    ldx <$48     ; BDC9 A6 48
    lda <$78     ; BDCB A5 78
    bne .L_BDDA   ; BDCD D0 0B
    lda $92F0,x ; BDCF BD F0 92
.L_BDD2:
  jsr getEncounterId              ; BDD2 20 4D BD
    lda #$20    ; BDD5 A9 20
    sta <$AB     ; BDD7 85 AB
    rts             ; BDD9 60
; ----------------------------------------------------------------------------
.L_BDDA:
  lda $93F0,x ; BDDA BD F0 93
    jmp .L_BDD2   ; BDDD 4C D2 BD
; ----------------------------------------------------------------------------
.L_BDE0:
  lda #$0B    ; BDE0 A9 0B
    jsr call_switch1stBank          ; BDE2 20 06 FF
    lda #$88    ; BDE5 A9 88
    sta <$81     ; BDE7 85 81
    lda #$00    ; BDE9 A9 00
    sta .L_0080   ; BDEB 85 80
    ldx #$06    ; BDED A2 06
    lda #$12    ; BDEF A9 12
    jsr .L_BE92   ; BDF1 20 92 BE
    bit $6020   ; BDF4 2C 20 60
    bvc .L_BDFC   ; BDF7 50 03
    jsr .L_BE7C   ; BDF9 20 7C BE
.L_BDFC:
  lda $6020   ; BDFC AD 20 60
    lsr a       ; BDFF 4A
.L_BE00:
  bcc .L_BE0D   ; BE00 90 0B
    lda #$80    ; BE02 A9 80
    sta .L_0080   ; BE04 85 80
    lda #$8F    ; BE06 A9 8F
    sta <$81     ; BE08 85 81
    jsr .L_BE7C   ; BE0A 20 7C BE
.L_BE0D:
  lda #$00    ; BE0D A9 00
    sta .L_0080   ; BE0F 85 80
    lda #$87    ; BE11 A9 87
    sta <$81     ; BE13 85 81
    ldx #$01    ; BE15 A2 01
    lda #$18    ; BE17 A9 18
    jsr .L_BE92   ; BE19 20 92 BE
    lda #$9E    ; BE1C A9 9E
    sta <$81     ; BE1E 85 81
    ldy #$80    ; BE20 A0 80
    ldx #$80    ; BE22 A2 80
    jsr .L_BEAD   ; BE24 20 AD BE
    lda #$99    ; BE27 A9 99
    sta <$81     ; BE29 85 81
    ldy #$00    ; BE2B A0 00
    ldx #$80    ; BE2D A2 80
    jsr .L_BEAD   ; BE2F 20 AD BE
    lda #$80    ; BE32 A9 80
    sta .L_0080   ; BE34 85 80
    lda #$9A    ; BE36 A9 9A
    sta <$81     ; BE38 85 81
    lda #$1C    ; BE3A A9 1C
    ldx #$04    ; BE3C A2 04
    jsr .L_BE92   ; BE3E 20 92 BE
    lda <$78     ; BE41 A5 78
    lsr a       ; BE43 4A
    beq .L_BE64   ; BE44 F0 1E
    lda #$99    ; BE46 A9 99
    sta <$81     ; BE48 85 81
    lda #$80    ; BE4A A9 80
    sta .L_0080   ; BE4C 85 80
    ldx #$01    ; BE4E A2 01
    lda #$1A    ; BE50 A9 1A
    jsr .L_BE92   ; BE52 20 92 BE
    lda #$00    ; BE55 A9 00
    sta .L_0080   ; BE57 85 80
    lda #$9F    ; BE59 A9 9F
    sta <$81     ; BE5B 85 81
    ldx #$01    ; BE5D A2 01
    lda #$1B    ; BE5F A9 1B
    jmp .L_BE92   ; BE61 4C 92 BE
; ----------------------------------------------------------------------------
.L_BE64:
  lda $6020   ; BE64 AD 20 60
    ldx #$97    ; BE67 A2 97
    and #$0C    ; BE69 29 0C
    bne .L_BE6F   ; BE6B D0 02
    ldx #$95    ; BE6D A2 95
.L_BE6F:
  stx <$81     ; BE6F 86 81
    lda #$00    ; BE71 A9 00
    sta .L_0080   ; BE73 85 80
    ldx #$02    ; BE75 A2 02
    lda #$1A    ; BE77 A9 1A
    jmp .L_BE92   ; BE79 4C 92 BE
; ----------------------------------------------------------------------------
.L_BE7C:
  lda #$16    ; BE7C A9 16
    sta $2006   ; BE7E 8D 06 20
    lda #$80    ; BE81 A9 80
    sta $2006   ; BE83 8D 06 20
    bne .L_BE88   ; BE86 D0 00
.L_BE88:
  ldx #$01    ; BE88 A2 01
    jsr .L_BE9D   ; BE8A 20 9D BE
    ldx #$80    ; BE8D A2 80
.L_BE8F:
  jmp .L_BEAD   ; BE8F 4C AD BE
; ----------------------------------------------------------------------------
.L_BE92:
  bit $2002   ; BE92 2C 02 20
    sta $2006   ; BE95 8D 06 20
    lda #$00    ; BE98 A9 00
    sta $2006   ; BE9A 8D 06 20
.L_BE9D:
  ldy #$00    ; BE9D A0 00
.L_BE9F:
  lda (.L_0080),y                   ; BE9F B1 80
    sta $2007   ; BEA1 8D 07 20
    iny             ; BEA4 C8
    bne .L_BE9F   ; BEA5 D0 F8
    inc <$81     ; BEA7 E6 81
    dex             ; BEA9 CA
    bne .L_BE9F   ; BEAA D0 F3
    rts             ; BEAC 60
; ----------------------------------------------------------------------------
.L_BEAD:
  lda (.L_0080),y                   ; BEAD B1 80
    sta $2007   ; BEAF 8D 07 20
    iny             ; BEB2 C8
    dex             ; BEB3 CA
    bne .L_BEAD   ; BEB4 D0 F7
    rts             ; BEB6 60
; ----------------------------------------------------------------------------
.L_BEB7:
  lda <$8A     ; BEB7 A5 8A
    cmp #$6A    ; BEB9 C9 6A
    bcs .L_BEBE   ; BEBB B0 01
    rts             ; BEBD 60
; ----------------------------------------------------------------------------
.L_BEBE:
  ldy #$00    ; BEBE A0 00
    ldx <$26     ; BEC0 A6 26
.L_BEC2:
  lda $0200,y ; BEC2 B9 00 02
    sta $0200,x ; BEC5 9D 00 02
    inx             ; BEC8 E8
    iny             ; BEC9 C8
    cpy #$10    ; BECA C0 10
    bcc .L_BEC2   ; BECC 90 F4
    stx <$26     ; BECE 86 26
    ldx #$00    ; BED0 A2 00
    lda <$F0     ; BED2 A5 F0
    and #$03    ; BED4 29 03
    bne .L_BEDA   ; BED6 D0 02
    ldx #$10    ; BED8 A2 10
.L_BEDA:
  ldy #$00    ; BEDA A0 00
.L_BEDC:
  lda .L_BEE9,x ; BEDC BD E9 BE
    sta $0200,y ; BEDF 99 00 02
    inx             ; BEE2 E8
    iny             ; BEE3 C8
    cpy #$10    ; BEE4 C0 10
    bcc .L_BEDC   ; BEE6 90 F4
    rts             ; BEE8 60
; ----------------------------------------------------------------------------
.L_BEE9:
  bbr6    $FC,.L_BEEF                   ; BEE9 6F FC 03
    bvs .L_BF5D   ; BEEC 70 6F
    .byte   <$FD     ; BEEE FD
.L_BEEF:
  .byte   <$03     ; BEEF 03
    sei             ; BEF0 78
    rmb7    <$FE     ; BEF1 77
    inc $7003,x ; BEF2 FE 03 70
    rmb7    <$FF     ; BEF5 77
    bbs7    $03,.L_BF71                   ; BEF6 FF 03 78
    bbr6    $FD,.L_BF3F                   ; BEF9 6F FD 43
    bvs .L_BF6D   ; BEFC 70 6F
    .byte   <$FC     ; BEFE FC
    .byte   <$43     ; BEFF 43
.L_BF00:
  sei             ; BF00 78
    rmb7    <$FF     ; BF01 77
    bbs7    $43,.L_BF75                   ; BF02 FF 43 70
    rmb7    <$FE     ; BF05 77
    inc $7843,x ; BF06 FE 43 78
.L_BF09:
  rts             ; BF09 60
; ----------------------------------------------------------------------------
.L_BF0A:
  lda <$78     ; BF0A A5 78
    cmp #$03    ; BF0C C9 03
    .byte   <$D0     ; BF0E D0
.L_BF0F:
  sbc $20AD,y ; BF0F F9 AD 20
    rts             ; BF12 60
; ----------------------------------------------------------------------------
    and #$20    ; BF13 29 20
.L_BF15:
  beq .L_BF09   ; BF15 F0 F2
    lda #$75    ; BF17 A9 75
    sta <$41     ; BF19 85 41
.L_BF1B:
  lda #$80    ; BF1B A9 80
    sta <$40     ; BF1D 85 40
    lda #$A2    ; BF1F A9 A2
    sec             ; BF21 38
    .byte   <$E5     ; BF22 E5
.L_BF23:
  rmb2    <$0A     ; BF23 27
    asl a       ; BF24 0A
    asl a       ; BF25 0A
    asl a       ; BF26 0A
    asl a       ; BF27 0A
    sec             ; BF28 38
.L_BF29:
  sbc <$35     ; BF29 E5 35
    sec             ; BF2B 38
    sbc #$08    ; BF2C E9 08
    bcc .L_BF09   ; BF2E 90 D9
    lsr a       ; BF30 4A
    asl a       ; BF31 0A
    sta .L_0080   ; BF32 85 80
    asl a       ; BF34 0A
    adc .L_0080   ; BF35 65 80
    tay             ; BF37 A8
    lda #$06    ; BF38 A9 06
    sta <$81     ; BF3A 85 81
    ldx <$26     ; BF3C A6 26
.L_BF3E:
  .byte   <$B9     ; BF3E B9
.L_BF3F:
  ply             ; BF3F 7A
    bbs3    $48,.L_BF6C                   ; BF40 BF 48 29
    bbr0    $18,.L_BFAB                   ; BF43 0F 18 65
    rti             ; BF46 40
; ----------------------------------------------------------------------------
    sta <$40     ; BF47 85 40
    sta $0203,x ; BF49 9D 03 02
    pla             ; BF4C 68
    lsr a       ; BF4D 4A
    lsr a       ; BF4E 4A
    lsr a       ; BF4F 4A
    lsr a       ; BF50 4A
    cmp #$08    ; BF51 C9 08
    bcc .L_BF5C   ; BF53 90 07
    and #$07    ; BF55 29 07
    eor #$FF    ; BF57 49 FF
    clc             ; BF59 18
    adc #$01    ; BF5A 69 01
.L_BF5C:
  clc             ; BF5C 18
.L_BF5D:
  adc <$41     ; BF5D 65 41
    sta <$41     ; BF5F 85 41
    sta $0200,x ; BF61 9D 00 02
    lda #$B6    ; BF64 A9 B6
    sta $0201,x ; BF66 9D 01 02
    lda #$03    ; BF69 A9 03
    .byte   <$9D     ; BF6B 9D
.L_BF6C:
  .byte   <$02     ; BF6C 02
.L_BF6D:
  .byte   <$02     ; BF6D 02
    inx             ; BF6E E8
    inx             ; BF6F E8
    inx             ; BF70 E8
.L_BF71:
  inx             ; BF71 E8
    iny             ; BF72 C8
    dec <$81     ; BF73 C6 81
.L_BF75:
  bne .L_BF3E   ; BF75 D0 C7
    stx <$26     ; BF77 86 26
    rts             ; BF79 60
; ----------------------------------------------------------------------------
    brk             ; BF7A 00
    bpl .L_BF8D   ; BF7B 10 10
    bpl .L_BF0F   ; BF7D 10 90
    ldy #$00    ; BF7F A0 00
    ora ($10)   ; BF81 12 10
    bpl .L_BF15   ; BF83 10 90
    ldy #$00    ; BF85 A0 00
    ora ($12)   ; BF87 12 12
    bpl .L_BF1B   ; BF89 10 90
    ldy #$00    ; BF8B A0 00
.L_BF8D:
  ora ($12)   ; BF8D 12 12
    bpl .L_BF23   ; BF8F 10 92
    ldy #$00    ; BF91 A0 00
    trb <$12     ; BF93 14 12
    bpl .L_BF29   ; BF95 10 92
    ldy #$00    ; BF97 A0 00
    trb <$12     ; BF99 14 12
    ora ($92)   ; BF9B 12 92
    ldy #$00    ; BF9D A0 00
    asl <$12,x   ; BF9F 16 12
    ora ($92)   ; BFA1 12 92
    ldy #$00    ; BFA3 A0 00
    asl <$12,x   ; BFA5 16 12
    ora ($92)   ; BFA7 12 92
    ldx #$00    ; BFA9 A2 00
.L_BFAB:
  asl <$14,x   ; BFAB 16 14
    ora ($92)   ; BFAD 12 92
    ldx #$00    ; BFAF A2 00
    asl <$16,x   ; BFB1 16 16
    ora ($92)   ; BFB3 12 92
    ldx #$00    ; BFB5 A2 00
    asl <$16,x   ; BFB7 16 16
    tsb <$92     ; BFB9 04 92
    sta (.L_0000) ; BFBB 92 00
    clc             ; BFBD 18
    asl <$04,x   ; BFBE 16 04
    sta ($92)   ; BFC0 92 92
    brk             ; BFC2 00
    clc             ; BFC3 18
    asl <$06,x   ; BFC4 16 06
    sta ($92)   ; BFC6 92 92
    brk             ; BFC8 00
    clc             ; BFC9 18
    asl <$06,x   ; BFCA 16 06
    sta ($94)   ; BFCC 92 94
    brk             ; BFCE 00
    clc             ; BFCF 18
    asl <$06,x   ; BFD0 16 06
    sty <$94,x   ; BFD2 94 94
    brk             ; BFD4 00
    clc             ; BFD5 18
    clc             ; BFD6 18
    asl <$94     ; BFD7 06 94
    sty .L_0000,x ; BFD9 94 00
    clc             ; BFDB 18
    clc             ; BFDC 18
    stx $04,y   ; BFDD 96 04
    stx .L_0000,y ; BFDF 96 00
    clc             ; BFE1 18
    clc             ; BFE2 18
    stx $06,y   ; BFE3 96 06
    stx .L_0000,y ; BFE5 96 00
    php             ; BFE7 08
    clc             ; BFE8 18
    tya             ; BFE9 98
    asl <$06     ; BFEA 06 06
    brk             ; BFEC 00
    php             ; BFED 08
    php             ; BFEE 08
    php             ; BFEF 08
    php             ; BFF0 08
    asl .L_0000   ; BFF1 06 00
    php             ; BFF3 08
    php             ; BFF4 08
    php             ; BFF5 08
    php             ; BFF6 08
.L_BFF7:
  php             ; BFF7 08
    php             ; BFF8 08
    php             ; BFF9 08
.L_BFFA:
  php             ; BFFA 08
    cmp <$FF,x   ; BFFB D5 FF
    adc .L_F7FF,x ; BFFD 7D FF F7
.L_C000:
  .byte   <$4C     ; C000 4C
.L_C001:
  ror $4CC0   ; C001 6E C0 4C
    bbs2    $D3,$D3 ; C004 AF D3 4C
    .byte   <$BB     ; C007 BB
    smb7    <$4C     ; C008 F7
    jmp field.call_sound_driver_and_restore_banks; C009 4C 58 C7
; ----------------------------------------------------------------------------
    jmp field.getAndMaskInput       ; C00C 4C 7A D2
; ----------------------------------------------------------------------------
    jmp .L_D308   ; C00F 4C 08 D3
; ----------------------------------------------------------------------------
    jmp .L_D666   ; C012 4C 66 D6
; ----------------------------------------------------------------------------
    jmp .L_0000   ; C015 4C 00 00
; ----------------------------------------------------------------------------
    jmp .L_CC83   ; C018 4C 83 CC
; ----------------------------------------------------------------------------
    jmp .L_D8D3   ; C01B 4C D3 D8
; ----------------------------------------------------------------------------
    jmp floor.load_object_sprite_into_buffer; C01E 4C 3A DA
; ----------------------------------------------------------------------------
    jmp .L_C03E   ; C021 4C 3E C0
; ----------------------------------------------------------------------------
    sta <$92     ; C024 85 92
    jsr switchToBank3C              ; C026 20 8A C9
    ldx #$25    ; C029 A2 25
    jsr .L_AAA6   ; C02B 20 A6 AA
    lda #$00    ; C02E A9 00
.L_C030:
  sta <$94     ; C030 85 94
    lda #$80    ; C032 A9 80
    sta <$95     ; C034 85 95
    jsr field.load_and_draw_string  ; C036 20 9A EE
    lda #$3A    ; C039 A9 3A
    jmp call_switch1stBank          ; C03B 4C 06 FF
; ----------------------------------------------------------------------------
.L_C03E:
  jsr switchToBank3C              ; C03E 20 8A C9
    jsr .L_B7F9   ; C041 20 F9 B7
    lda #$3A    ; C044 A9 3A
    jmp call_switchFirst2Banks      ; C046 4C 03 FF
; ----------------------------------------------------------------------------
; bank $3e
beginBattle:
    jsr switchToBank3C              ; C049 20 8A C9
    jsr .L_BC12   ; C04C 20 12 BC
    lda <$6A     ; C04F A5 6A
    ldx <$6B     ; C051 A6 6B
    ldy <$78     ; C053 A4 78
    jsr call_doBattle               ; C055 20 00 F8
    bcc .L_C05D   ; C058 90 03
    jmp .L_C000   ; C05A 4C 00 C0
; ----------------------------------------------------------------------------
.L_C05D:
  jsr switchToBank3C              ; C05D 20 8A C9
    jmp .L_BC2D   ; C060 4C 2D BC
; ----------------------------------------------------------------------------
.L_C063:
  lda #$3A    ; C063 A9 3A
    jsr call_switchFirst2Banks      ; C065 20 03 FF
    jsr .L_8500   ; C068 20 00 85
    jmp switchToBank3C              ; C06B 4C 8A C9
; ----------------------------------------------------------------------------
; bank $3e
menu.opening.title_page:
    lda #$36    ; C06E A9 36
    jsr call_switchFirst2Banks      ; C070 20 03 FF
    lda #$00    ; C073 A9 00
    sta $7F49   ; C075 8D 49 7F
    jsr menu.select_pc.put_pc_sprites   ; C078 20 00 80
    lda #$00    ; C07B A9 00
    sta $2001   ; C07D 8D 01 20
    sta <$FE     ; C080 85 FE
    lda #$88    ; C082 A9 88
    sta <$FF     ; C084 85 FF
    sta <$FD     ; C086 85 FD
    sta $2000   ; C088 8D 00 20
    ldx #$FF    ; C08B A2 FF
.L_C08D:
  txs             ; C08D 9A
    lda #$00    ; C08E A9 00
    jsr .L_C49E   ; C090 20 9E C4
    jsr field.init_sprites_cache    ; C093 20 86 C4
    jsr thunk_await_nmi_by_set_handler  ; C096 20 00 FF
    lda #$02    ; C099 A9 02
    sta $4014   ; C09B 8D 14 40
    jsr .L_D308   ; C09E 20 08 D3
    .byte   <$A5     ; C0A1 A5
.L_C0A2:
  plx             ; C0A2 FA
    cmp #$77    ; C0A3 C9 77
    beq .L_C0C3   ; C0A5 F0 1C
    lda #$3A    ; C0A7 A9 3A
    jsr call_switch1stBank          ; C0A9 20 06 FF
    jsr .L_851B   ; C0AC 20 1B 85
    lda #$00    ; C0AF A9 00
    sta $2001   ; C0B1 8D 01 20
    lda #$77    ; C0B4 A9 77
    sta <$FA     ; C0B6 85 FA
    jsr .L_DD06   ; C0B8 20 06 DD
    lda #$3A    ; C0BB A9 3A
    jsr call_switch1stBank          ; C0BD 20 06 FF
    jsr .L_852D   ; C0C0 20 2D 85
.L_C0C3:
  jsr switchToBank3C              ; C0C3 20 8A C9
    jsr .L_B9F6   ; C0C6 20 F6 B9
    php             ; C0C9 08
    jsr .L_C49E   ; C0CA 20 9E C4
    lda $6009   ; C0CD AD 09 60
    sta <$27     ; C0D0 85 27
    lda $600A   ; C0D2 AD 0A 60
    sta <$28     ; C0D5 85 28
    lda $600F   ; C0D7 AD 0F 60
    sta <$46     ; C0DA 85 46
    sta <$42     ; C0DC 85 42
    lda $6008   ; C0DE AD 08 60
    sta <$78     ; C0E1 85 78
    plp             ; C0E3 28
    bcs .L_C0ED   ; C0E4 B0 07
    lda #$00    ; C0E6 A9 00
    sta <$48     ; C0E8 85 48
    jsr dungeon.mainLoop            ; C0EA 20 DC E1
.L_C0ED:
  jsr .L_C859   ; C0ED 20 59 C8
    jsr .L_CF9F   ; C0F0 20 9F CF
    lda $6011   ; C0F3 AD 11 60
    bpl .L_C108   ; C0F6 10 10
    jsr switchToBank3C              ; C0F8 20 8A C9
    lda #$04    ; C0FB A9 04
    sta $7F42   ; C0FD 8D 42 7F
    lda #$88    ; C100 A9 88
    sta $7F49   ; C102 8D 49 7F
    jsr .L_939B   ; C105 20 9B 93
.L_C108:
  ldx #$FF    ; C108 A2 FF
    txs             ; C10A 9A
    jsr .L_C765   ; C10B 20 65 C7
    and #$20    ; C10E 29 20
    sta <$43     ; C110 85 43
.L_C112:
  lda #$3A    ; C112 A9 3A
    jsr call_switch1stBank          ; C114 20 06 FF
    jsr thunk_await_nmi_by_set_handler  ; C117 20 00 FF
    lda #$02    ; C11A A9 02
    sta $4014   ; C11C 8D 14 40
    jsr .L_8515   ; C11F 20 15 85
    jsr field_doScroll              ; C122 20 89 C3
    lda <$F0     ; C125 A5 F0
    clc             ; C127 18
    adc #$01    ; C128 69 01
    sta <$F0     ; C12A 85 F0
    lda <$F1     ; C12C A5 F1
    adc #$00    ; C12E 69 00
    sta <$F1     ; C130 85 F1
    jsr field.call_sound_driver     ; C132 20 50 C7
    lda <$46     ; C135 A5 46
    lsr a       ; C137 4A
    bne .L_C148   ; C138 D0 0E
    lda <$36     ; C13A A5 36
    ora <$35     ; C13C 05 35
    cmp #$08    ; C13E C9 08
    bne .L_C148   ; C140 D0 06
    lda <$44     ; C142 A5 44
    and #$20    ; C144 29 20
    sta <$43     ; C146 85 43
.L_C148:
  lda <$34     ; C148 A5 34
    bne .L_C153   ; C14A D0 07
    lda <$46     ; C14C A5 46
    sta <$42     ; C14E 85 42
    jsr .L_C1E4   ; C150 20 E4 C1
.L_C153:
  jsr switchToBank3C              ; C153 20 8A C9
    jsr .L_B78A   ; C156 20 8A B7
    jsr .L_B7F9   ; C159 20 F9 B7
    jsr field.init_sprites_cache    ; C15C 20 86 C4
    jsr .L_D83C   ; C15F 20 3C D8
    jmp .L_C112   ; C162 4C 12 C1
; ----------------------------------------------------------------------------
.L_C165:
  lda #$00    ; C165 A9 00
    sta <$7E     ; C167 85 7E
    jsr .L_D469   ; C169 20 69 D4
    lda <$79     ; C16C A5 79
    sta <$27     ; C16E 85 27
    lda <$7A     ; C170 A5 7A
    sta <$28     ; C172 85 28
    lda <$7B     ; C174 A5 7B
    ldx <$78     ; C176 A6 78
    sta <$78     ; C178 85 78
    cmp #$03    ; C17A C9 03
    bne .L_C19A   ; C17C D0 1C
    cpx #$04    ; C17E E0 04
    bne .L_C19A   ; C180 D0 18
    jsr .L_C859   ; C182 20 59 C8
    lda #$01    ; C185 A9 01
    jsr .L_D469   ; C187 20 69 D4
    lda #$D2    ; C18A A9 D2
    sta $7F49   ; C18C 8D 49 7F
    jsr .L_D6D4   ; C18F 20 D4 D6
    lda #$A7    ; C192 A9 A7
    sta $7F49   ; C194 8D 49 7F
    jmp .L_C108   ; C197 4C 08 C1
; ----------------------------------------------------------------------------
.L_C19A:
  jmp .L_C8E6   ; C19A 4C E6 C8
; ----------------------------------------------------------------------------
.L_C19D:
  jsr .L_D34D   ; C19D 20 4D D3
    jsr .L_C765   ; C1A0 20 65 C7
    lda $0401,x ; C1A3 BD 01 04
    sta <$6B     ; C1A6 85 6B
    jsr beginBattle                 ; C1A8 20 49 C0
    jmp .L_C8E6   ; C1AB 4C E6 C8
; ----------------------------------------------------------------------------
.L_C1AE:
  bvs .L_C165   ; C1AE 70 B5
    lda <$42     ; C1B0 A5 42
    bne field.enterDungeon          ; C1B2 D0 07
    jsr .L_C379   ; C1B4 20 79 C3
    lda <$A9     ; C1B7 A5 A9
    bne .L_C1DF   ; C1B9 D0 24
; bank $3e
field.enterDungeon:
    lda #$93    ; C1BB A9 93
    sta $7F49   ; C1BD 8D 49 7F
    jsr .L_CF79   ; C1C0 20 79 CF
    lda #$00    ; C1C3 A9 00
    jsr call_switch1stBank          ; C1C5 20 06 FF
    ldx <$45     ; C1C8 A6 45
    lda <$78     ; C1CA A5 78
    bne .L_C1D4   ; C1CC D0 06
    lda $8800,x ; C1CE BD 00 88
    jmp .L_C1D7   ; C1D1 4C D7 C1
; ----------------------------------------------------------------------------
.L_C1D4:
  lda $8840,x ; C1D4 BD 40 88
.L_C1D7:
  sta <$48     ; C1D7 85 48
    jsr dungeon.mainLoop            ; C1D9 20 DC E1
    jmp .L_C0ED   ; C1DC 4C ED C0
; ----------------------------------------------------------------------------
.L_C1DF:
  lda #$01    ; C1DF A9 01
    sta <$A9     ; C1E1 85 A9
    rts             ; C1E3 60
; ----------------------------------------------------------------------------
.L_C1E4:
  bit <$44     ; C1E4 24 44
    bmi .L_C1AE   ; C1E6 30 C6
    bvs .L_C19D   ; C1E8 70 B3
    lda <$A6     ; C1EA A5 A6
    bmi .L_C20E   ; C1EC 30 20
    lda <$6C     ; C1EE A5 6C
    bne .L_C20E   ; C1F0 D0 1C
    lda <$23     ; C1F2 A5 23
    beq .L_C1F9   ; C1F4 F0 03
    jmp field_OnStart               ; C1F6 4C 69 C2
; ----------------------------------------------------------------------------
.L_C1F9:
  lda <$22     ; C1F9 A5 22
    beq .L_C200   ; C1FB F0 03
    jmp .L_C258   ; C1FD 4C 58 C2
; ----------------------------------------------------------------------------
.L_C200:
  lda <$24     ; C200 A5 24
    beq .L_C207   ; C202 F0 03
    jmp .L_C2B7   ; C204 4C B7 C2
; ----------------------------------------------------------------------------
.L_C207:
  lda <$25     ; C207 A5 25
    beq .L_C20E   ; C209 F0 03
    jmp .L_C282   ; C20B 4C 82 C2
; ----------------------------------------------------------------------------
.L_C20E:
  bit <$A6     ; C20E 24 A6
    bpl .L_C239   ; C210 10 27
    bvs .L_C242   ; C212 70 2E
    lda <$AF     ; C214 A5 AF
    beq .L_C242   ; C216 F0 2A
    dec <$AF     ; C218 C6 AF
    lda <$E0     ; C21A A5 E0
    sta <$33     ; C21C 85 33
    jsr .L_C65D   ; C21E 20 5D C6
    lda <$44     ; C221 A5 44
    and #$C0    ; C223 29 C0
    ora <$6C     ; C225 05 6C
    beq .L_C231   ; C227 F0 08
    lda #$90    ; C229 A9 90
    sta <$A6     ; C22B 85 A6
    lda #$00    ; C22D A9 00
    sta <$AF     ; C22F 85 AF
.L_C231:
  jsr .L_CA67   ; C231 20 67 CA
    lda #$01    ; C234 A9 01
    sta <$34     ; C236 85 34
    rts             ; C238 60
; ----------------------------------------------------------------------------
.L_C239:
  lda <$47     ; C239 A5 47
    beq field.dispatchInput         ; C23B F0 06
    sec             ; C23D 38
    sbc #$01    ; C23E E9 01
    sta <$47     ; C240 85 47
.L_C242:
  rts             ; C242 60
; ----------------------------------------------------------------------------
; bank $3e
field.dispatchInput:
    lda <$A9     ; C243 A5 A9
    bne .L_C252   ; C245 D0 0B
    jsr floor.getInputOrFireObjectEvent ; C247 20 19 D2
    lda <$20     ; C24A A5 20
    and #$0F    ; C24C 29 0F
    bne .L_C253   ; C24E D0 03
    sta <$4E     ; C250 85 4E
.L_C252:
  rts             ; C252 60
; ----------------------------------------------------------------------------
.L_C253:
  sta <$33     ; C253 85 33
    jmp field.OnMove                ; C255 4C FC C4
; ----------------------------------------------------------------------------
.L_C258:
  lda #$00    ; C258 A9 00
    sta <$22     ; C25A 85 22
    lda <$42     ; C25C A5 42
    bne .L_C268   ; C25E D0 08
    lda #$97    ; C260 A9 97
    sta $7F49   ; C262 8D 49 7F
    jmp .L_F72C   ; C265 4C 2C F7
; ----------------------------------------------------------------------------
.L_C268:
  rts             ; C268 60
; ----------------------------------------------------------------------------
; bank $3e
field_OnStart:
    lda #$00    ; C269 A9 00
    sta <$23     ; C26B 85 23
    lda #$00    ; C26D A9 00
    jsr .L_D469   ; C26F 20 69 D4
    jsr switchToBank3C              ; C272 20 8A C9
    lda #$00    ; C275 A9 00
    sta <$53     ; C277 85 53
    jsr menu.main_loop              ; C279 20 2F A5
    jmp .L_C8E6   ; C27C 4C E6 C8
; ----------------------------------------------------------------------------
.L_C27F:
  jmp .L_C942   ; C27F 4C 42 C9
; ----------------------------------------------------------------------------
.L_C282:
  lda #$00    ; C282 A9 00
    sta <$25     ; C284 85 25
    lda <$42     ; C286 A5 42
    beq .L_C27F   ; C288 F0 F5
    cmp #$07    ; C28A C9 07
    bne .L_C2A2   ; C28C D0 14
    lda <$A6     ; C28E A5 A6
    bmi .L_C2A2   ; C290 30 10
.L_C292:
  jsr .L_C765   ; C292 20 65 C7
    and #$81    ; C295 29 81
    jsr .L_C2A3   ; C297 20 A3 C2
    lda #$80    ; C29A A9 80
    sta <$44     ; C29C 85 44
    lda #$00    ; C29E A9 00
    sta <$45     ; C2A0 85 45
.L_C2A2:
  rts             ; C2A2 60
; ----------------------------------------------------------------------------
.L_C2A3:
  bne .L_C2AE   ; C2A3 D0 09
    lda $602B   ; C2A5 AD 2B 60
    and #$7F    ; C2A8 29 7F
    jmp .L_C2B3   ; C2AA 4C B3 C2
; ----------------------------------------------------------------------------
    rts             ; C2AD 60
; ----------------------------------------------------------------------------
.L_C2AE:
  lda $602B   ; C2AE AD 2B 60
    ora #$80    ; C2B1 09 80
.L_C2B3:
  sta $602B   ; C2B3 8D 2B 60
    rts             ; C2B6 60
; ----------------------------------------------------------------------------
.L_C2B7:
  lda #$00    ; C2B7 A9 00
    sta <$24     ; C2B9 85 24
    lda <$42     ; C2BB A5 42
    beq .L_C303   ; C2BD F0 44
    cmp #$01    ; C2BF C9 01
    beq .L_C2E7   ; C2C1 F0 24
    cmp #$03    ; C2C3 C9 03
    beq .L_C2D0   ; C2C5 F0 09
    cmp #$07    ; C2C7 C9 07
    beq .L_C2FD   ; C2C9 F0 32
    cmp #$04    ; C2CB C9 04
    bcs .L_C2E4   ; C2CD B0 15
.L_C2CF:
  rts             ; C2CF 60
; ----------------------------------------------------------------------------
.L_C2D0:
  lda $6020   ; C2D0 AD 20 60
    and #$10    ; C2D3 29 10
    beq .L_C2CF   ; C2D5 F0 F8
    lda $6020   ; C2D7 AD 20 60
    and #$20    ; C2DA 29 20
    bne .L_C2CF   ; C2DC D0 F1
    lda #$04    ; C2DE A9 04
    pha             ; C2E0 48
    jmp .L_C35C   ; C2E1 4C 5C C3
; ----------------------------------------------------------------------------
.L_C2E4:
  jmp .L_C7A5   ; C2E4 4C A5 C7
; ----------------------------------------------------------------------------
.L_C2E7:
  lda #$80    ; C2E7 A9 80
    sta <$B0     ; C2E9 85 B0
    lda #$70    ; C2EB A9 70
    sta <$B1     ; C2ED 85 B1
    lda #$6F    ; C2EF A9 6F
    sta <$B2     ; C2F1 85 B2
    lda #$00    ; C2F3 A9 00
    sta <$46     ; C2F5 85 46
    jsr .L_C93A   ; C2F7 20 3A C9
    jmp .L_C8F7   ; C2FA 4C F7 C8
; ----------------------------------------------------------------------------
.L_C2FD:
  jsr switchToBank3C              ; C2FD 20 8A C9
    jmp .L_B66F   ; C300 4C 6F B6
; ----------------------------------------------------------------------------
.L_C303:
  lda $6020   ; C303 AD 20 60
    and #$01    ; C306 29 01
    beq .L_C328   ; C308 F0 1E
    lda $6000   ; C30A AD 00 60
    beq .L_C376   ; C30D F0 67
    lda <$27     ; C30F A5 27
    clc             ; C311 18
    adc #$07    ; C312 69 07
    cmp $6001   ; C314 CD 01 60
    bne .L_C376   ; C317 D0 5D
    lda <$28     ; C319 A5 28
    clc             ; C31B 18
    adc #$07    ; C31C 69 07
    cmp $6002   ; C31E CD 02 60
    bne .L_C376   ; C321 D0 53
    lda #$05    ; C323 A9 05
    jmp .L_C34A   ; C325 4C 4A C3
; ----------------------------------------------------------------------------
.L_C328:
  bit $6020   ; C328 2C 20 60
    bvc .L_C376   ; C32B 50 49
    lda $6003   ; C32D AD 03 60
    cmp <$78     ; C330 C5 78
    bne .L_C376   ; C332 D0 42
    lda <$27     ; C334 A5 27
    clc             ; C336 18
    adc #$07    ; C337 69 07
    cmp $6001   ; C339 CD 01 60
    bne .L_C376   ; C33C D0 38
    lda <$28     ; C33E A5 28
    clc             ; C340 18
    adc #$07    ; C341 69 07
    cmp $6002   ; C343 CD 02 60
    bne .L_C376   ; C346 D0 2E
    lda #$06    ; C348 A9 06
.L_C34A:
  pha             ; C34A 48
    lda <$42     ; C34B A5 42
    bne .L_C35C   ; C34D D0 0D
    jsr .L_C379   ; C34F 20 79 C3
    lda <$A9     ; C352 A5 A9
    beq .L_C35C   ; C354 F0 06
    pla             ; C356 68
    inc <$24     ; C357 E6 24
    inc <$A9     ; C359 E6 A9
    rts             ; C35B 60
; ----------------------------------------------------------------------------
.L_C35C:
  lda #$00    ; C35C A9 00
    sta <$A9     ; C35E 85 A9
    pla             ; C360 68
    sta <$46     ; C361 85 46
    sta <$42     ; C363 85 42
    ldx #$AD    ; C365 A2 AD
    cmp #$04    ; C367 C9 04
    bne .L_C36D   ; C369 D0 02
    ldx #$AA    ; C36B A2 AA
.L_C36D:
  stx $7F49   ; C36D 8E 49 7F
    jsr .L_D6A7   ; C370 20 A7 D6
    jmp .L_C93A   ; C373 4C 3A C9
; ----------------------------------------------------------------------------
.L_C376:
  jmp .L_C942   ; C376 4C 42 C9
; ----------------------------------------------------------------------------
.L_C379:
  lda <$A9     ; C379 A5 A9
    bne .L_C388   ; C37B D0 0B
    lda $600B   ; C37D AD 0B 60
    beq .L_C388   ; C380 F0 06
    lda <$E1     ; C382 A5 E1
    beq .L_C388   ; C384 F0 02
    inc <$A9     ; C386 E6 A9
.L_C388:
  rts             ; C388 60
; ----------------------------------------------------------------------------
; bank $3e
field_doScroll:
    lda <$34     ; C389 A5 34
    beq field_setScroll             ; C38B F0 0B
    jsr .L_C416   ; C38D 20 16 C4
    lda <$42     ; C390 A5 42
    bne .L_C397   ; C392 D0 03
    jmp .L_C907   ; C394 4C 07 C9
; ----------------------------------------------------------------------------
.L_C397:
  rts             ; C397 60
; ----------------------------------------------------------------------------
; bank $3e
field_setScroll:
    lda #$1E    ; C398 A9 1E
    sta $2001   ; C39A 8D 01 20
.L_C39D:
  lda <$FD     ; C39D A5 FD
    sta <$FF     ; C39F 85 FF
    sta $2000   ; C3A1 8D 00 20
    lda $2002   ; C3A4 AD 02 20
    lda <$27     ; C3A7 A5 27
    asl a       ; C3A9 0A
    asl a       ; C3AA 0A
    asl a       ; C3AB 0A
    asl a       ; C3AC 0A
    ora <$35     ; C3AD 05 35
    sta $2005   ; C3AF 8D 05 20
    lda <$2F     ; C3B2 A5 2F
    asl a       ; C3B4 0A
    asl a       ; C3B5 0A
    asl a       ; C3B6 0A
    asl a       ; C3B7 0A
    ora <$36     ; C3B8 05 36
    sta $2005   ; C3BA 8D 05 20
    rts             ; C3BD 60
; ----------------------------------------------------------------------------
.L_C3BE:
  lda <$32     ; C3BE A5 32
    beq .L_C3C5   ; C3C0 F0 03
    jsr .L_CA79   ; C3C2 20 79 CA
.L_C3C5:
  jsr field_setScroll             ; C3C5 20 98 C3
    lda <$35     ; C3C8 A5 35
    clc             ; C3CA 18
    adc <$34     ; C3CB 65 34
    and #$0F    ; C3CD 29 0F
    beq .L_C3D4   ; C3CF F0 03
    sta <$35     ; C3D1 85 35
    rts             ; C3D3 60
; ----------------------------------------------------------------------------
.L_C3D4:
  sta <$34     ; C3D4 85 34
    sta <$35     ; C3D6 85 35
    lda <$27     ; C3D8 A5 27
    clc             ; C3DA 18
    adc #$01    ; C3DB 69 01
    sta <$27     ; C3DD 85 27
    and #$10    ; C3DF 29 10
    lsr <$FD     ; C3E1 46 FD
    cmp #$10    ; C3E3 C9 10
    rol <$FD     ; C3E5 26 FD
    rts             ; C3E7 60
; ----------------------------------------------------------------------------
.L_C3E8:
  lda <$32     ; C3E8 A5 32
    beq .L_C3EF   ; C3EA F0 03
    jsr .L_CA79   ; C3EC 20 79 CA
.L_C3EF:
  jsr field_setScroll             ; C3EF 20 98 C3
    lda <$35     ; C3F2 A5 35
    bne .L_C407   ; C3F4 D0 11
    lda <$27     ; C3F6 A5 27
    sec             ; C3F8 38
    sbc #$01    ; C3F9 E9 01
    sta <$27     ; C3FB 85 27
    and #$10    ; C3FD 29 10
    lsr <$FD     ; C3FF 46 FD
    cmp #$10    ; C401 C9 10
    rol <$FD     ; C403 26 FD
    lda <$35     ; C405 A5 35
.L_C407:
  sec             ; C407 38
    sbc <$34     ; C408 E5 34
    and #$0F    ; C40A 29 0F
    beq .L_C411   ; C40C F0 03
    sta <$35     ; C40E 85 35
    rts             ; C410 60
; ----------------------------------------------------------------------------
.L_C411:
  sta <$34     ; C411 85 34
    sta <$35     ; C413 85 35
    rts             ; C415 60
; ----------------------------------------------------------------------------
.L_C416:
  lda <$33     ; C416 A5 33
    lsr a       ; C418 4A
    bcs .L_C3BE   ; C419 B0 A3
    lsr a       ; C41B 4A
    bcs .L_C3E8   ; C41C B0 CA
    lsr a       ; C41E 4A
    bcs .L_C424   ; C41F B0 03
    jmp .L_C454   ; C421 4C 54 C4
; ----------------------------------------------------------------------------
.L_C424:
  lda <$32     ; C424 A5 32
    beq .L_C431   ; C426 F0 09
    lda <$36     ; C428 A5 36
    cmp #$08    ; C42A C9 08
    bcc .L_C431   ; C42C 90 03
    jsr .L_CA79   ; C42E 20 79 CA
.L_C431:
  jsr field_setScroll             ; C431 20 98 C3
    lda <$36     ; C434 A5 36
    clc             ; C436 18
    adc <$34     ; C437 65 34
    and #$0F    ; C439 29 0F
    beq .L_C440   ; C43B F0 03
    sta <$36     ; C43D 85 36
    rts             ; C43F 60
; ----------------------------------------------------------------------------
.L_C440:
  sta <$34     ; C440 85 34
    sta <$36     ; C442 85 36
    inc <$28     ; C444 E6 28
    lda <$2F     ; C446 A5 2F
    clc             ; C448 18
    adc #$01    ; C449 69 01
    cmp #$0F    ; C44B C9 0F
    bcc .L_C451   ; C44D 90 02
    sbc #$0F    ; C44F E9 0F
.L_C451:
  sta <$2F     ; C451 85 2F
    rts             ; C453 60
; ----------------------------------------------------------------------------
.L_C454:
  lda <$32     ; C454 A5 32
    beq .L_C461   ; C456 F0 09
    lda <$36     ; C458 A5 36
    cmp #$08    ; C45A C9 08
    bne .L_C461   ; C45C D0 03
    jsr .L_CA79   ; C45E 20 79 CA
.L_C461:
  jsr field_setScroll             ; C461 20 98 C3
    lda <$36     ; C464 A5 36
    bne .L_C477   ; C466 D0 0F
    dec <$28     ; C468 C6 28
    lda <$2F     ; C46A A5 2F
    sec             ; C46C 38
    sbc #$01    ; C46D E9 01
    bcs .L_C473   ; C46F B0 02
    adc #$0F    ; C471 69 0F
.L_C473:
  sta <$2F     ; C473 85 2F
    lda <$36     ; C475 A5 36
.L_C477:
  sec             ; C477 38
    sbc <$34     ; C478 E5 34
    and #$0F    ; C47A 29 0F
    beq .L_C481   ; C47C F0 03
    sta <$36     ; C47E 85 36
    rts             ; C480 60
; ----------------------------------------------------------------------------
.L_C481:
  sta <$34     ; C481 85 34
    sta <$36     ; C483 85 36
    rts             ; C485 60
; ----------------------------------------------------------------------------
; bank $3e
field.init_sprites_cache:
    ldx #$3F    ; C486 A2 3F
    lda #$F0    ; C488 A9 F0
.L_C48A:
  sta $0200,x ; C48A 9D 00 02
    sta $0240,x ; C48D 9D 40 02
    sta $0280,x ; C490 9D 80 02
    sta $02C0,x ; C493 9D C0 02
    dex             ; C496 CA
    bpl .L_C48A   ; C497 10 F1
    lda #$00    ; C499 A9 00
    sta <$26     ; C49B 85 26
    rts             ; C49D 60
; ----------------------------------------------------------------------------
.L_C49E:
  ldx #$ED    ; C49E A2 ED
    lda #$00    ; C4A0 A9 00
.L_C4A2:
  sta .L_0000,x ; C4A2 95 00
    dex             ; C4A4 CA
    bne .L_C4A2   ; C4A5 D0 FB
    lda #$1B    ; C4A7 A9 1B
    ora <$F4     ; C4A9 05 F4
    sta <$F4     ; C4AB 85 F4
    ldx #$1F    ; C4AD A2 1F
    lda #$0F    ; C4AF A9 0F
.L_C4B1:
  sta $03C0,x ; C4B1 9D C0 03
    dex             ; C4B4 CA
    bpl .L_C4B1   ; C4B5 10 FA
    rts             ; C4B7 60
; ----------------------------------------------------------------------------
.L_C4B8:
  lda <$78     ; C4B8 A5 78
    bne .L_C4D1   ; C4BA D0 15
    lda $6020   ; C4BC AD 20 60
    and #$04    ; C4BF 29 04
    beq .L_C4EF   ; C4C1 F0 2C
    lda <$82     ; C4C3 A5 82
    cmp #$43    ; C4C5 C9 43
    bne .L_C4EF   ; C4C7 D0 26
    lda <$83     ; C4C9 A5 83
    cmp #$20    ; C4CB C9 20
    bne .L_C4EF   ; C4CD D0 20
    beq .L_C4E6   ; C4CF F0 15
.L_C4D1:
  lda <$78     ; C4D1 A5 78
    cmp #$03    ; C4D3 C9 03
    bne .L_C4EF   ; C4D5 D0 18
    lda $6020   ; C4D7 AD 20 60
    and #$20    ; C4DA 29 20
    beq .L_C4EF   ; C4DC F0 11
    lda <$82     ; C4DE A5 82
    cmp #$A6    ; C4E0 C9 A6
    bcc .L_C4E6   ; C4E2 90 02
    bcs .L_C4EF   ; C4E4 B0 09
.L_C4E6:
  lda <$43     ; C4E6 A5 43
    sta <$44     ; C4E8 85 44
    rts             ; C4EA 60
; ----------------------------------------------------------------------------
.L_C4EB:
  lda <$43     ; C4EB A5 43
    sta <$44     ; C4ED 85 44
.L_C4EF:
  lda <$42     ; C4EF A5 42
    bne .L_C4F9   ; C4F1 D0 06
    jsr switchToBank3C              ; C4F3 20 8A C9
    jsr .L_B6DA   ; C4F6 20 DA B6
.L_C4F9:
  jmp .L_CA67   ; C4F9 4C 67 CA
; ----------------------------------------------------------------------------
; bank $3e
field.OnMove:
    ldx <$42     ; C4FC A6 42
    cpx #$02    ; C4FE E0 02
    bcs .L_C52B   ; C500 B0 29
    jsr .L_C65D   ; C502 20 5D C6
    bcs .L_C51B   ; C505 B0 14
    lda <$42     ; C507 A5 42
    beq .L_C50F   ; C509 F0 04
    bit <$44     ; C50B 24 44
    bmi .L_C4E6   ; C50D 30 D7
.L_C50F:
  lda <$E4     ; C50F A5 E4
    bne .L_C4E6   ; C511 D0 D3
    jsr .L_C603   ; C513 20 03 C6
    bcs .L_C4E6   ; C516 B0 CE
    jmp .L_C4EF   ; C518 4C EF C4
; ----------------------------------------------------------------------------
.L_C51B:
  lda <$42     ; C51B A5 42
    bne .L_C4E6   ; C51D D0 C7
    jsr .L_C5DE   ; C51F 20 DE C5
    bcc .L_C4EB   ; C522 90 C7
    jsr .L_C61B   ; C524 20 1B C6
    bcc .L_C4EB   ; C527 90 C2
    bcs .L_C4E6   ; C529 B0 BB
.L_C52B:
  bne .L_C541   ; C52B D0 14
    jsr .L_C65D   ; C52D 20 5D C6
    bcc .L_C4EF   ; C530 90 BD
    jsr .L_C5B5   ; C532 20 B5 C5
    bcc .L_C4EB   ; C535 90 B4
    jsr .L_C61B   ; C537 20 1B C6
    bcc .L_C4EB   ; C53A 90 AF
    bcs .L_C4E6   ; C53C B0 A8
.L_C53E:
  jmp .L_C4B8   ; C53E 4C B8 C4
; ----------------------------------------------------------------------------
.L_C541:
  cpx #$03    ; C541 E0 03
    bne .L_C556   ; C543 D0 11
    jsr .L_C65D   ; C545 20 5D C6
    bcc .L_C53E   ; C548 90 F4
    jsr .L_C5DE   ; C54A 20 DE C5
    bcc .L_C4EB   ; C54D 90 9C
    jsr .L_C5B5   ; C54F 20 B5 C5
    bcc .L_C4EB   ; C552 90 97
    bcs .L_C4E6   ; C554 B0 90
.L_C556:
  jsr .L_C65D   ; C556 20 5D C6
    bcs .L_C4E6   ; C559 B0 8B
    lda <$78     ; C55B A5 78
    beq .L_C566   ; C55D F0 07
    cmp #$04    ; C55F C9 04
    beq .L_C598   ; C561 F0 35
    jmp dive_into_float_land        ; C563 4C 66 C9
; ----------------------------------------------------------------------------
.L_C566:
  cpx #$C8    ; C566 E0 C8
    bne .L_C590   ; C568 D0 26
    lda <$27     ; C56A A5 27
    sta $600C   ; C56C 8D 0C 60
    lda <$28     ; C56F A5 28
    sta $600D   ; C571 8D 0D 60
    lda #$19    ; C574 A9 19
    sta <$79     ; C576 85 79
    lda #$D7    ; C578 A9 D7
    sta <$7A     ; C57A 85 7A
    lda $6021   ; C57C AD 21 60
    and #$20    ; C57F 29 20
    cmp #$01    ; C581 C9 01
    lda #$02    ; C583 A9 02
    adc #$00    ; C585 69 00
    sta <$7B     ; C587 85 7B
    lda #$C0    ; C589 A9 C0
    sta <$44     ; C58B 85 44
    jmp .L_C4EF   ; C58D 4C EF C4
; ----------------------------------------------------------------------------
.L_C590:
  jsr .L_C603   ; C590 20 03 C6
    bcs .L_C59B   ; C593 B0 06
    jmp .L_C4EF   ; C595 4C EF C4
; ----------------------------------------------------------------------------
.L_C598:
  jmp .L_C4EF   ; C598 4C EF C4
; ----------------------------------------------------------------------------
.L_C59B:
  jmp .L_C4E6   ; C59B 4C E6 C4
; ----------------------------------------------------------------------------
.L_C59E:
  lda <$27     ; C59E A5 27
    clc             ; C5A0 18
    adc #$07    ; C5A1 69 07
    sta $6001   ; C5A3 8D 01 60
    lda <$28     ; C5A6 A5 28
    clc             ; C5A8 18
    adc #$07    ; C5A9 69 07
    sta $6002   ; C5AB 8D 02 60
    lda <$78     ; C5AE A5 78
    sta $6003   ; C5B0 8D 03 60
    clc             ; C5B3 18
    rts             ; C5B4 60
; ----------------------------------------------------------------------------
.L_C5B5:
  lda <$44     ; C5B5 A5 44
    lsr a       ; C5B7 4A
    bcc .L_C5BB   ; C5B8 90 01
    rts             ; C5BA 60
; ----------------------------------------------------------------------------
.L_C5BB:
  lda <$44     ; C5BB A5 44
    and #$20    ; C5BD 29 20
    sta <$43     ; C5BF 85 43
    lda $600B   ; C5C1 AD 0B 60
    beq .L_C5CB   ; C5C4 F0 05
    jsr .L_C8F7   ; C5C6 20 F7 C8
    inc <$A9     ; C5C9 E6 A9
.L_C5CB:
  lda <$42     ; C5CB A5 42
    ldx #$00    ; C5CD A2 00
    stx <$46     ; C5CF 86 46
    stx <$42     ; C5D1 86 42
    pha             ; C5D3 48
    jsr .L_C93A   ; C5D4 20 3A C9
    pla             ; C5D7 68
    cmp #$03    ; C5D8 C9 03
    beq .L_C59E   ; C5DA F0 C2
.L_C5DC:
  clc             ; C5DC 18
.L_C5DD:
  rts             ; C5DD 60
; ----------------------------------------------------------------------------
.L_C5DE:
  lda $602E   ; C5DE AD 2E 60
    lsr a       ; C5E1 4A
    bcc .L_C619   ; C5E2 90 35
    lda <$44     ; C5E4 A5 44
    lsr a       ; C5E6 4A
    lsr a       ; C5E7 4A
    bcs .L_C5DD   ; C5E8 B0 F3
    jsr .L_C64F   ; C5EA 20 4F C6
    ldx #$02    ; C5ED A2 02
    stx <$46     ; C5EF 86 46
    stx <$47     ; C5F1 86 47
    jsr .L_C93A   ; C5F3 20 3A C9
    lda <$42     ; C5F6 A5 42
    cmp #$03    ; C5F8 C9 03
    bne .L_C5DC   ; C5FA D0 E0
    lda #$02    ; C5FC A9 02
    sta <$42     ; C5FE 85 42
    jmp .L_C59E   ; C600 4C 9E C5
; ----------------------------------------------------------------------------
.L_C603:
  lda <$78     ; C603 A5 78
    bne .L_C5DC   ; C605 D0 D5
    lda $6020   ; C607 AD 20 60
    lsr a       ; C60A 4A
    bcc .L_C5DC   ; C60B 90 CF
    lda <$82     ; C60D A5 82
    cmp #$51    ; C60F C9 51
    bne .L_C5DC   ; C611 D0 C9
    lda <$83     ; C613 A5 83
    cmp #$36    ; C615 C9 36
    bne .L_C5DC   ; C617 D0 C3
.L_C619:
  sec             ; C619 38
    rts             ; C61A 60
; ----------------------------------------------------------------------------
.L_C61B:
  lda $6020   ; C61B AD 20 60
    lsr a       ; C61E 4A
    bcs .L_C62A   ; C61F B0 09
    and #$20    ; C621 29 20
    bne .L_C62A   ; C623 D0 05
    lda $6000   ; C625 AD 00 60
    bne .L_C62C   ; C628 D0 02
.L_C62A:
  sec             ; C62A 38
    rts             ; C62B 60
; ----------------------------------------------------------------------------
.L_C62C:
  lda $6003   ; C62C AD 03 60
    cmp <$78     ; C62F C5 78
    bne .L_C62A   ; C631 D0 F7
    lda $6001   ; C633 AD 01 60
    cmp <$82     ; C636 C5 82
    bne .L_C62A   ; C638 D0 F0
    lda $6002   ; C63A AD 02 60
    cmp <$83     ; C63D C5 83
    bne .L_C62A   ; C63F D0 E9
    jsr .L_C64F   ; C641 20 4F C6
    lda #$03    ; C644 A9 03
    sta <$46     ; C646 85 46
    sta <$47     ; C648 85 47
    jsr .L_C93A   ; C64A 20 3A C9
    clc             ; C64D 18
    rts             ; C64E 60
; ----------------------------------------------------------------------------
.L_C64F:
  lda <$42     ; C64F A5 42
    bne .L_C65C   ; C651 D0 09
    lda $600B   ; C653 AD 0B 60
    beq .L_C65C   ; C656 F0 04
    lda #$01    ; C658 A9 01
    sta <$A9     ; C65A 85 A9
.L_C65C:
  rts             ; C65C 60
; ----------------------------------------------------------------------------
.L_C65D:
  lsr a       ; C65D 4A
    bcs .L_C674   ; C65E B0 14
    lsr a       ; C660 4A
    bcs .L_C67B   ; C661 B0 18
    lsr a       ; C663 4A
    bcs .L_C66D   ; C664 B0 07
    ldx #$07    ; C666 A2 07
    ldy #$06    ; C668 A0 06
    jmp .L_C67F   ; C66A 4C 7F C6
; ----------------------------------------------------------------------------
.L_C66D:
  ldx #$07    ; C66D A2 07
    ldy #$08    ; C66F A0 08
    jmp .L_C67F   ; C671 4C 7F C6
; ----------------------------------------------------------------------------
.L_C674:
  ldx #$08    ; C674 A2 08
    ldy #$07    ; C676 A0 07
    jmp .L_C67F   ; C678 4C 7F C6
; ----------------------------------------------------------------------------
.L_C67B:
  ldx #$06    ; C67B A2 06
    ldy #$07    ; C67D A0 07
.L_C67F:
  txa             ; C67F 8A
    clc             ; C680 18
    adc <$27     ; C681 65 27
    sta .L_0080   ; C683 85 80
    sta <$82     ; C685 85 82
    tya             ; C687 98
    clc             ; C688 18
    adc <$28     ; C689 65 28
    sta <$83     ; C68B 85 83
    tya             ; C68D 98
    clc             ; C68E 18
    adc <$2F     ; C68F 65 2F
    cmp #$0F    ; C691 C9 0F
    bcc .L_C697   ; C693 90 02
    sbc #$0F    ; C695 E9 0F
.L_C697:
  ora #$70    ; C697 09 70
    sta <$81     ; C699 85 81
    ldy #$00    ; C69B A0 00
    lda (.L_0080),y                   ; C69D B1 80
    asl a       ; C69F 0A
    tax             ; C6A0 AA
    lda $0400,x ; C6A1 BD 00 04
    sta <$44     ; C6A4 85 44
    lda $0401,x ; C6A6 BD 01 04
    sta <$45     ; C6A9 85 45
    ldy <$42     ; C6AB A4 42
    lda .L_C6CD,y ; C6AD B9 CD C6
    and <$44     ; C6B0 25 44
    cmp .L_C6CD,y ; C6B2 D9 CD C6
    bne field.OnCharacterMoved      ; C6B5 D0 1E
    sec             ; C6B7 38
    rts             ; C6B8 60
; ----------------------------------------------------------------------------
; bank $3e
field:  lda <$78     ; C6B9 A5 78
    cmp #$04    ; C6BB C9 04
    beq .L_C6CB   ; C6BD F0 0C
    lda <$42     ; C6BF A5 42
    cmp #$04    ; C6C1 C9 04
    bcc .L_C6CB   ; C6C3 90 06
    lda <$44     ; C6C5 A5 44
    and #$7F    ; C6C7 29 7F
    sta <$44     ; C6C9 85 44
.L_C6CB:
  clc             ; C6CB 18
    rts             ; C6CC 60
; ----------------------------------------------------------------------------
.L_C6CD:
  ora ($03,x) ; C6CD 01 03
    .byte   <$02     ; C6CF 02
    tsb <$10     ; C6D0 04 10
    bpl .L_C6E4   ; C6D2 10 10
    .byte   <$10     ; C6D4 10
; bank $3e
field.OnCharacterMoved:
    lda <$44     ; C6D5 A5 44
    bmi .L_C6DF   ; C6D7 30 06
    and #$40    ; C6D9 29 40
    beq .L_C6CB   ; C6DB F0 EE
    bne .L_C6F7   ; C6DD D0 18
.L_C6DF:
  lda <$45     ; C6DF A5 45
    bpl field   ; C6E1 10 D6
    txa             ; C6E3 8A
.L_C6E4:
  pha             ; C6E4 48
    lda <$82     ; C6E5 A5 82
    pha             ; C6E7 48
    lda <$83     ; C6E8 A5 83
    pha             ; C6EA 48
    jsr .L_C911   ; C6EB 20 11 C9
    pla             ; C6EE 68
    sta <$83     ; C6EF 85 83
    pla             ; C6F1 68
    sta <$82     ; C6F2 85 82
    pla             ; C6F4 68
    tax             ; C6F5 AA
    rts             ; C6F6 60
; ----------------------------------------------------------------------------
.L_C6F7:
  txa             ; C6F7 8A
    pha             ; C6F8 48
    lda <$82     ; C6F9 A5 82
    pha             ; C6FB 48
    lda <$83     ; C6FC A5 83
    pha             ; C6FE 48
    lda #$3D    ; C6FF A9 3D
    jsr call_switch2ndBank          ; C701 20 09 FF
    clc             ; C704 18
    jsr .L_BC5B   ; C705 20 5B BC
    pla             ; C708 68
    sta <$83     ; C709 85 83
    pla             ; C70B 68
    sta <$82     ; C70C 85 82
    pla             ; C70E 68
    tax             ; C70F AA
    rts             ; C710 60
; ----------------------------------------------------------------------------
; bank $3e
field.getRandom:
    bit <$F6     ; C711 24 F6
    bmi .L_C71B   ; C713 30 06
    inc <$F5     ; C715 E6 F5
    bne .L_C726   ; C717 D0 0D
    beq .L_C71F   ; C719 F0 04
.L_C71B:
  dec <$F5     ; C71B C6 F5
    bne .L_C726   ; C71D D0 07
.L_C71F:
  lda <$F6     ; C71F A5 F6
    clc             ; C721 18
    adc #$A0    ; C722 69 A0
    sta <$F6     ; C724 85 F6
.L_C726:
  ldx <$F5     ; C726 A6 F5
    lda .L_FE00,x ; C728 BD 00 FE
    rts             ; C72B 60
; ----------------------------------------------------------------------------
; bank $3e
floor.getObjectEventPtr:
    asl a       ; C72C 0A
    tay             ; C72D A8
    ldx #$86    ; C72E A2 86
    bcc .L_C733   ; C730 90 01
    inx             ; C732 E8
.L_C733:
  stx <$81     ; C733 86 81
    lda #$00    ; C735 A9 00
    sta .L_0080   ; C737 85 80
    lda #$2C    ; C739 A9 2C
    jsr call_switchFirst2Banks      ; C73B 20 03 FF
    lda (.L_0080),y                   ; C73E B1 80
    sta <$72     ; C740 85 72
    iny             ; C742 C8
    lda (.L_0080),y                   ; C743 B1 80
    sta <$73     ; C745 85 73
    lda #$01    ; C747 A9 01
    sta <$6C     ; C749 85 6C
    lda #$00    ; C74B A9 00
    sta <$17     ; C74D 85 17
    rts             ; C74F 60
; ----------------------------------------------------------------------------
; bank $3e
field.call_sound_driver:
    lda #$36    ; C750 A9 36
    jsr call_switchFirst2Banks      ; C752 20 03 FF
    jmp .L_8003   ; C755 4C 03 80
; ----------------------------------------------------------------------------
; bank $3e
field.call_sound_driver_and_restore_banks:
    lda #$36    ; C758 A9 36
    jsr call_switchFirst2Banks      ; C75A 20 03 FF
    jsr .L_8003   ; C75D 20 03 80
    lda <$57     ; C760 A5 57
    jmp call_switchFirst2Banks      ; C762 4C 03 FF
; ----------------------------------------------------------------------------
.L_C765:
  lda <$27     ; C765 A5 27
    clc             ; C767 18
    adc #$07    ; C768 69 07
    sta .L_0080   ; C76A 85 80
    lda <$2F     ; C76C A5 2F
    clc             ; C76E 18
    adc #$07    ; C76F 69 07
    cmp #$0F    ; C771 C9 0F
    bcc .L_C777   ; C773 90 02
    sbc #$0F    ; C775 E9 0F
.L_C777:
  ora #$70    ; C777 09 70
    sta <$81     ; C779 85 81
    ldy #$00    ; C77B A0 00
    lda (.L_0080),y                   ; C77D B1 80
    tay             ; C77F A8
    asl a       ; C780 0A
    tax             ; C781 AA
    lda $0400,x ; C782 BD 00 04
    rts             ; C785 60
; ----------------------------------------------------------------------------
.L_C786:
  and #$02    ; C786 29 02
    bne .L_C7A4   ; C788 D0 1A
    lda #$AD    ; C78A A9 AD
    sta $7F49   ; C78C 8D 49 7F
    jsr .L_D6A7   ; C78F 20 A7 D6
    lda #$03    ; C792 A9 03
.L_C794:
  sta <$7B     ; C794 85 7B
    lda <$27     ; C796 A5 27
    sta <$79     ; C798 85 79
    lda <$28     ; C79A A5 28
    sta <$7A     ; C79C 85 7A
    lda #$C0    ; C79E A9 C0
    sta <$7E     ; C7A0 85 7E
    sta <$44     ; C7A2 85 44
.L_C7A4:
  rts             ; C7A4 60
; ----------------------------------------------------------------------------
.L_C7A5:
  lda <$27     ; C7A5 A5 27
    clc             ; C7A7 18
    adc #$07    ; C7A8 69 07
    sta <$82     ; C7AA 85 82
    sta .L_0080   ; C7AC 85 80
    lda <$28     ; C7AE A5 28
    clc             ; C7B0 18
    adc #$07    ; C7B1 69 07
    sta <$83     ; C7B3 85 83
    lda <$2F     ; C7B5 A5 2F
    clc             ; C7B7 18
    adc #$07    ; C7B8 69 07
    cmp #$0F    ; C7BA C9 0F
    bcc .L_C7C0   ; C7BC 90 02
    sbc #$0F    ; C7BE E9 0F
.L_C7C0:
  ora #$70    ; C7C0 09 70
    sta <$81     ; C7C2 85 81
    ldy #$00    ; C7C4 A0 00
    lda (.L_0080),y                   ; C7C6 B1 80
    asl a       ; C7C8 0A
    tax             ; C7C9 AA
    lda $0400,x ; C7CA BD 00 04
    ldy <$78     ; C7CD A4 78
    cpy #$04    ; C7CF C0 04
    bcs .L_C786   ; C7D1 B0 B3
    ldy <$42     ; C7D3 A4 42
    and .L_C851,y ; C7D5 39 51 C8
    beq .L_C7FA   ; C7D8 F0 20
    lda <$78     ; C7DA A5 78
    cmp #$03    ; C7DC C9 03
    bne .L_C7F6   ; C7DE D0 16
    cpx #$3C    ; C7E0 E0 3C
    bne .L_C7F6   ; C7E2 D0 12
    lda $6020   ; C7E4 AD 20 60
    bpl .L_C7F6   ; C7E7 10 0D
    lda #$A9    ; C7E9 A9 A9
    sta $7F49   ; C7EB 8D 49 7F
    jsr .L_D6F2   ; C7EE 20 F2 D6
    lda #$04    ; C7F1 A9 04
    jmp .L_C794   ; C7F3 4C 94 C7
; ----------------------------------------------------------------------------
.L_C7F6:
  sec             ; C7F6 38
    jmp .L_D710   ; C7F7 4C 10 D7
; ----------------------------------------------------------------------------
.L_C7FA:
  ldx <$82     ; C7FA A6 82
    ldy <$83     ; C7FC A4 83
    lda <$42     ; C7FE A5 42
    cmp #$04    ; C800 C9 04
    bne .L_C819   ; C802 D0 15
    stx $6001   ; C804 8E 01 60
    sty $6002   ; C807 8C 02 60
    lda <$78     ; C80A A5 78
    sta $6003   ; C80C 8D 03 60
    lda #$D3    ; C80F A9 D3
    sta $7F49   ; C811 8D 49 7F
    lda #$03    ; C814 A9 03
    jmp .L_C83D   ; C816 4C 3D C8
; ----------------------------------------------------------------------------
.L_C819:
  cmp #$05    ; C819 C9 05
    bne .L_C82B   ; C81B D0 0E
    stx $6001   ; C81D 8E 01 60
    sty $6002   ; C820 8C 02 60
    lda #$A4    ; C823 A9 A4
    sta $7F49   ; C825 8D 49 7F
    jmp .L_C83B   ; C828 4C 3B C8
; ----------------------------------------------------------------------------
.L_C82B:
  stx $6001   ; C82B 8E 01 60
    sty $6002   ; C82E 8C 02 60
    lda <$78     ; C831 A5 78
    sta $6003   ; C833 8D 03 60
    lda #$A4    ; C836 A9 A4
    sta $7F49   ; C838 8D 49 7F
.L_C83B:
  lda #$00    ; C83B A9 00
.L_C83D:
  pha             ; C83D 48
    clc             ; C83E 18
    jsr .L_D710   ; C83F 20 10 D7
    pla             ; C842 68
    sta <$46     ; C843 85 46
    sta <$42     ; C845 85 42
    lda #$00    ; C847 A9 00
    sta <$43     ; C849 85 43
    jsr .L_C93A   ; C84B 20 3A C9
    jmp .L_C8F7   ; C84E 4C F7 C8
; ----------------------------------------------------------------------------
.L_C851:
  brk             ; C851 00
    brk             ; C852 00
    brk             ; C853 00
    brk             ; C854 00
    tsb <$08     ; C855 04 08
    php             ; C857 08
    php             ; C858 08
.L_C859:
  lda <$FF     ; C859 A5 FF
    sta $2000   ; C85B 8D 00 20
    lda #$00    ; C85E A9 00
    sta $2001   ; C860 8D 01 20
    lda #$00    ; C863 A9 00
    sta <$4E     ; C865 85 4E
    sta <$2F     ; C867 85 2F
    sta <$44     ; C869 85 44
    sta <$45     ; C86B 85 45
    sta <$0D     ; C86D 85 0D
    sta <$50     ; C86F 85 50
    sta <$24     ; C871 85 24
    sta <$25     ; C873 85 25
    sta <$23     ; C875 85 23
    sta <$22     ; C877 85 22
    sta <$2D     ; C879 85 2D
    jsr .L_DD1E   ; C87B 20 1E DD
    lda #$3A    ; C87E A9 3A
    jsr call_switch1stBank          ; C880 20 06 FF
    jsr .L_8506   ; C883 20 06 85
    jsr .L_8509   ; C886 20 09 85
    jsr .L_CA25   ; C889 20 25 CA
    lda <$27     ; C88C A5 27
    and #$10    ; C88E 29 10
    cmp #$10    ; C890 C9 10
    rol a       ; C892 2A
    and #$01    ; C893 29 01
    ora #$88    ; C895 09 88
    sta <$FD     ; C897 85 FD
    sta <$FF     ; C899 85 FF
    jsr thunk_await_nmi_by_set_handler  ; C89B 20 00 FF
    jsr .L_D308   ; C89E 20 08 D3
    jsr field_setScroll             ; C8A1 20 98 C3
    lda #$00    ; C8A4 A9 00
    sta $2001   ; C8A6 8D 01 20
    jsr .L_C93A   ; C8A9 20 3A C9
    lda <$B0     ; C8AC A5 B0
    and #$7F    ; C8AE 29 7F
    sta <$B0     ; C8B0 85 B0
    lda $6000   ; C8B2 AD 00 60
    bpl .L_C8C8   ; C8B5 10 11
    lda #$01    ; C8B7 A9 01
    sta $6000   ; C8B9 8D 00 60
    lda $623C   ; C8BC AD 3C 62
    sta $6001   ; C8BF 8D 01 60
    lda $623D   ; C8C2 AD 3D 62
    sta $6002   ; C8C5 8D 02 60
.L_C8C8:
  ldx #$00    ; C8C8 A2 00
    lda #$00    ; C8CA A9 00
.L_C8CC:
  sta $0110,x ; C8CC 9D 10 01
    inx             ; C8CF E8
    cpx #$60    ; C8D0 E0 60
    bcc .L_C8CC   ; C8D2 90 F8
    lda #$8D    ; C8D4 A9 8D
    sta <$6D     ; C8D6 85 6D
    lda #$8E    ; C8D8 A9 8E
    sta <$6E     ; C8DA 85 6E
    lda #$04    ; C8DC A9 04
    sta <$33     ; C8DE 85 33
    jsr .L_C8F7   ; C8E0 20 F7 C8
    jmp switchToBank3C              ; C8E3 4C 8A C9
; ----------------------------------------------------------------------------
.L_C8E6:
  lda <$33     ; C8E6 A5 33
    pha             ; C8E8 48
    jsr .L_C859   ; C8E9 20 59 C8
    pla             ; C8EC 68
    sta <$33     ; C8ED 85 33
    lda #$01    ; C8EF A9 01
    jsr .L_D469   ; C8F1 20 69 D4
    jmp .L_C108   ; C8F4 4C 08 C1
; ----------------------------------------------------------------------------
.L_C8F7:
  jsr switchToBank3C              ; C8F7 20 8A C9
    jmp .L_B627   ; C8FA 4C 27 B6
; ----------------------------------------------------------------------------
.L_C8FD:
  lda #$3B    ; C8FD A9 3B
    jsr call_switch2ndBank          ; C8FF 20 09 FF
    ldx #$03    ; C902 A2 03
    jmp .L_A003   ; C904 4C 03 A0
; ----------------------------------------------------------------------------
.L_C907:
  lda #$3B    ; C907 A9 3B
    jsr call_switch2ndBank          ; C909 20 09 FF
    ldx #$04    ; C90C A2 04
    jmp .L_A003   ; C90E 4C 03 A0
; ----------------------------------------------------------------------------
.L_C911:
  lda <$44     ; C911 A5 44
    and #$7F    ; C913 29 7F
    sta <$44     ; C915 85 44
    lda <$6C     ; C917 A5 6C
    bne .L_C938   ; C919 D0 1D
    ldx #$3F    ; C91B A2 3F
.L_C91D:
  lda $7B00,x ; C91D BD 00 7B
    sta $0780,x ; C920 9D 80 07
    dex             ; C923 CA
    bpl .L_C91D   ; C924 10 F7
    lda <$45     ; C926 A5 45
    and #$7F    ; C928 29 7F
    jsr .L_E6C6   ; C92A 20 C6 E6
    ldx #$3F    ; C92D A2 3F
.L_C92F:
  lda $0780,x ; C92F BD 80 07
    sta $7B00,x ; C932 9D 00 7B
    dex             ; C935 CA
    bpl .L_C92F   ; C936 10 F7
.L_C938:
  clc             ; C938 18
    rts             ; C939 60
; ----------------------------------------------------------------------------
.L_C93A:
  lda #$3B    ; C93A A9 3B
    jsr call_switch2ndBank          ; C93C 20 09 FF
    jmp .L_A006   ; C93F 4C 06 A0
; ----------------------------------------------------------------------------
.L_C942:
  lda $6004   ; C942 AD 04 60
    beq .L_C965   ; C945 F0 1E
    lda <$78     ; C947 A5 78
    cmp $6007   ; C949 CD 07 60
    bne .L_C965   ; C94C D0 17
    lda <$27     ; C94E A5 27
    clc             ; C950 18
    adc #$07    ; C951 69 07
    cmp $6005   ; C953 CD 05 60
    bne .L_C965   ; C956 D0 0D
    lda <$28     ; C958 A5 28
    clc             ; C95A 18
    adc #$07    ; C95B 69 07
    cmp $6006   ; C95D CD 06 60
    bne .L_C965   ; C960 D0 03
    jmp .L_C292   ; C962 4C 92 C2
; ----------------------------------------------------------------------------
.L_C965:
  rts             ; C965 60
; ----------------------------------------------------------------------------
; bank $3e
dive_into_float_land:
    lda <$82     ; C966 A5 82
    cmp #$20    ; C968 C9 20
    bne .L_C987   ; C96A D0 1B
    lda <$83     ; C96C A5 83
    cmp #$E0    ; C96E C9 E0
    bne .L_C987   ; C970 D0 15
    lda #$00    ; C972 A9 00
    sta <$7B     ; C974 85 7B
    lda $600C   ; C976 AD 0C 60
    sta <$79     ; C979 85 79
    lda $600D   ; C97B AD 0D 60
    sta <$7A     ; C97E 85 7A
    lda #$C0    ; C980 A9 C0
    sta <$7E     ; C982 85 7E
    sta <$44     ; C984 85 44
    rts             ; C986 60
; ----------------------------------------------------------------------------
.L_C987:
  jmp .L_C4EF   ; C987 4C EF C4
; ----------------------------------------------------------------------------
; bank $3e
switchToBank3C:
    lda #$3C    ; C98A A9 3C
    jmp call_switchFirst2Banks      ; C98C 4C 03 FF
; ----------------------------------------------------------------------------
; bank $3e
field.update_window_attr_buff:
    lda <$37     ; C98F A5 37
    bne .L_C9B5   ; C991 D0 22
    lda <$38     ; C993 A5 38
    lsr a       ; C995 4A
    sta <$31     ; C996 85 31
    lda <$3B     ; C998 A5 3B
    lsr a       ; C99A 4A
    sta <$30     ; C99B 85 30
    lda <$3C     ; C99D A5 3C
    lsr a       ; C99F 4A
    sta <$86     ; C9A0 85 86
    lda #$01    ; C9A2 A9 01
    sta <$2D     ; C9A4 85 2D
    jmp field.merge_bg_attributes_with_buffer; C9A6 4C B1 CA
; ----------------------------------------------------------------------------
; bank $3e
field.set_bg_attr_for_window:
    lda <$37     ; C9A9 A5 37
    bne .L_C9B5   ; C9AB D0 08
    lda <$3C     ; C9AD A5 3C
    lsr a       ; C9AF 4A
    tax             ; C9B0 AA
    dex             ; C9B1 CA
    jmp field.copyToVramWith_07d0   ; C9B2 4C 6B CB
; ----------------------------------------------------------------------------
.L_C9B5:
  rts             ; C9B5 60
; ----------------------------------------------------------------------------
.L_C9B6:
  jsr field.show_sprites_on_lower_half_screen; C9B6 20 0C EC
    lda #$05    ; C9B9 A9 05
    sta <$66     ; C9BB 85 66
    ldx #$06    ; C9BD A2 06
    bne .L_C9CA   ; C9BF D0 09
    jsr field.show_sprites_on_region7   ; C9C1 20 12 EC
    lda #$07    ; C9C4 A9 07
    sta <$66     ; C9C6 85 66
    ldx #$0E    ; C9C8 A2 0E
.L_C9CA:
  lda <$2F     ; C9CA A5 2F
    sta <$67     ; C9CC 85 67
    txa             ; C9CE 8A
    clc             ; C9CF 18
    adc <$2F     ; C9D0 65 2F
    cmp #$0F    ; C9D2 C9 0F
    bcc .L_C9D8   ; C9D4 90 02
    sbc #$0F    ; C9D6 E9 0F
.L_C9D8:
  sta <$2F     ; C9D8 85 2F
    lda <$69     ; C9DA A5 69
    pha             ; C9DC 48
    lda <$2A     ; C9DD A5 2A
    pha             ; C9DF 48
    txa             ; C9E0 8A
    clc             ; C9E1 18
    adc <$2A     ; C9E2 65 2A
    and #$3F    ; C9E4 29 3F
    sta <$2A     ; C9E6 85 2A
    lda <$33     ; C9E8 A5 33
    pha             ; C9EA 48
    lda #$08    ; C9EB A9 08
    sta <$33     ; C9ED 85 33
.L_C9EF:
  jsr .L_CA67   ; C9EF 20 67 CA
    jsr thunk_await_nmi_by_set_handler  ; C9F2 20 00 FF
    jsr .L_CA79   ; C9F5 20 79 CA
    lda <$2F     ; C9F8 A5 2F
    pha             ; C9FA 48
    lda <$67     ; C9FB A5 67
    sta <$2F     ; C9FD 85 2F
    jsr .L_E571   ; C9FF 20 71 E5
    pla             ; CA02 68
    sta <$2F     ; CA03 85 2F
    jsr field.call_sound_driver     ; CA05 20 50 C7
    jsr .L_CA89   ; CA08 20 89 CA
    dec <$66     ; CA0B C6 66
    bne .L_C9EF   ; CA0D D0 E0
    lda <$67     ; CA0F A5 67
    sta <$2F     ; CA11 85 2F
    pla             ; CA13 68
    sta <$33     ; CA14 85 33
    pla             ; CA16 68
    sta <$2A     ; CA17 85 2A
    pla             ; CA19 68
    sta <$69     ; CA1A 85 69
    lda #$00    ; CA1C A9 00
    sta <$34     ; CA1E 85 34
    lda <$57     ; CA20 A5 57
    jmp call_switchFirst2Banks      ; CA22 4C 03 FF
; ----------------------------------------------------------------------------
.L_CA25:
  lda #$00    ; CA25 A9 00
    sta <$2F     ; CA27 85 2F
    lda <$2D     ; CA29 A5 2D
    lsr a       ; CA2B 4A
    bcs .L_CA38   ; CA2C B0 0A
    lda <$28     ; CA2E A5 28
    clc             ; CA30 18
    adc #$0F    ; CA31 69 0F
    sta <$28     ; CA33 85 28
    jmp .L_CA41   ; CA35 4C 41 CA
; ----------------------------------------------------------------------------
.L_CA38:
  lda <$2A     ; CA38 A5 2A
    clc             ; CA3A 18
    adc #$0F    ; CA3B 69 0F
    and #$3F    ; CA3D 29 3F
    sta <$2A     ; CA3F 85 2A
.L_CA41:
  lda #$08    ; CA41 A9 08
    sta <$33     ; CA43 85 33
.L_CA45:
  jsr .L_CA67   ; CA45 20 67 CA
    jsr .L_CA79   ; CA48 20 79 CA
    jsr .L_CA89   ; CA4B 20 89 CA
    lda <$2F     ; CA4E A5 2F
    beq .L_CA5E   ; CA50 F0 0C
    and #$03    ; CA52 29 03
    eor #$03    ; CA54 49 03
    bne .L_CA45   ; CA56 D0 ED
    jsr field.call_sound_driver     ; CA58 20 50 C7
    jmp .L_CA45   ; CA5B 4C 45 CA
; ----------------------------------------------------------------------------
.L_CA5E:
  lda #$00    ; CA5E A9 00
    sta <$33     ; CA60 85 33
    sta <$32     ; CA62 85 32
    sta <$34     ; CA64 85 34
    rts             ; CA66 60
; ----------------------------------------------------------------------------
.L_CA67:
  lda <$2D     ; CA67 A5 2D
    lsr a       ; CA69 4A
    bcc .L_CA72   ; CA6A 90 06
    jsr .L_CDA3   ; CA6C 20 A3 CD
    jmp .L_CA75   ; CA6F 4C 75 CA
; ----------------------------------------------------------------------------
.L_CA72:
  jsr .L_CCFB   ; CA72 20 FB CC
.L_CA75:
  jsr .L_CAAD   ; CA75 20 AD CA
    rts             ; CA78 60
; ----------------------------------------------------------------------------
.L_CA79:
  lda #$3B    ; CA79 A9 3B
    jsr call_switch2ndBank          ; CA7B 20 09 FF
    jsr .L_BE00   ; CA7E 20 00 BE
    jsr .L_CB61   ; CA81 20 61 CB
    lda #$00    ; CA84 A9 00
    sta <$32     ; CA86 85 32
    rts             ; CA88 60
; ----------------------------------------------------------------------------
.L_CA89:
  lda <$2D     ; CA89 A5 2D
    lsr a       ; CA8B 4A
    bcc .L_CA9A   ; CA8C 90 0C
    lda <$2A     ; CA8E A5 2A
    sec             ; CA90 38
    sbc #$01    ; CA91 E9 01
    and #$3F    ; CA93 29 3F
    sta <$2A     ; CA95 85 2A
    jmp .L_CAA1   ; CA97 4C A1 CA
; ----------------------------------------------------------------------------
.L_CA9A:
  lda <$28     ; CA9A A5 28
    sec             ; CA9C 38
    sbc #$01    ; CA9D E9 01
    sta <$28     ; CA9F 85 28
.L_CAA1:
  lda <$2F     ; CAA1 A5 2F
    sec             ; CAA3 38
    sbc #$01    ; CAA4 E9 01
    bcs .L_CAAA   ; CAA6 B0 02
    adc #$0F    ; CAA8 69 0F
.L_CAAA:
  sta <$2F     ; CAAA 85 2F
    rts             ; CAAC 60
; ----------------------------------------------------------------------------
.L_CAAD:
  lda #$10    ; CAAD A9 10
    sta <$86     ; CAAF 85 86
; bank $3e
field.merge_bg_attributes_with_buffer:
    lda <$31     ; CAB1 A5 31
    pha             ; CAB3 48
    lda <$30     ; CAB4 A5 30
    pha             ; CAB6 48
    ldy #$00    ; CAB7 A0 00
.L_CAB9:
  lda <$30     ; CAB9 A5 30
    ldx #$0F    ; CABB A2 0F
    lsr a       ; CABD 4A
    bcc .L_CAC2   ; CABE 90 02
    ldx #$F0    ; CAC0 A2 F0
.L_CAC2:
  asl a       ; CAC2 0A
    asl a       ; CAC3 0A
    asl a       ; CAC4 0A
    sta .L_0080   ; CAC5 85 80
    stx <$81     ; CAC7 86 81
    lda <$31     ; CAC9 A5 31
    ldx #$23    ; CACB A2 23
    cmp #$10    ; CACD C9 10
    bcc .L_CAD5   ; CACF 90 04
    and #$0F    ; CAD1 29 0F
    ldx #$27    ; CAD3 A2 27
.L_CAD5:
  stx <$82     ; CAD5 86 82
    ldx #$33    ; CAD7 A2 33
    lsr a       ; CAD9 4A
    bcc .L_CADE   ; CADA 90 02
    ldx #$CC    ; CADC A2 CC
.L_CADE:
  ora .L_0080   ; CADE 05 80
    sta .L_0080   ; CAE0 85 80
    txa             ; CAE2 8A
    and <$81     ; CAE3 25 81
    sta <$81     ; CAE5 85 81
    lda <$82     ; CAE7 A5 82
    sta $07D0,y ; CAE9 99 D0 07
    lda .L_0080   ; CAEC A5 80
    ora #$C0    ; CAEE 09 C0
    sta $07E0,y ; CAF0 99 E0 07
    lda <$81     ; CAF3 A5 81
    sta $07F0,y ; CAF5 99 F0 07
    lda <$2D     ; CAF8 A5 2D
    and #$02    ; CAFA 29 02
    bne .L_CB0F   ; CAFC D0 11
    lda <$31     ; CAFE A5 31
    clc             ; CB00 18
    adc #$01    ; CB01 69 01
    and #$1F    ; CB03 29 1F
    sta <$31     ; CB05 85 31
    iny             ; CB07 C8
    cpy <$86     ; CB08 C4 86
    bcs .L_CB24   ; CB0A B0 18
    jmp .L_CAB9   ; CB0C 4C B9 CA
; ----------------------------------------------------------------------------
.L_CB0F:
  lda <$30     ; CB0F A5 30
    clc             ; CB11 18
    adc #$01    ; CB12 69 01
    cmp #$0F    ; CB14 C9 0F
    bcc .L_CB1A   ; CB16 90 02
    sbc #$0F    ; CB18 E9 0F
.L_CB1A:
  sta <$30     ; CB1A 85 30
    iny             ; CB1C C8
    cpy #$0F    ; CB1D C0 0F
    bcs .L_CB24   ; CB1F B0 03
    jmp .L_CAB9   ; CB21 4C B9 CA
; ----------------------------------------------------------------------------
.L_CB24:
  pla             ; CB24 68
    sta <$30     ; CB25 85 30
    pla             ; CB27 68
    sta <$31     ; CB28 85 31
    ldx <$86     ; CB2A A6 86
    dex             ; CB2C CA
    lda <$2D     ; CB2D A5 2D
    and #$02    ; CB2F 29 02
    beq .L_CB34   ; CB31 F0 01
    dex             ; CB33 CA
.L_CB34:
  lda $07D0,x ; CB34 BD D0 07
    and #$04    ; CB37 29 04
    bne .L_CB43   ; CB39 D0 08
    lda $07E0,x ; CB3B BD E0 07
    and #$3F    ; CB3E 29 3F
    jmp .L_CB4A   ; CB40 4C 4A CB
; ----------------------------------------------------------------------------
.L_CB43:
  lda $07E0,x ; CB43 BD E0 07
    and #$3F    ; CB46 29 3F
.L_CB48:
  ora #$40    ; CB48 09 40
.L_CB4A:
  tay             ; CB4A A8
    .byte   <$B9     ; CB4B B9
.L_CB4C:
  brk             ; CB4C 00
    .byte   <$03     ; CB4D 03
    .byte   <$5D     ; CB4E 5D
    .byte   <$C0     ; CB4F C0
.L_CB50:
  rmb0    <$3D     ; CB50 07
    and $07F0,x ; CB51 3D F0 07
.L_CB54:
  eor $0300,y ; CB54 59 00 03
    sta $0300,y ; CB57 99 00 03
    sta $07F0,x ; CB5A 9D F0 07
    dex             ; CB5D CA
    bpl .L_CB34   ; CB5E 10 D4
    rts             ; CB60 60
; ----------------------------------------------------------------------------
.L_CB61:
  lda <$2D     ; CB61 A5 2D
    ldx #$0F    ; CB63 A2 0F
    and #$02    ; CB65 29 02
    beq field.copyToVramWith_07d0   ; CB67 F0 02
    ldx #$0E    ; CB69 A2 0E
; bank $3e
field.copyToVramWith_07d0:
    lda $2002   ; CB6B AD 02 20
.L_CB6E:
  lda $07D0,x ; CB6E BD D0 07
    sta $2006   ; CB71 8D 06 20
    lda $07E0,x ; CB74 BD E0 07
    sta $2006   ; CB77 8D 06 20
    lda $07F0,x ; CB7A BD F0 07
    sta $2007   ; CB7D 8D 07 20
    dex             ; CB80 CA
    bpl .L_CB6E   ; CB81 10 EB
    rts             ; CB83 60
; ----------------------------------------------------------------------------
.L_CB84:
  brk             ; CB84 00
    rti             ; CB85 40
; ----------------------------------------------------------------------------
    bra .L_CB48   ; CB86 80 C0
    brk             ; CB88 00
    rti             ; CB89 40
; ----------------------------------------------------------------------------
    bra .L_CB4C   ; CB8A 80 C0
    brk             ; CB8C 00
    rti             ; CB8D 40
; ----------------------------------------------------------------------------
    bra .L_CB50   ; CB8E 80 C0
    brk             ; CB90 00
    rti             ; CB91 40
; ----------------------------------------------------------------------------
    bra .L_CB54   ; CB92 80 C0
.L_CB94:
  jsr .L_2020   ; CB94 20 20 20
    jsr .L_2121   ; CB97 20 21 21
    and ($21,x) ; CB9A 21 21
    .byte   <$22     ; CB9C 22
    .byte   <$22     ; CB9D 22
    .byte   <$22     ; CB9E 22
    .byte   <$22     ; CB9F 22
    .byte   <$23     ; CBA0 23
    .byte   <$23     ; CBA1 23
    .byte   <$23     ; CBA2 23
    .byte   <$23     ; CBA3 23
; bank $3e
field.loadWarpDestinationFloor:
    lda #$00    ; CBA4 A9 00
    jsr call_switch1stBank          ; CBA6 20 06 FF
    ldx <$48     ; CBA9 A6 48
    lda <$78     ; CBAB A5 78
    cmp #$02    ; CBAD C9 02
    lda $8A00,x ; CBAF BD 00 8A
    bcc .L_CBB7   ; CBB2 90 03
    lda $8B00,x ; CBB4 BD 00 8B
.L_CBB7:
  tay             ; CBB7 A8
    lda #$11    ; CBB8 A9 11
    jsr call_switch1stBank          ; CBBA 20 06 FF
    ldx #$80    ; CBBD A2 80
    tya             ; CBBF 98
    asl a       ; CBC0 0A
    bcc .L_CBC4   ; CBC1 90 01
    inx             ; CBC3 E8
.L_CBC4:
  stx <$87     ; CBC4 86 87
    tay             ; CBC6 A8
    lda #$00    ; CBC7 A9 00
    sta <$86     ; CBC9 85 86
    lda [$86],y ; CBCB B1 86
    sta .L_0080   ; CBCD 85 80
    iny             ; CBCF C8
    lda [$86],y ; CBD0 B1 86
    pha             ; CBD2 48
    .byte   <$29     ; CBD3 29
.L_CBD4:
  bbr1    $09,$09 ; CBD4 1F 09 80
    sta <$81     ; CBD7 85 81
    pla             ; CBD9 68
    lsr a       ; CBDA 4A
    lsr a       ; CBDB 4A
    lsr a       ; CBDC 4A
    lsr a       ; CBDD 4A
    lsr a       ; CBDE 4A
    clc             ; CBDF 18
    adc #$11    ; CBE0 69 11
    jsr call_switchFirst2Banks      ; CBE2 20 03 FF
    lda #$00    ; CBE5 A9 00
    sta <$82     ; CBE7 85 82
    lda #$74    ; CBE9 A9 74
    sta <$83     ; CBEB 85 83
    ldy #$00    ; CBED A0 00
    jsr loadFloorData               ; CBEF 20 FA CB
    lda #$3A    ; CBF2 A9 3A
    jsr call_switch1stBank          ; CBF4 20 06 FF
    jmp .L_8503   ; CBF7 4C 03 85
; ----------------------------------------------------------------------------
; bank $3e
loadFloorData:
    lda (.L_0080),y                   ; CBFA B1 80
    bpl .L_CC2A   ; CBFC 10 2C
    and #$7F    ; CBFE 29 7F
    sta <$84     ; CC00 85 84
    inc .L_0080   ; CC02 E6 80
    bne .L_CC08   ; CC04 D0 02
    inc <$81     ; CC06 E6 81
.L_CC08:
  lda (.L_0080),y                   ; CC08 B1 80
    tax             ; CC0A AA
    lda <$84     ; CC0B A5 84
.L_CC0D:
  sta [$82],y ; CC0D 91 82
    iny             ; CC0F C8
    dex             ; CC10 CA
    bne .L_CC0D   ; CC11 D0 FA
    tya             ; CC13 98
    beq .L_CC1F   ; CC14 F0 09
    ldy #$00    ; CC16 A0 00
    clc             ; CC18 18
    adc <$82     ; CC19 65 82
    sta <$82     ; CC1B 85 82
    bcc .L_CC38   ; CC1D 90 19
.L_CC1F:
  inc <$83     ; CC1F E6 83
    lda <$83     ; CC21 A5 83
    cmp #$78    ; CC23 C9 78
    bcs .L_CC41   ; CC25 B0 1A
    jmp .L_CC38   ; CC27 4C 38 CC
; ----------------------------------------------------------------------------
.L_CC2A:
  sta [$82],y ; CC2A 91 82
    inc <$82     ; CC2C E6 82
    bne .L_CC38   ; CC2E D0 08
    inc <$83     ; CC30 E6 83
    lda <$83     ; CC32 A5 83
    cmp #$78    ; CC34 C9 78
    bcs .L_CC41   ; CC36 B0 09
.L_CC38:
  inc .L_0080   ; CC38 E6 80
    bne loadFloorData               ; CC3A D0 BE
    inc <$81     ; CC3C E6 81
    jmp loadFloorData               ; CC3E 4C FA CB
; ----------------------------------------------------------------------------
.L_CC41:
  rts             ; CC41 60
; ----------------------------------------------------------------------------
.L_CC42:
  bcc .L_CBD4   ; CC42 90 90
    sta ($94)   ; CC44 92 94
    .byte   <$96     ; CC46 96
; bank $3e
field.loadMapRow:
    jsr field.getMapDataPointers    ; CC47 20 BB CC
    ldy #$00    ; CC4A A0 00
.L_CC4C:
  lda (.L_0080),y                   ; CC4C B1 80
    bpl .L_CC73   ; CC4E 10 23
    and #$7F    ; CC50 29 7F
    sta <$84     ; CC52 85 84
    inc .L_0080   ; CC54 E6 80
    bne .L_CC5A   ; CC56 D0 02
    inc <$81     ; CC58 E6 81
.L_CC5A:
  lda (.L_0080),y                   ; CC5A B1 80
    tax             ; CC5C AA
    lda <$84     ; CC5D A5 84
.L_CC5F:
  sta [$82],y ; CC5F 91 82
    iny             ; CC61 C8
    dex             ; CC62 CA
    bne .L_CC5F   ; CC63 D0 FA
    tya             ; CC65 98
    beq .L_CC82   ; CC66 F0 1A
    ldy #$00    ; CC68 A0 00
    clc             ; CC6A 18
    adc <$82     ; CC6B 65 82
    sta <$82     ; CC6D 85 82
    bcc .L_CC79   ; CC6F 90 08
    bcs .L_CC82   ; CC71 B0 0F
.L_CC73:
  sta [$82],y ; CC73 91 82
    inc <$82     ; CC75 E6 82
    beq .L_CC82   ; CC77 F0 09
.L_CC79:
  inc .L_0080   ; CC79 E6 80
    bne .L_CC4C   ; CC7B D0 CF
    inc <$81     ; CC7D E6 81
    jmp .L_CC4C   ; CC7F 4C 4C CC
; ----------------------------------------------------------------------------
.L_CC82:
  rts             ; CC82 60
; ----------------------------------------------------------------------------
.L_CC83:
  jsr field.getMapDataPointers    ; CC83 20 BB CC
    ldy #$00    ; CC86 A0 00
    ldx #$00    ; CC88 A2 00
.L_CC8A:
  lda (.L_0080),y                   ; CC8A B1 80
    bpl .L_CCA7   ; CC8C 10 19
    and #$7F    ; CC8E 29 7F
    sta <$82     ; CC90 85 82
    inc .L_0080   ; CC92 E6 80
    bne .L_CC98   ; CC94 D0 02
    inc <$81     ; CC96 E6 81
.L_CC98:
  lda (.L_0080),y                   ; CC98 B1 80
    tay             ; CC9A A8
    lda <$82     ; CC9B A5 82
    dey             ; CC9D 88
    beq .L_CCA7   ; CC9E F0 07
.L_CCA0:
  sta $0600,x ; CCA0 9D 00 06
    inx             ; CCA3 E8
    dey             ; CCA4 88
    bne .L_CCA0   ; CCA5 D0 F9
.L_CCA7:
  sta $0600,x ; CCA7 9D 00 06
    inx             ; CCAA E8
    beq .L_CCB6   ; CCAB F0 09
    inc .L_0080   ; CCAD E6 80
    bne .L_CC8A   ; CCAF D0 D9
    inc <$81     ; CCB1 E6 81
    jmp .L_CC8A   ; CCB3 4C 8A CC
; ----------------------------------------------------------------------------
.L_CCB6:
  lda #$3A    ; CCB6 A9 3A
    jmp call_switch1stBank          ; CCB8 4C 06 FF
; ----------------------------------------------------------------------------
; bank $3e
field.getMapDataPointers:
    lda #$06    ; CCBB A9 06
    jsr call_switchFirst2Banks      ; CCBD 20 03 FF
    ldx <$78     ; CCC0 A6 78
    lda .L_CC42,x ; CCC2 BD 42 CC
    sta <$87     ; CCC5 85 87
    lda #$00    ; CCC7 A9 00
    sta <$86     ; CCC9 85 86
    lda <$2C     ; CCCB A5 2C
    asl a       ; CCCD 0A
    bcc .L_CCD2   ; CCCE 90 02
    inc <$87     ; CCD0 E6 87
.L_CCD2:
  tay             ; CCD2 A8
    lda [$86],y ; CCD3 B1 86
    sta .L_0080   ; CCD5 85 80
    iny             ; CCD7 C8
    lda [$86],y ; CCD8 B1 86
    clc             ; CCDA 18
    adc #$10    ; CCDB 69 10
    pha             ; CCDD 48
    and #$1F    ; CCDE 29 1F
    ora #$80    ; CCE0 09 80
    sta <$81     ; CCE2 85 81
    pla             ; CCE4 68
    lsr a       ; CCE5 4A
    lsr a       ; CCE6 4A
    lsr a       ; CCE7 4A
    lsr a       ; CCE8 4A
    lsr a       ; CCE9 4A
    clc             ; CCEA 18
    adc #$06    ; CCEB 69 06
    jsr call_switchFirst2Banks      ; CCED 20 03 FF
    lda <$30     ; CCF0 A5 30
    ora #$70    ; CCF2 09 70
    sta <$83     ; CCF4 85 83
    lda #$00    ; CCF6 A9 00
    sta <$82     ; CCF8 85 82
    rts             ; CCFA 60
; ----------------------------------------------------------------------------
.L_CCFB:
  lda <$33     ; CCFB A5 33
    lsr a       ; CCFD 4A
    bcs .L_CD0A   ; CCFE B0 0A
    lsr a       ; CD00 4A
    bcs .L_CD2F   ; CD01 B0 2C
    lsr a       ; CD03 4A
    bcs .L_CD37   ; CD04 B0 31
    lsr a       ; CD06 4A
    bcs .L_CD4C   ; CD07 B0 43
    rts             ; CD09 60
; ----------------------------------------------------------------------------
.L_CD0A:
  lda <$27     ; CD0A A5 27
    clc             ; CD0C 18
    adc #$10    ; CD0D 69 10
.L_CD0F:
  sta <$2B     ; CD0F 85 2B
    and #$1F    ; CD11 29 1F
    sta <$31     ; CD13 85 31
    lda <$2F     ; CD15 A5 2F
    sta <$30     ; CD17 85 30
    lda <$28     ; CD19 A5 28
    sta <$2C     ; CD1B 85 2C
    lda <$2D     ; CD1D A5 2D
    ora #$02    ; CD1F 09 02
    sta <$2D     ; CD21 85 2D
    jsr .L_CE3D   ; CD23 20 3D CE
.L_CD26:
  lda #$01    ; CD26 A9 01
    sta <$32     ; CD28 85 32
    sta <$34     ; CD2A 85 34
    jmp getVehicleSpeed             ; CD2C 4C 7E CD
; ----------------------------------------------------------------------------
.L_CD2F:
  lda <$27     ; CD2F A5 27
    sec             ; CD31 38
    sbc #$01    ; CD32 E9 01
    jmp .L_CD0F   ; CD34 4C 0F CD
; ----------------------------------------------------------------------------
.L_CD37:
  lda <$28     ; CD37 A5 28
    clc             ; CD39 18
    adc #$0F    ; CD3A 69 0F
    sta <$2C     ; CD3C 85 2C
    lda <$2F     ; CD3E A5 2F
    clc             ; CD40 18
    adc #$0F    ; CD41 69 0F
    cmp #$0F    ; CD43 C9 0F
    bcc .L_CD5D   ; CD45 90 16
    sec             ; CD47 38
    sbc #$0F    ; CD48 E9 0F
    bcs .L_CD5D   ; CD4A B0 11
.L_CD4C:
  lda <$28     ; CD4C A5 28
    sec             ; CD4E 38
    sbc #$01    ; CD4F E9 01
    sta <$2C     ; CD51 85 2C
    lda <$2F     ; CD53 A5 2F
    sec             ; CD55 38
    sbc #$01    ; CD56 E9 01
    bcs .L_CD5D   ; CD58 B0 03
    clc             ; CD5A 18
    adc #$0F    ; CD5B 69 0F
.L_CD5D:
  sta <$30     ; CD5D 85 30
    lda <$27     ; CD5F A5 27
    sta <$2B     ; CD61 85 2B
    and #$1F    ; CD63 29 1F
    sta <$31     ; CD65 85 31
    lda <$2D     ; CD67 A5 2D
    and #$FD    ; CD69 29 FD
    sta <$2D     ; CD6B 85 2D
    jsr field.loadMapRow            ; CD6D 20 47 CC
    jsr .L_CE3D   ; CD70 20 3D CE
    jmp .L_CD26   ; CD73 4C 26 CD
; ----------------------------------------------------------------------------
; bank $3e
vehicleSpeeds:
    ora ($02,x) ; CD76 01 02
    ora ($02,x) ; CD78 01 02
    tsb <$02     ; CD7A 04 02
    php             ; CD7C 08
    .byte   <$02     ; CD7D 02
; bank $3e
getVehicleSpeed:
    lda <$78     ; CD7E A5 78
    cmp #$04    ; CD80 C9 04
    bcc .L_CD88   ; CD82 90 04
    lda #$01    ; CD84 A9 01
    bne .L_CD8D   ; CD86 D0 05
.L_CD88:
  ldx <$42     ; CD88 A6 42
    lda vehicleSpeeds,x             ; CD8A BD 76 CD
.L_CD8D:
  sta <$34     ; CD8D 85 34
    cmp #$08    ; CD8F C9 08
    beq .L_CD98   ; CD91 F0 05
    lda #$00    ; CD93 A9 00
    sta <$4E     ; CD95 85 4E
    rts             ; CD97 60
; ----------------------------------------------------------------------------
.L_CD98:
  lda <$4E     ; CD98 A5 4E
    bne .L_CDA2   ; CD9A D0 06
    inc <$4E     ; CD9C E6 4E
    lda #$04    ; CD9E A9 04
    sta <$34     ; CDA0 85 34
.L_CDA2:
  rts             ; CDA2 60
; ----------------------------------------------------------------------------
.L_CDA3:
  lda <$33     ; CDA3 A5 33
    lsr a       ; CDA5 4A
    bcs .L_CDB2   ; CDA6 B0 0A
    lsr a       ; CDA8 4A
    bcs .L_CDDE   ; CDA9 B0 33
    lsr a       ; CDAB 4A
    bcs .L_CDEF   ; CDAC B0 41
    lsr a       ; CDAE 4A
    bcs .L_CE0D   ; CDAF B0 5C
    rts             ; CDB1 60
; ----------------------------------------------------------------------------
.L_CDB2:
  lda <$29     ; CDB2 A5 29
    clc             ; CDB4 18
    adc #$08    ; CDB5 69 08
    and #$3F    ; CDB7 29 3F
    sta <$68     ; CDB9 85 68
    clc             ; CDBB 18
    adc #$08    ; CDBC 69 08
    and #$3F    ; CDBE 29 3F
.L_CDC0:
  sta <$2B     ; CDC0 85 2B
    and #$1F    ; CDC2 29 1F
    sta <$31     ; CDC4 85 31
    lda <$2F     ; CDC6 A5 2F
    sta <$30     ; CDC8 85 30
    lda <$2A     ; CDCA A5 2A
    sta <$2C     ; CDCC 85 2C
    lda <$2D     ; CDCE A5 2D
    ora #$02    ; CDD0 09 02
    sta <$2D     ; CDD2 85 2D
    jsr .L_CEB4   ; CDD4 20 B4 CE
.L_CDD7:
  lda #$01    ; CDD7 A9 01
    sta <$32     ; CDD9 85 32
    sta <$34     ; CDDB 85 34
    rts             ; CDDD 60
; ----------------------------------------------------------------------------
.L_CDDE:
  lda <$29     ; CDDE A5 29
    clc             ; CDE0 18
    adc #$06    ; CDE1 69 06
    and #$3F    ; CDE3 29 3F
    sta <$68     ; CDE5 85 68
    sec             ; CDE7 38
    sbc #$07    ; CDE8 E9 07
    and #$3F    ; CDEA 29 3F
    jmp .L_CDC0   ; CDEC 4C C0 CD
; ----------------------------------------------------------------------------
.L_CDEF:
  lda <$2A     ; CDEF A5 2A
    clc             ; CDF1 18
    adc #$08    ; CDF2 69 08
    and #$3F    ; CDF4 29 3F
    sta <$69     ; CDF6 85 69
    clc             ; CDF8 18
    adc #$07    ; CDF9 69 07
    and #$3F    ; CDFB 29 3F
    sta <$2C     ; CDFD 85 2C
    lda <$2F     ; CDFF A5 2F
    clc             ; CE01 18
    adc #$0F    ; CE02 69 0F
    cmp #$0F    ; CE04 C9 0F
    bcc .L_CE27   ; CE06 90 1F
    sec             ; CE08 38
    sbc #$0F    ; CE09 E9 0F
    bcs .L_CE27   ; CE0B B0 1A
.L_CE0D:
  lda <$2A     ; CE0D A5 2A
    clc             ; CE0F 18
    adc #$06    ; CE10 69 06
    and #$3F    ; CE12 29 3F
    sta <$69     ; CE14 85 69
    sec             ; CE16 38
    sbc #$07    ; CE17 E9 07
    and #$3F    ; CE19 29 3F
    sta <$2C     ; CE1B 85 2C
    lda <$2F     ; CE1D A5 2F
    sec             ; CE1F 38
    sbc #$01    ; CE20 E9 01
    bcs .L_CE27   ; CE22 B0 03
    clc             ; CE24 18
    adc #$0F    ; CE25 69 0F
.L_CE27:
  sta <$30     ; CE27 85 30
    lda <$29     ; CE29 A5 29
    sta <$2B     ; CE2B 85 2B
    and #$1F    ; CE2D 29 1F
    sta <$31     ; CE2F 85 31
    lda <$2D     ; CE31 A5 2D
    and #$FD    ; CE33 29 FD
    sta <$2D     ; CE35 85 2D
    jsr .L_CEB4   ; CE37 20 B4 CE
    jmp .L_CDD7   ; CE3A 4C D7 CD
; ----------------------------------------------------------------------------
.L_CE3D:
  ldx #$00    ; CE3D A2 00
    lda <$30     ; CE3F A5 30
    ora #$70    ; CE41 09 70
    sta <$81     ; CE43 85 81
    lda <$2B     ; CE45 A5 2B
    sta .L_0080   ; CE47 85 80
    lda <$2D     ; CE49 A5 2D
    and #$02    ; CE4B 29 02
    bne getTileParamsVertical       ; CE4D D0 2B
.L_CE4F:
  ldy #$00    ; CE4F A0 00
    lda (.L_0080),y                   ; CE51 B1 80
    tay             ; CE53 A8
    lda $0500,y ; CE54 B9 00 05
    sta $0780,x ; CE57 9D 80 07
    lda $0580,y ; CE5A B9 80 05
    sta $0790,x ; CE5D 9D 90 07
    lda $0600,y ; CE60 B9 00 06
    sta $07A0,x ; CE63 9D A0 07
    lda $0680,y ; CE66 B9 80 06
    sta $07B0,x ; CE69 9D B0 07
    lda $0700,y ; CE6C B9 00 07
    sta $07C0,x ; CE6F 9D C0 07
    inc .L_0080   ; CE72 E6 80
    inx             ; CE74 E8
    cpx #$10    ; CE75 E0 10
    bcc .L_CE4F   ; CE77 90 D6
    rts             ; CE79 60
; ----------------------------------------------------------------------------
; bank $3e
getTileParamsVertical:
    ldy #$00    ; CE7A A0 00
    lda (.L_0080),y                   ; CE7C B1 80
    tay             ; CE7E A8
    lda $0500,y ; CE7F B9 00 05
    sta $0780,x ; CE82 9D 80 07
    lda $0580,y ; CE85 B9 80 05
    sta $0790,x ; CE88 9D 90 07
    lda $0600,y ; CE8B B9 00 06
    sta $07A0,x ; CE8E 9D A0 07
    lda $0680,y ; CE91 B9 80 06
    sta $07B0,x ; CE94 9D B0 07
    lda $0700,y ; CE97 B9 00 07
    sta $07C0,x ; CE9A 9D C0 07
    lda <$81     ; CE9D A5 81
    clc             ; CE9F 18
    adc #$01    ; CEA0 69 01
    and #$0F    ; CEA2 29 0F
    cmp #$0F    ; CEA4 C9 0F
    bcc .L_CEAA   ; CEA6 90 02
    sbc #$0F    ; CEA8 E9 0F
.L_CEAA:
  ora #$70    ; CEAA 09 70
    sta <$81     ; CEAC 85 81
    inx             ; CEAE E8
    cpx #$10    ; CEAF E0 10
    bcc getTileParamsVertical       ; CEB1 90 C7
    rts             ; CEB3 60
; ----------------------------------------------------------------------------
.L_CEB4:
  ldx #$00    ; CEB4 A2 00
    lda <$2C     ; CEB6 A5 2C
    and #$1F    ; CEB8 29 1F
    lsr a       ; CEBA 4A
    lsr a       ; CEBB 4A
    lsr a       ; CEBC 4A
    ora #$74    ; CEBD 09 74
    sta <$81     ; CEBF 85 81
    lda <$2C     ; CEC1 A5 2C
    asl a       ; CEC3 0A
    asl a       ; CEC4 0A
    asl a       ; CEC5 0A
    asl a       ; CEC6 0A
    asl a       ; CEC7 0A
    sta <$82     ; CEC8 85 82
    lda <$2B     ; CECA A5 2B
    and #$1F    ; CECC 29 1F
    ora <$82     ; CECE 05 82
    sta .L_0080   ; CED0 85 80
    lda <$2D     ; CED2 A5 2D
    and #$02    ; CED4 29 02
    bne .L_CF1B   ; CED6 D0 43
.L_CED8:
  ldy #$00    ; CED8 A0 00
    lda <$2B     ; CEDA A5 2B
    ora <$2C     ; CEDC 05 2C
    and #$20    ; CEDE 29 20
    beq .L_CEE7   ; CEE0 F0 05
    ldy <$4C     ; CEE2 A4 4C
    jmp .L_CEEA   ; CEE4 4C EA CE
; ----------------------------------------------------------------------------
.L_CEE7:
  lda (.L_0080),y                   ; CEE7 B1 80
    tay             ; CEE9 A8
.L_CEEA:
  lda $7C00,y ; CEEA B9 00 7C
    sta $0780,x ; CEED 9D 80 07
    lda $7D00,y ; CEF0 B9 00 7D
    sta $0790,x ; CEF3 9D 90 07
    lda $7E00,y ; CEF6 B9 00 7E
    sta $07A0,x ; CEF9 9D A0 07
    lda $7200,y ; CEFC B9 00 72
    sta $07B0,x ; CEFF 9D B0 07
    lda $0600,y ; CF02 B9 00 06
    sta $07C0,x ; CF05 9D C0 07
    lda .L_0080   ; CF08 A5 80
    clc             ; CF0A 18
    adc #$01    ; CF0B 69 01
    and #$1F    ; CF0D 29 1F
    ora <$82     ; CF0F 05 82
    sta .L_0080   ; CF11 85 80
    inc <$2B     ; CF13 E6 2B
    inx             ; CF15 E8
    cpx #$10    ; CF16 E0 10
    bcc .L_CED8   ; CF18 90 BE
    rts             ; CF1A 60
; ----------------------------------------------------------------------------
.L_CF1B:
  ldy #$00    ; CF1B A0 00
    lda <$2C     ; CF1D A5 2C
    ora <$2B     ; CF1F 05 2B
    and #$20    ; CF21 29 20
    beq .L_CF2A   ; CF23 F0 05
    ldy <$4C     ; CF25 A4 4C
    jmp .L_CF2D   ; CF27 4C 2D CF
; ----------------------------------------------------------------------------
.L_CF2A:
  lda (.L_0080),y                   ; CF2A B1 80
    tay             ; CF2C A8
.L_CF2D:
  lda $7C00,y ; CF2D B9 00 7C
    sta $0780,x ; CF30 9D 80 07
    lda $7D00,y ; CF33 B9 00 7D
    sta $0790,x ; CF36 9D 90 07
    lda $7E00,y ; CF39 B9 00 7E
    sta $07A0,x ; CF3C 9D A0 07
    lda $7200,y ; CF3F B9 00 72
    sta $07B0,x ; CF42 9D B0 07
    lda $0600,y ; CF45 B9 00 06
    sta $07C0,x ; CF48 9D C0 07
    lda .L_0080   ; CF4B A5 80
    clc             ; CF4D 18
    adc #$20    ; CF4E 69 20
    sta .L_0080   ; CF50 85 80
    lda <$81     ; CF52 A5 81
    adc #$00    ; CF54 69 00
    and #$03    ; CF56 29 03
    ora #$74    ; CF58 09 74
    sta <$81     ; CF5A 85 81
    inx             ; CF5C E8
    inc <$2C     ; CF5D E6 2C
    cpx #$10    ; CF5F E0 10
    bcc .L_CF1B   ; CF61 90 B8
    rts             ; CF63 60
; ----------------------------------------------------------------------------
.L_CF64:
  ldy #$10    ; CF64 A0 10
.L_CF66:
  dey             ; CF66 88
    bne .L_CF66   ; CF67 D0 FD
    lda <$82     ; CF69 A5 82
    dec <$82     ; CF6B C6 82
    bne .L_CF74   ; CF6D D0 05
    lda #$03    ; CF6F A9 03
    sta <$82     ; CF71 85 82
    rts             ; CF73 60
; ----------------------------------------------------------------------------
.L_CF74:
  lda #$00    ; CF74 A9 00
    lda <$82     ; CF76 A5 82
    rts             ; CF78 60
; ----------------------------------------------------------------------------
.L_CF79:
  jsr .L_D0F8   ; CF79 20 F8 D0
    lda #$70    ; CF7C A9 70
    sta <$84     ; CF7E 85 84
    lda #$01    ; CF80 A9 01
    sta <$85     ; CF82 85 85
.L_CF84:
  jsr .L_CFC5   ; CF84 20 C5 CF
    lda <$85     ; CF87 A5 85
    clc             ; CF89 18
    adc #$06    ; CF8A 69 06
    sta <$85     ; CF8C 85 85
    lda <$84     ; CF8E A5 84
    sec             ; CF90 38
    sbc #$03    ; CF91 E9 03
    sta <$84     ; CF93 85 84
    cmp #$1F    ; CF95 C9 1F
    bcs .L_CF84   ; CF97 B0 EB
    lda #$00    ; CF99 A9 00
    sta $2001   ; CF9B 8D 01 20
    rts             ; CF9E 60
; ----------------------------------------------------------------------------
.L_CF9F:
  jsr .L_D0F8   ; CF9F 20 F8 D0
    lda #$1F    ; CFA2 A9 1F
    sta <$84     ; CFA4 85 84
    lda #$A3    ; CFA6 A9 A3
    sta <$85     ; CFA8 85 85
.L_CFAA:
  jsr .L_CFC5   ; CFAA 20 C5 CF
    lda <$85     ; CFAD A5 85
    sec             ; CFAF 38
    sbc #$06    ; CFB0 E9 06
    sta <$85     ; CFB2 85 85
    lda <$84     ; CFB4 A5 84
    clc             ; CFB6 18
    adc #$03    ; CFB7 69 03
    sta <$84     ; CFB9 85 84
    cmp #$70    ; CFBB C9 70
    bcc .L_CFAA   ; CFBD 90 EB
    lda #$0A    ; CFBF A9 0A
    sta $2001   ; CFC1 8D 01 20
    rts             ; CFC4 60
; ----------------------------------------------------------------------------
.L_CFC5:
  jsr thunk_await_nmi_by_set_handler  ; CFC5 20 00 FF
    lda #$0A    ; CFC8 A9 0A
    sta $2001   ; CFCA 8D 01 20
    jsr .L_D308   ; CFCD 20 08 D3
    jsr .L_D026   ; CFD0 20 26 D0
    jsr .L_D057   ; CFD3 20 57 D0
    ldx <$84     ; CFD6 A6 84
.L_CFD8:
  jsr .L_CF64   ; CFD8 20 64 CF
    dex             ; CFDB CA
    bne .L_CFD8   ; CFDC D0 FA
    lda #$00    ; CFDE A9 00
    sta $2001   ; CFE0 8D 01 20
    ldx <$85     ; CFE3 A6 85
.L_CFE5:
  jsr .L_CF64   ; CFE5 20 64 CF
    dex             ; CFE8 CA
    bne .L_CFE5   ; CFE9 D0 FA
    lda $2002   ; CFEB AD 02 20
    ldx <$2F     ; CFEE A6 2F
    lda .L_D017,x ; CFF0 BD 17 D0
    sta $2006   ; CFF3 8D 06 20
    lda .L_D007,x ; CFF6 BD 07 D0
    sta $2006   ; CFF9 8D 06 20
    jsr .L_D026   ; CFFC 20 26 D0
    lda #$0A    ; CFFF A9 0A
    sta $2001   ; D001 8D 01 20
    jmp field.call_sound_driver     ; D004 4C 50 C7
; ----------------------------------------------------------------------------
.L_D007:
  cpx #$20    ; D007 E0 20
    rts             ; D009 60
; ----------------------------------------------------------------------------
    ldy #$E0    ; D00A A0 E0
    jsr .L_A060   ; D00C 20 60 A0
    jsr .L_A060   ; D00F 20 60 A0
    cpx #$20    ; D012 E0 20
    rts             ; D014 60
; ----------------------------------------------------------------------------
    ldy #$E0    ; D015 A0 E0
.L_D017:
  and ($22,x) ; D017 21 22
    .byte   <$22     ; D019 22
    .byte   <$22     ; D01A 22
    .byte   <$22     ; D01B 22
    .byte   <$23     ; D01C 23
    .byte   <$23     ; D01D 23
    .byte   <$23     ; D01E 23
    jsr .L_2020   ; D01F 20 20 20
    jsr .L_2121   ; D022 20 21 21
    .byte   <$21     ; D025 21
.L_D026:
  lda #$70    ; D026 A9 70
    sec             ; D028 38
    sbc <$84     ; D029 E5 84
    and #$7F    ; D02B 29 7F
    sta .L_0080   ; D02D 85 80
    lda <$FD     ; D02F A5 FD
    sta <$FF     ; D031 85 FF
    sta $2000   ; D033 8D 00 20
    lda $2002   ; D036 AD 02 20
    lda <$27     ; D039 A5 27
    asl a       ; D03B 0A
    asl a       ; D03C 0A
    asl a       ; D03D 0A
    asl a       ; D03E 0A
    sta $2005   ; D03F 8D 05 20
    lda <$2F     ; D042 A5 2F
    asl a       ; D044 0A
    asl a       ; D045 0A
    asl a       ; D046 0A
    asl a       ; D047 0A
    clc             ; D048 18
    adc .L_0080   ; D049 65 80
    bcs .L_D051   ; D04B B0 04
    cmp #$F0    ; D04D C9 F0
    bcc .L_D053   ; D04F 90 02
.L_D051:
  adc #$0F    ; D051 69 0F
.L_D053:
  sta $2005   ; D053 8D 05 20
    rts             ; D056 60
; ----------------------------------------------------------------------------
.L_D057:
  ldx #$90    ; D057 A2 90
.L_D059:
  ldy #$03    ; D059 A0 03
.L_D05B:
  dey             ; D05B 88
    bne .L_D05B   ; D05C D0 FD
    dex             ; D05E CA
    bne .L_D059   ; D05F D0 F8
    nop             ; D061 EA
    nop             ; D062 EA
    nop             ; D063 EA
    nop             ; D064 EA
    rts             ; D065 60
; ----------------------------------------------------------------------------
.L_D066:
  jsr .L_D0F2   ; D066 20 F2 D0
    lda #$85    ; D069 A9 85
    sta <$84     ; D06B 85 84
    lda #$01    ; D06D A9 01
    sta <$85     ; D06F 85 85
.L_D071:
  jsr .L_D0C5   ; D071 20 C5 D0
    lda <$84     ; D074 A5 84
    sec             ; D076 38
    sbc #$03    ; D077 E9 03
    sta <$84     ; D079 85 84
    lda <$85     ; D07B A5 85
    clc             ; D07D 18
    adc #$06    ; D07E 69 06
    sta <$85     ; D080 85 85
    cmp #$B6    ; D082 C9 B6
    bcc .L_D071   ; D084 90 EB
    lda #$1E    ; D086 A9 1E
    sta $2001   ; D088 8D 01 20
    rts             ; D08B 60
; ----------------------------------------------------------------------------
.L_D08C:
  jsr .L_D0F2   ; D08C 20 F2 D0
    lda #$29    ; D08F A9 29
    sta <$84     ; D091 85 84
    lda #$B3    ; D093 A9 B3
    sta <$85     ; D095 85 85
.L_D097:
  jsr .L_D0C5   ; D097 20 C5 D0
    lda <$84     ; D09A A5 84
    clc             ; D09C 18
    adc #$03    ; D09D 69 03
    sta <$84     ; D09F 85 84
    lda <$85     ; D0A1 A5 85
    sec             ; D0A3 38
    sbc #$06    ; D0A4 E9 06
    sta <$85     ; D0A6 85 85
    cmp #$06    ; D0A8 C9 06
    bcs .L_D097   ; D0AA B0 EB
    lda #$00    ; D0AC A9 00
    sta $2001   ; D0AE 8D 01 20
    rts             ; D0B1 60
; ----------------------------------------------------------------------------
.L_D0B2:
  lda #$02    ; D0B2 A9 02
    sta $4014   ; D0B4 8D 14 40
    jsr .L_D308   ; D0B7 20 08 D3
    lda <$2D     ; D0BA A5 2D
    lsr a       ; D0BC 4A
    bcs .L_D0C2   ; D0BD B0 03
    jmp .L_C39D   ; D0BF 4C 9D C3
; ----------------------------------------------------------------------------
.L_D0C2:
  jmp .L_E571   ; D0C2 4C 71 E5
; ----------------------------------------------------------------------------
.L_D0C5:
  jsr thunk_await_nmi_by_set_handler  ; D0C5 20 00 FF
    jsr .L_D0B2   ; D0C8 20 B2 D0
    ldx #$0A    ; D0CB A2 0A
.L_D0CD:
  dex             ; D0CD CA
    .byte   <$D0     ; D0CE D0
.L_D0CF:
  sbc $10A9,x ; D0CF FD A9 10
    sta $2001   ; D0D2 8D 01 20
    ldx <$84     ; D0D5 A6 84
.L_D0D7:
  jsr .L_CF64   ; D0D7 20 64 CF
    dex             ; D0DA CA
    bne .L_D0D7   ; D0DB D0 FA
    lda #$1E    ; D0DD A9 1E
    sta $2001   ; D0DF 8D 01 20
    ldx <$85     ; D0E2 A6 85
.L_D0E4:
  jsr .L_CF64   ; D0E4 20 64 CF
    dex             ; D0E7 CA
    bne .L_D0E4   ; D0E8 D0 FA
    lda #$10    ; D0EA A9 10
    sta $2001   ; D0EC 8D 01 20
    jmp field.call_sound_driver     ; D0EF 4C 50 C7
; ----------------------------------------------------------------------------
.L_D0F2:
  jsr .L_D0F8   ; D0F2 20 F8 D0
    jmp field.call_sound_driver     ; D0F5 4C 50 C7
; ----------------------------------------------------------------------------
.L_D0F8:
  lda #$F0    ; D0F8 A9 F0
    ldx #$00    ; D0FA A2 00
.L_D0FC:
  sta $0200,x ; D0FC 9D 00 02
    inx             ; D0FF E8
    bne .L_D0FC   ; D100 D0 FA
    jsr thunk_await_nmi_by_set_handler  ; D102 20 00 FF
    lda #$02    ; D105 A9 02
    sta $4014   ; D107 8D 14 40
    rts             ; D10A 60
; ----------------------------------------------------------------------------
    jsr .L_F803   ; D10B 20 03 F8
    lda #$3C    ; D10E A9 3C
    jmp call_switchFirst2Banks      ; D110 4C 03 FF
; ----------------------------------------------------------------------------
.L_D113:
  pha             ; D113 48
    ldx #$00    ; D114 A2 00
    jsr .L_F806   ; D116 20 06 F8
    cmp #$01    ; D119 C9 01
    rol .L_0080   ; D11B 26 80
    pla             ; D11D 68
    pha             ; D11E 48
    ldx #$40    ; D11F A2 40
    jsr .L_F806   ; D121 20 06 F8
    cmp #$01    ; D124 C9 01
    rol .L_0080   ; D126 26 80
    pla             ; D128 68
    pha             ; D129 48
    ldx #$80    ; D12A A2 80
    jsr .L_F806   ; D12C 20 06 F8
    cmp #$01    ; D12F C9 01
    rol .L_0080   ; D131 26 80
    pla             ; D133 68
    ldx #$C0    ; D134 A2 C0
    jsr .L_F806   ; D136 20 06 F8
    cmp #$01    ; D139 C9 01
    rol .L_0080   ; D13B 26 80
    lda #$3C    ; D13D A9 3C
    jmp call_switchFirst2Banks      ; D13F 4C 03 FF
; ----------------------------------------------------------------------------
    ldx <$7F     ; D142 A6 7F
    lda $6200,x ; D144 BD 00 62
    jsr .L_D181   ; D147 20 81 D1
    ldx <$7F     ; D14A A6 7F
    lda $6201,x ; D14C BD 01 62
    jsr .L_D181   ; D14F 20 81 D1
    ldx <$7F     ; D152 A6 7F
    lda $6202,x ; D154 BD 02 62
    jsr .L_D181   ; D157 20 81 D1
    ldx <$7F     ; D15A A6 7F
    lda $6203,x ; D15C BD 03 62
    jsr .L_D181   ; D15F 20 81 D1
    ldx <$7F     ; D162 A6 7F
    lda $6205,x ; D164 BD 05 62
    jsr .L_D181   ; D167 20 81 D1
    ldx #$00    ; D16A A2 00
    stx <$8F     ; D16C 86 8F
.L_D16E:
  lda $60C0,x ; D16E BD C0 60
    jsr .L_D181   ; D171 20 81 D1
    inc <$8F     ; D174 E6 8F
    ldx <$8F     ; D176 A6 8F
    cpx #$20    ; D178 E0 20
    bcc .L_D16E   ; D17A 90 F2
    lda #$3C    ; D17C A9 3C
    jmp call_switchFirst2Banks      ; D17E 4C 03 FF
; ----------------------------------------------------------------------------
.L_D181:
  beq .L_D197   ; D181 F0 14
    tax             ; D183 AA
    cmp #$98    ; D184 C9 98
    bcs .L_D194   ; D186 B0 0C
.L_D188:
  pha             ; D188 48
    ldx <$7F     ; D189 A6 7F
    jsr .L_F806   ; D18B 20 06 F8
    sta .L_0080   ; D18E 85 80
    pla             ; D190 68
    tax             ; D191 AA
    lda .L_0080   ; D192 A5 80
.L_D194:
  sta $7200,x ; D194 9D 00 72
.L_D197:
  rts             ; D197 60
; ----------------------------------------------------------------------------
    ldx #$00    ; D198 A2 00
    stx <$8F     ; D19A 86 8F
.L_D19C:
  lda $7C00,x ; D19C BD 00 7C
    beq .L_D1A4   ; D19F F0 03
    jsr .L_D188   ; D1A1 20 88 D1
.L_D1A4:
  inc <$8F     ; D1A4 E6 8F
    ldx <$8F     ; D1A6 A6 8F
    cpx #$18    ; D1A8 E0 18
    bcc .L_D19C   ; D1AA 90 F0
    lda #$3C    ; D1AC A9 3C
    jmp call_switchFirst2Banks      ; D1AE 4C 03 FF
; ----------------------------------------------------------------------------
; bank $3e
field.load_label_text_into_buffer:
    pha             ; D1B1 48
    lda #$18    ; D1B2 A9 18
    jsr call_switchFirst2Banks      ; D1B4 20 03 FF
    lda #$00    ; D1B7 A9 00
    sta <$82     ; D1B9 85 82
    lda #$82    ; D1BB A9 82
    sta <$83     ; D1BD 85 83
    pla             ; D1BF 68
    asl a       ; D1C0 0A
    tay             ; D1C1 A8
    bcc .L_D1C6   ; D1C2 90 02
    inc <$83     ; D1C4 E6 83
.L_D1C6:
  lda [$82],y ; D1C6 B1 82
    sta .L_0080   ; D1C8 85 80
    iny             ; D1CA C8
    lda [$82],y ; D1CB B1 82
    pha             ; D1CD 48
    and #$1F    ; D1CE 29 1F
    ora #$80    ; D1D0 09 80
    sta <$81     ; D1D2 85 81
    pla             ; D1D4 68
    lsr a       ; D1D5 4A
    lsr a       ; D1D6 4A
    lsr a       ; D1D7 4A
    lsr a       ; D1D8 4A
    lsr a       ; D1D9 4A
    clc             ; D1DA 18
    adc #$18    ; D1DB 69 18
    jsr call_switchFirst2Banks      ; D1DD 20 03 FF
    ldy #$00    ; D1E0 A0 00
    sty $7B00   ; D1E2 8C 00 7B
.L_D1E5:
  lda (.L_0080),y                   ; D1E5 B1 80
    cmp #$28    ; D1E7 C9 28
    bcs .L_D200   ; D1E9 B0 15
    cmp #$10    ; D1EB C9 10
    bcc .L_D200   ; D1ED 90 11
    bne .L_D1F3   ; D1EF D0 02
    lda <$9E     ; D1F1 A5 9E
.L_D1F3:
  sta $7B01,y ; D1F3 99 01 7B
    iny             ; D1F6 C8
    lda (.L_0080),y                   ; D1F7 B1 80
    sta $7B01,y ; D1F9 99 01 7B
    iny             ; D1FC C8
    jmp .L_D1E5   ; D1FD 4C E5 D1
; ----------------------------------------------------------------------------
.L_D200:
  sta $7B01,y ; D200 99 01 7B
    iny             ; D203 C8
    cmp #$00    ; D204 C9 00
    bne .L_D1E5   ; D206 D0 DD
    lda #$3C    ; D208 A9 3C
    jmp call_switchFirst2Banks      ; D20A 4C 03 FF
; ----------------------------------------------------------------------------
; bank $3e
field.queue_SE_of_valid_action:
    lda #$85    ; D20D A9 85
    sta $7F49   ; D20F 8D 49 7F
    rts             ; D212 60
; ----------------------------------------------------------------------------
; bank $3e
field.queue_SE_of_move_of_cursor:
    lda #$98    ; D213 A9 98
    sta $7F49   ; D215 8D 49 7F
    rts             ; D218 60
; ----------------------------------------------------------------------------
; bank $3e
floor.getInputOrFireObjectEvent:
    lda <$6C     ; D219 A5 6C
    beq field.getAndMaskInput       ; D21B F0 5D
    lda <$17     ; D21D A5 17
    beq .L_D226   ; D21F F0 05
    dec <$17     ; D221 C6 17
    jmp .L_D26D   ; D223 4C 6D D2
; ----------------------------------------------------------------------------
.L_D226:
  lda #$2C    ; D226 A9 2C
    jsr call_switchFirst2Banks      ; D228 20 03 FF
    ldy #$00    ; D22B A0 00
    lda [$72],y ; D22D B1 72
    cmp #$FE    ; D22F C9 FE
    bne .L_D24C   ; D231 D0 19
    iny             ; D233 C8
    lda [$72],y ; D234 B1 72
    sta <$17     ; D236 85 17
    dec <$17     ; D238 C6 17
    lda <$72     ; D23A A5 72
    clc             ; D23C 18
    adc #$02    ; D23D 69 02
    sta <$72     ; D23F 85 72
    lda <$73     ; D241 A5 73
    adc #$00    ; D243 69 00
    sta <$73     ; D245 85 73
    lda #$3C    ; D247 A9 3C
    jmp call_switchFirst2Banks      ; D249 4C 03 FF
; ----------------------------------------------------------------------------
.L_D24C:
  sta <$70     ; D24C 85 70
    iny             ; D24E C8
    lda [$72],y ; D24F B1 72
    sta <$71     ; D251 85 71
    ldx #$01    ; D253 A2 01
    lda <$70     ; D255 A5 70
    cmp #$E4    ; D257 C9 E4
    bcc .L_D261   ; D259 90 06
    cmp #$FD    ; D25B C9 FD
    bcs .L_D261   ; D25D B0 02
    ldx #$02    ; D25F A2 02
.L_D261:
  txa             ; D261 8A
    clc             ; D262 18
    adc <$72     ; D263 65 72
    sta <$72     ; D265 85 72
    lda <$73     ; D267 A5 73
    adc #$00    ; D269 69 00
    sta <$73     ; D26B 85 73
.L_D26D:
  lda #$3B    ; D26D A9 3B
    jsr call_switch2ndBank          ; D26F 20 09 FF
    jsr .L_A000   ; D272 20 00 A0
    lda #$3C    ; D275 A9 3C
    jmp call_switchFirst2Banks      ; D277 4C 03 FF
; ----------------------------------------------------------------------------
; bank $3e
field.getAndMaskInput:
    jsr field.get_input             ; D27A 20 81 D2
    jsr field_maskInput             ; D27D 20 9A D2
    rts             ; D280 60
; ----------------------------------------------------------------------------
; bank $3e
field.get_input:
    lda #$01    ; D281 A9 01
    sta $4016   ; D283 8D 16 40
    lda #$00    ; D286 A9 00
    sta $4016   ; D288 8D 16 40
    ldx #$08    ; D28B A2 08
.L_D28D:
  lda $4016   ; D28D AD 16 40
    and #$03    ; D290 29 03
    cmp #$01    ; D292 C9 01
    rol <$20     ; D294 26 20
    dex             ; D296 CA
    bne .L_D28D   ; D297 D0 F4
    rts             ; D299 60
; ----------------------------------------------------------------------------
; bank $3e
field_maskInput:
    lda <$20     ; D29A A5 20
    and #$03    ; D29C 29 03
    beq .L_D2A2   ; D29E F0 02
    ldx #$03    ; D2A0 A2 03
.L_D2A2:
  stx <$81     ; D2A2 86 81
    lda <$20     ; D2A4 A5 20
    and #$0C    ; D2A6 29 0C
    beq .L_D2AF   ; D2A8 F0 05
    txa             ; D2AA 8A
    ora #$0C    ; D2AB 09 0C
    sta <$81     ; D2AD 85 81
.L_D2AF:
  lda <$20     ; D2AF A5 20
    eor <$21     ; D2B1 45 21
    and <$81     ; D2B3 25 81
    eor <$21     ; D2B5 45 21
    sta <$21     ; D2B7 85 21
    eor <$20     ; D2B9 45 20
    tax             ; D2BB AA
    and #$10    ; D2BC 29 10
    beq .L_D2CE   ; D2BE F0 0E
    lda <$20     ; D2C0 A5 20
    and #$10    ; D2C2 29 10
    beq .L_D2C8   ; D2C4 F0 02
    inc <$23     ; D2C6 E6 23
.L_D2C8:
  lda <$21     ; D2C8 A5 21
    eor #$10    ; D2CA 49 10
    sta <$21     ; D2CC 85 21
.L_D2CE:
  txa             ; D2CE 8A
    and #$20    ; D2CF 29 20
    beq .L_D2E1   ; D2D1 F0 0E
    lda <$20     ; D2D3 A5 20
    and #$20    ; D2D5 29 20
    beq .L_D2DB   ; D2D7 F0 02
    inc <$22     ; D2D9 E6 22
.L_D2DB:
  lda <$21     ; D2DB A5 21
    eor #$20    ; D2DD 49 20
    sta <$21     ; D2DF 85 21
.L_D2E1:
  txa             ; D2E1 8A
    and #$40    ; D2E2 29 40
    beq .L_D2F4   ; D2E4 F0 0E
    lda <$20     ; D2E6 A5 20
    and #$40    ; D2E8 29 40
    beq .L_D2EE   ; D2EA F0 02
    inc <$25     ; D2EC E6 25
.L_D2EE:
  lda <$21     ; D2EE A5 21
    eor #$40    ; D2F0 49 40
    sta <$21     ; D2F2 85 21
.L_D2F4:
  txa             ; D2F4 8A
    and #$80    ; D2F5 29 80
    beq .L_D307   ; D2F7 F0 0E
    lda <$20     ; D2F9 A5 20
    and #$80    ; D2FB 29 80
    beq .L_D301   ; D2FD F0 02
    inc <$24     ; D2FF E6 24
.L_D301:
  lda <$21     ; D301 A5 21
    eor #$80    ; D303 49 80
    sta <$21     ; D305 85 21
.L_D307:
  rts             ; D307 60
; ----------------------------------------------------------------------------
.L_D308:
  lda $2002   ; D308 AD 02 20
    lda #$3F    ; D30B A9 3F
    sta $2006   ; D30D 8D 06 20
    lda #$00    ; D310 A9 00
    sta $2006   ; D312 8D 06 20
    ldx #$00    ; D315 A2 00
.L_D317:
  lda $03C0,x ; D317 BD C0 03
    sta $2007   ; D31A 8D 07 20
    inx             ; D31D E8
    cpx #$20    ; D31E E0 20
    bcc .L_D317   ; D320 90 F5
    lda $2002   ; D322 AD 02 20
    lda #$3F    ; D325 A9 3F
    sta $2006   ; D327 8D 06 20
    lda #$00    ; D32A A9 00
    sta $2006   ; D32C 8D 06 20
    sta $2006   ; D32F 8D 06 20
    sta $2006   ; D332 8D 06 20
    rts             ; D335 60
; ----------------------------------------------------------------------------
; bank $3e
field.clear_all_sprites:
    jsr field.init_sprites_cache    ; D336 20 86 C4
    jsr thunk_await_nmi_by_set_handler  ; D339 20 00 FF
    lda #$02    ; D33C A9 02
    sta $4014   ; D33E 8D 14 40
    rts             ; D341 60
; ----------------------------------------------------------------------------
.L_D342:
  lda <$2D     ; D342 A5 2D
    lsr a       ; D344 4A
    bcc .L_D34A   ; D345 90 03
    jmp .L_E571   ; D347 4C 71 E5
; ----------------------------------------------------------------------------
.L_D34A:
  jmp field_setScroll             ; D34A 4C 98 C3
; ----------------------------------------------------------------------------
.L_D34D:
  lda #$95    ; D34D A9 95
    sta $7F49   ; D34F 8D 49 7F
    lda #$00    ; D352 A9 00
    sta <$8C     ; D354 85 8C
.L_D356:
  jsr thunk_await_nmi_by_set_handler  ; D356 20 00 FF
    jsr .L_D342   ; D359 20 42 D3
    lda <$8C     ; D35C A5 8C
    and #$01    ; D35E 29 01
    ora #$1E    ; D360 09 1E
    sta $2001   ; D362 8D 01 20
    jsr field.call_sound_driver     ; D365 20 50 C7
    inc <$8C     ; D368 E6 8C
    lda <$8C     ; D36A A5 8C
    cmp #$41    ; D36C C9 41
    bcc .L_D356   ; D36E 90 E6
    jsr thunk_await_nmi_by_set_handler  ; D370 20 00 FF
    lda #$0F    ; D373 A9 0F
    sta $03D0   ; D375 8D D0 03
    jsr .L_D308   ; D378 20 08 D3
    lda #$00    ; D37B A9 00
    sta $2001   ; D37D 8D 01 20
    rts             ; D380 60
; ----------------------------------------------------------------------------
; bank $3e
field.upload_palette:
    lda $2002   ; D381 AD 02 20
    ldx #$00    ; D384 A2 00
    lda #$3F    ; D386 A9 3F
    sta $2006   ; D388 8D 06 20
    lda #$00    ; D38B A9 00
    sta $2006   ; D38D 8D 06 20
.L_D390:
  lda $03F0,x ; D390 BD F0 03
    sta $2007   ; D393 8D 07 20
    inx             ; D396 E8
    cpx #$10    ; D397 E0 10
    bcc .L_D390   ; D399 90 F5
    lda $2002   ; D39B AD 02 20
    lda #$3F    ; D39E A9 3F
    sta $2006   ; D3A0 8D 06 20
    lda #$00    ; D3A3 A9 00
    sta $2006   ; D3A5 8D 06 20
    sta $2006   ; D3A8 8D 06 20
    sta $2006   ; D3AB 8D 06 20
    rts             ; D3AE 60
; ----------------------------------------------------------------------------
.L_D3AF:
  lda #$02    ; D3AF A9 02
    sta <$61     ; D3B1 85 61
    bcs .L_D3E5   ; D3B3 B0 30
    ldx #$0F    ; D3B5 A2 0F
.L_D3B7:
  lda $03C0,x ; D3B7 BD C0 03
    and #$1F    ; D3BA 29 1F
    sta $03F0,x ; D3BC 9D F0 03
    dex             ; D3BF CA
    bpl .L_D3B7   ; D3C0 10 F5
    lda #$01    ; D3C2 A9 01
.L_D3C4:
  pha             ; D3C4 48
    and #$03    ; D3C5 29 03
    bne .L_D3D0   ; D3C7 D0 07
    jsr .L_D440   ; D3C9 20 40 D4
    cpy #$00    ; D3CC C0 00
    beq .L_D3E3   ; D3CE F0 13
.L_D3D0:
  jsr thunk_await_nmi_by_set_handler  ; D3D0 20 00 FF
    jsr field.upload_palette        ; D3D3 20 81 D3
    jsr .L_D342   ; D3D6 20 42 D3
    jsr field.call_sound_driver     ; D3D9 20 50 C7
    pla             ; D3DC 68
    clc             ; D3DD 18
    adc #$01    ; D3DE 69 01
    jmp .L_D3C4   ; D3E0 4C C4 D3
; ----------------------------------------------------------------------------
.L_D3E3:
  pla             ; D3E3 68
    rts             ; D3E4 60
; ----------------------------------------------------------------------------
.L_D3E5:
  lda #$01    ; D3E5 A9 01
.L_D3E7:
  pha             ; D3E7 48
    and #$03    ; D3E8 29 03
    bne .L_D3F3   ; D3EA D0 07
    jsr .L_D410   ; D3EC 20 10 D4
    cpy #$00    ; D3EF C0 00
    beq .L_D406   ; D3F1 F0 13
.L_D3F3:
  jsr thunk_await_nmi_by_set_handler  ; D3F3 20 00 FF
    jsr field.upload_palette        ; D3F6 20 81 D3
    jsr .L_D342   ; D3F9 20 42 D3
    jsr field.call_sound_driver     ; D3FC 20 50 C7
    pla             ; D3FF 68
    clc             ; D400 18
    adc #$01    ; D401 69 01
    jmp .L_D3E7   ; D403 4C E7 D3
; ----------------------------------------------------------------------------
.L_D406:
  pla             ; D406 68
    jsr thunk_await_nmi_by_set_handler  ; D407 20 00 FF
    jsr .L_D308   ; D40A 20 08 D3
    jmp .L_D342   ; D40D 4C 42 D3
; ----------------------------------------------------------------------------
.L_D410:
  ldy #$00    ; D410 A0 00
    ldx #$0F    ; D412 A2 0F
.L_D414:
  lda $03F0,x ; D414 BD F0 03
    cmp #$0F    ; D417 C9 0F
    beq .L_D43C   ; D419 F0 21
    pha             ; D41B 48
    and #$10    ; D41C 29 10
    sta .L_0080   ; D41E 85 80
    lda $03C0,x ; D420 BD C0 03
    and #$0F    ; D423 29 0F
    sta <$61     ; D425 85 61
    pla             ; D427 68
    and #$0F    ; D428 29 0F
    cmp <$61     ; D42A C5 61
    beq .L_D43C   ; D42C F0 0E
    bcs .L_D434   ; D42E B0 04
    adc #$01    ; D430 69 01
    bne .L_D436   ; D432 D0 02
.L_D434:
  sbc #$01    ; D434 E9 01
.L_D436:
  ora .L_0080   ; D436 05 80
    sta $03F0,x ; D438 9D F0 03
    iny             ; D43B C8
.L_D43C:
  dex             ; D43C CA
    bpl .L_D414   ; D43D 10 D5
    rts             ; D43F 60
; ----------------------------------------------------------------------------
.L_D440:
  ldy #$00    ; D440 A0 00
    ldx #$0F    ; D442 A2 0F
.L_D444:
  lda $03F0,x ; D444 BD F0 03
    cmp #$0F    ; D447 C9 0F
    beq .L_D465   ; D449 F0 1A
    pha             ; D44B 48
    and #$10    ; D44C 29 10
    sta .L_0080   ; D44E 85 80
    pla             ; D450 68
    and #$0F    ; D451 29 0F
    cmp <$61     ; D453 C5 61
    beq .L_D465   ; D455 F0 0E
    bcs .L_D45D   ; D457 B0 04
    adc #$01    ; D459 69 01
    bne .L_D45F   ; D45B D0 02
.L_D45D:
  sbc #$01    ; D45D E9 01
.L_D45F:
  ora .L_0080   ; D45F 05 80
    sta $03F0,x ; D461 9D F0 03
    iny             ; D464 C8
.L_D465:
  dex             ; D465 CA
    bpl .L_D444   ; D466 10 DC
    rts             ; D468 60
; ----------------------------------------------------------------------------
.L_D469:
  sta <$8C     ; D469 85 8C
    jsr field.clear_all_sprites     ; D46B 20 36 D3
    jsr .L_D4D0   ; D46E 20 D0 D4
    lda #$01    ; D471 A9 01
.L_D473:
  pha             ; D473 48
    and #$03    ; D474 29 03
    bne .L_D47F   ; D476 D0 07
    jsr .L_D4F3   ; D478 20 F3 D4
    cpy #$00    ; D47B C0 00
    beq .L_D492   ; D47D F0 13
.L_D47F:
  jsr thunk_await_nmi_by_set_handler  ; D47F 20 00 FF
    jsr field.upload_palette        ; D482 20 81 D3
    jsr .L_D4A2   ; D485 20 A2 D4
    jsr field.call_sound_driver     ; D488 20 50 C7
    pla             ; D48B 68
    clc             ; D48C 18
    adc #$01    ; D48D 69 01
    jmp .L_D473   ; D48F 4C 73 D4
; ----------------------------------------------------------------------------
.L_D492:
  pla             ; D492 68
    lda <$8C     ; D493 A5 8C
    lsr a       ; D495 4A
    bcs .L_D49D   ; D496 B0 05
    lda #$00    ; D498 A9 00
    sta $2001   ; D49A 8D 01 20
.L_D49D:
  lda #$3C    ; D49D A9 3C
    jmp call_switchFirst2Banks      ; D49F 4C 03 FF
; ----------------------------------------------------------------------------
.L_D4A2:
  lda <$8C     ; D4A2 A5 8C
    and #$04    ; D4A4 29 04
    beq .L_D4BB   ; D4A6 F0 13
    lda <$FF     ; D4A8 A5 FF
    sta $2000   ; D4AA 8D 00 20
    lda #$0A    ; D4AD A9 0A
    sta $2001   ; D4AF 8D 01 20
    lda #$00    ; D4B2 A9 00
    sta $2005   ; D4B4 8D 05 20
    sta $2005   ; D4B7 8D 05 20
    rts             ; D4BA 60
; ----------------------------------------------------------------------------
.L_D4BB:
  lda <$8C     ; D4BB A5 8C
    and #$02    ; D4BD 29 02
    bne .L_D4C7   ; D4BF D0 06
    jsr field_setScroll             ; D4C1 20 98 C3
    jmp .L_D4CA   ; D4C4 4C CA D4
; ----------------------------------------------------------------------------
.L_D4C7:
  jsr .L_E571   ; D4C7 20 71 E5
.L_D4CA:
  lda #$0A    ; D4CA A9 0A
    sta $2001   ; D4CC 8D 01 20
    rts             ; D4CF 60
; ----------------------------------------------------------------------------
.L_D4D0:
  ldx #$00    ; D4D0 A2 00
    lda <$8C     ; D4D2 A5 8C
    lsr a       ; D4D4 4A
    bcc .L_D4E7   ; D4D5 90 10
    jsr .L_D4E7   ; D4D7 20 E7 D4
    dex             ; D4DA CA
.L_D4DB:
  lda $03F0,x ; D4DB BD F0 03
    and #$0F    ; D4DE 29 0F
    sta $03F0,x ; D4E0 9D F0 03
    dex             ; D4E3 CA
    bpl .L_D4DB   ; D4E4 10 F5
    rts             ; D4E6 60
; ----------------------------------------------------------------------------
.L_D4E7:
  lda $03C0,x ; D4E7 BD C0 03
    sta $03F0,x ; D4EA 9D F0 03
    inx             ; D4ED E8
    cpx #$10    ; D4EE E0 10
    bcc .L_D4E7   ; D4F0 90 F5
    rts             ; D4F2 60
; ----------------------------------------------------------------------------
.L_D4F3:
  ldy #$00    ; D4F3 A0 00
    ldx #$00    ; D4F5 A2 00
    lda <$8C     ; D4F7 A5 8C
    lsr a       ; D4F9 4A
    bcs .L_D514   ; D4FA B0 18
.L_D4FC:
  lda $03F0,x ; D4FC BD F0 03
    cmp #$0F    ; D4FF C9 0F
    beq .L_D50E   ; D501 F0 0B
    sec             ; D503 38
    sbc #$10    ; D504 E9 10
    bcs .L_D50A   ; D506 B0 02
    lda #$0F    ; D508 A9 0F
.L_D50A:
  sta $03F0,x ; D50A 9D F0 03
    iny             ; D50D C8
.L_D50E:
  inx             ; D50E E8
    cpx #$10    ; D50F E0 10
    bne .L_D4FC   ; D511 D0 E9
    rts             ; D513 60
; ----------------------------------------------------------------------------
.L_D514:
  lda $03F0,x ; D514 BD F0 03
    cmp $03C0,x ; D517 DD C0 03
    beq .L_D523   ; D51A F0 07
    clc             ; D51C 18
    adc #$10    ; D51D 69 10
    sta $03F0,x ; D51F 9D F0 03
    iny             ; D522 C8
.L_D523:
  inx             ; D523 E8
    cpx #$10    ; D524 E0 10
    bcc .L_D514   ; D526 90 EC
    rts             ; D528 60
; ----------------------------------------------------------------------------
; bank $3e
menu.queue_SE_of_invalid_action:
    lda #$86    ; D529 A9 86
    sta $7F49   ; D52B 8D 49 7F
    rts             ; D52E 60
; ----------------------------------------------------------------------------
.L_D52F:
  lda #$3C    ; D52F A9 3C
    jsr call_switch1stBank          ; D531 20 06 FF
    jmp .L_8908   ; D534 4C 08 89
; ----------------------------------------------------------------------------
.L_D537:
  lda $6020   ; D537 AD 20 60
    and #$01    ; D53A 29 01
    beq .L_D54C   ; D53C F0 0E
    ldx #$51    ; D53E A2 51
    ldy #$36    ; D540 A0 36
    jsr .L_DBE4   ; D542 20 E4 DB
    bcs .L_D5A2   ; D545 B0 5B
    lda #$90    ; D547 A9 90
    jmp .L_D603   ; D549 4C 03 D6
; ----------------------------------------------------------------------------
.L_D54C:
  lda $6020   ; D54C AD 20 60
    and #$04    ; D54F 29 04
    beq .L_D566   ; D551 F0 13
    ldx #$43    ; D553 A2 43
    ldy #$20    ; D555 A0 20
    jsr .L_DBE4   ; D557 20 E4 DB
    bcs .L_D566   ; D55A B0 0A
    lda <$F0     ; D55C A5 F0
    lsr a       ; D55E 4A
    and #$0C    ; D55F 29 0C
    ora #$B0    ; D561 09 B0
    jmp .L_D603   ; D563 4C 03 D6
; ----------------------------------------------------------------------------
.L_D566:
  lda $6020   ; D566 AD 20 60
    and #$08    ; D569 29 08
    beq .L_D5A3   ; D56B F0 36
    lda #$3B    ; D56D A9 3B
    jsr call_switch2ndBank          ; D56F 20 09 FF
    ldx #$00    ; D572 A2 00
    jsr .L_A003   ; D574 20 03 A0
    lda <$81     ; D577 A5 81
    clc             ; D579 18
    adc #$2D    ; D57A 69 2D
    tax             ; D57C AA
    lda <$83     ; D57D A5 83
    clc             ; D57F 18
    adc #$56    ; D580 69 56
    tay             ; D582 A8
    jsr .L_DBE4   ; D583 20 E4 DB
    bcs .L_D5A2   ; D586 B0 1A
    lda <$40     ; D588 A5 40
    clc             ; D58A 18
    adc .L_0080   ; D58B 65 80
    bcs .L_D5A2   ; D58D B0 13
    sta <$40     ; D58F 85 40
    lda <$41     ; D591 A5 41
.L_D593:
  clc             ; D593 18
    adc <$82     ; D594 65 82
    bcs .L_D5A2   ; D596 B0 0A
    sta <$41     ; D598 85 41
    lda #$3C    ; D59A A9 3C
    jsr call_switch1stBank          ; D59C 20 06 FF
    jmp .L_88C2   ; D59F 4C C2 88
; ----------------------------------------------------------------------------
.L_D5A2:
  rts             ; D5A2 60
; ----------------------------------------------------------------------------
.L_D5A3:
  lda $602F   ; D5A3 AD 2F 60
    lsr a       ; D5A6 4A
    lsr a       ; D5A7 4A
    bcc .L_D5A2   ; D5A8 90 F8
    lda #$3B    ; D5AA A9 3B
    jsr call_switch2ndBank          ; D5AC 20 09 FF
    ldx #$02    ; D5AF A2 02
    jsr .L_A003   ; D5B1 20 03 A0
    lda <$81     ; D5B4 A5 81
    clc             ; D5B6 18
    adc #$2D    ; D5B7 69 2D
    tax             ; D5B9 AA
    lda <$83     ; D5BA A5 83
    clc             ; D5BC 18
    adc #$56    ; D5BD 69 56
    tay             ; D5BF A8
    jsr .L_DBE4   ; D5C0 20 E4 DB
    bcs .L_D5A2   ; D5C3 B0 DD
    lda <$40     ; D5C5 A5 40
    clc             ; D5C7 18
    adc .L_0080   ; D5C8 65 80
    bcs .L_D5A2   ; D5CA B0 D6
    sta <$40     ; D5CC 85 40
    sta <$E6     ; D5CE 85 E6
    lda <$41     ; D5D0 A5 41
    clc             ; D5D2 18
    adc <$82     ; D5D3 65 82
    bcs .L_D5A2   ; D5D5 B0 CB
    sta <$41     ; D5D7 85 41
    sta <$E7     ; D5D9 85 E7
    lda #$3C    ; D5DB A9 3C
    jsr call_switch1stBank          ; D5DD 20 06 FF
    jmp .L_88DB   ; D5E0 4C DB 88
; ----------------------------------------------------------------------------
.L_D5E3:
  lda #$3C    ; D5E3 A9 3C
    jsr call_switch1stBank          ; D5E5 20 06 FF
    jmp .L_8887   ; D5E8 4C 87 88
; ----------------------------------------------------------------------------
    lda #$E4    ; D5EB A9 E4
    sta <$82     ; D5ED 85 82
    lda <$37     ; D5EF A5 37
    bne .L_D605   ; D5F1 D0 12
    lda #$F2    ; D5F3 A9 F2
    clc             ; D5F5 18
    adc #$08    ; D5F6 69 08
    sta .L_0080   ; D5F8 85 80
    lda #$DC    ; D5FA A9 DC
    adc #$00    ; D5FC 69 00
    sta <$81     ; D5FE 85 81
    jmp floor.load_object_sprite_into_buffer; D600 4C 3A DA
; ----------------------------------------------------------------------------
.L_D603:
  sta <$82     ; D603 85 82
.L_D605:
  lda #$DC    ; D605 A9 DC
    sta <$81     ; D607 85 81
    lda #$F2    ; D609 A9 F2
    sta .L_0080   ; D60B 85 80
    jmp floor.load_object_sprite_into_buffer; D60D 4C 3A DA
; ----------------------------------------------------------------------------
.L_D610:
  lda <$A6     ; D610 A5 A6
    jsr .L_D97E   ; D612 20 7E D9
    sec             ; D615 38
    adc #$5F    ; D616 69 5F
    sta <$41     ; D618 85 41
    lda #$3C    ; D61A A9 3C
    jsr call_switch1stBank          ; D61C 20 06 FF
    jmp .L_87A1   ; D61F 4C A1 87
; ----------------------------------------------------------------------------
.L_D622:
  lda <$A6     ; D622 A5 A6
    bpl .L_D63C   ; D624 10 16
    lda <$F0     ; D626 A5 F0
    lsr a       ; D628 4A
    lda #$00    ; D629 A9 00
    adc <$A6     ; D62B 65 A6
    sta <$A6     ; D62D 85 A6
    and #$1F    ; D62F 29 1F
    bne .L_D610   ; D631 D0 DD
    lda #$00    ; D633 A9 00
    sta <$A6     ; D635 85 A6
    lda #$A8    ; D637 A9 A8
    sta $7F49   ; D639 8D 49 7F
.L_D63C:
  lda <$33     ; D63C A5 33
    and #$0F    ; D63E 29 0F
    asl a       ; D640 0A
    sta .L_0080   ; D641 85 80
    lda $602F   ; D643 AD 2F 60
    and #$40    ; D646 29 40
    beq .L_D658   ; D648 F0 0E
    lda <$F0     ; D64A A5 F0
    lsr a       ; D64C 4A
    lsr a       ; D64D 4A
    lsr a       ; D64E 4A
    and #$03    ; D64F 29 03
    tax             ; D651 AA
    lda .L_DD02,x ; D652 BD 02 DD
    asl a       ; D655 0A
    sta .L_0080   ; D656 85 80
.L_D658:
  lda <$F0     ; D658 A5 F0
    and #$04    ; D65A 29 04
    asl a       ; D65C 0A
    asl a       ; D65D 0A
    asl a       ; D65E 0A
    ora .L_0080   ; D65F 05 80
    tax             ; D661 AA
    jmp .L_D68A   ; D662 4C 8A D6
; ----------------------------------------------------------------------------
.L_D665:
  rts             ; D665 60
; ----------------------------------------------------------------------------
.L_D666:
  lda <$42     ; D666 A5 42
    cmp #$07    ; D668 C9 07
    beq .L_D665   ; D66A F0 F9
    lda $6004   ; D66C AD 04 60
    beq .L_D665   ; D66F F0 F4
    lda $6007   ; D671 AD 07 60
    cmp <$78     ; D674 C5 78
    bne .L_D665   ; D676 D0 ED
    ldx $6005   ; D678 AE 05 60
    ldy $6006   ; D67B AC 06 60
    dey             ; D67E 88
    jsr .L_DBE4   ; D67F 20 E4 DB
    bcs .L_D665   ; D682 B0 E1
    lda <$F0     ; D684 A5 F0
    and #$10    ; D686 29 10
    asl a       ; D688 0A
    tax             ; D689 AA
.L_D68A:
  lda #$3C    ; D68A A9 3C
    jsr call_switch1stBank          ; D68C 20 06 FF
    jsr .L_8857   ; D68F 20 57 88
    lda #$3A    ; D692 A9 3A
    jmp call_switchFirst2Banks      ; D694 4C 03 FF
; ----------------------------------------------------------------------------
.L_D697:
  lda #$5F    ; D697 A9 5F
    sta <$8A     ; D699 85 8A
.L_D69B:
  jsr .L_D73E   ; D69B 20 3E D7
    dec <$8A     ; D69E C6 8A
    lda <$8A     ; D6A0 A5 8A
    cmp #$10    ; D6A2 C9 10
    bcs .L_D69B   ; D6A4 B0 F5
    rts             ; D6A6 60
; ----------------------------------------------------------------------------
.L_D6A7:
  lda <$78     ; D6A7 A5 78
    cmp #$04    ; D6A9 C9 04
    bcs .L_D697   ; D6AB B0 EA
    lda #$6F    ; D6AD A9 6F
    sta <$8A     ; D6AF 85 8A
    lda <$42     ; D6B1 A5 42
    cmp #$04    ; D6B3 C9 04
    bne .L_D6BE   ; D6B5 D0 07
    jsr .L_D77D   ; D6B7 20 7D D7
    lda #$68    ; D6BA A9 68
    sta <$8A     ; D6BC 85 8A
.L_D6BE:
  jsr .L_D73E   ; D6BE 20 3E D7
    lda <$F0     ; D6C1 A5 F0
    and #$01    ; D6C3 29 01
    bne .L_D6BE   ; D6C5 D0 F7
    dec <$8A     ; D6C7 C6 8A
    lda <$8A     ; D6C9 A5 8A
    cmp #$5F    ; D6CB C9 5F
    bcs .L_D6BE   ; D6CD B0 EF
    lda #$02    ; D6CF A9 02
    sta <$33     ; D6D1 85 33
    rts             ; D6D3 60
; ----------------------------------------------------------------------------
.L_D6D4:
  lda #$6F    ; D6D4 A9 6F
    sta <$8A     ; D6D6 85 8A
.L_D6D8:
  jsr .L_D73E   ; D6D8 20 3E D7
    lda #$3C    ; D6DB A9 3C
    jsr call_switchFirst2Banks      ; D6DD 20 03 FF
    jsr .L_BEB7   ; D6E0 20 B7 BE
    lda <$F0     ; D6E3 A5 F0
    and #$01    ; D6E5 29 01
    bne .L_D6D8   ; D6E7 D0 EF
    dec <$8A     ; D6E9 C6 8A
    lda <$8A     ; D6EB A5 8A
    cmp #$60    ; D6ED C9 60
    bcs .L_D6D8   ; D6EF B0 E7
    rts             ; D6F1 60
; ----------------------------------------------------------------------------
.L_D6F2:
  lda #$5F    ; D6F2 A9 5F
    sta <$8A     ; D6F4 85 8A
.L_D6F6:
  jsr .L_D73E   ; D6F6 20 3E D7
    lda #$3C    ; D6F9 A9 3C
    jsr call_switchFirst2Banks      ; D6FB 20 03 FF
    jsr .L_BEB7   ; D6FE 20 B7 BE
    lda <$F0     ; D701 A5 F0
    and #$01    ; D703 29 01
    bne .L_D6F6   ; D705 D0 EF
    inc <$8A     ; D707 E6 8A
    lda <$8A     ; D709 A5 8A
    cmp #$70    ; D70B C9 70
    bcc .L_D6F6   ; D70D 90 E7
    rts             ; D70F 60
; ----------------------------------------------------------------------------
.L_D710:
  php             ; D710 08
    lda #$5F    ; D711 A9 5F
    sta <$8A     ; D713 85 8A
.L_D715:
  jsr .L_D73E   ; D715 20 3E D7
    lda <$F0     ; D718 A5 F0
    and #$01    ; D71A 29 01
    bne .L_D715   ; D71C D0 F7
    inc <$8A     ; D71E E6 8A
    lda <$8A     ; D720 A5 8A
    ldx <$42     ; D722 A6 42
    cpx #$04    ; D724 E0 04
    bne .L_D732   ; D726 D0 0A
    cmp #$68    ; D728 C9 68
    bcc .L_D715   ; D72A 90 E9
    plp             ; D72C 28
    bcs .L_D6BE   ; D72D B0 8F
    jmp .L_D789   ; D72F 4C 89 D7
; ----------------------------------------------------------------------------
.L_D732:
  cmp #$70    ; D732 C9 70
    bcc .L_D715   ; D734 90 DF
    plp             ; D736 28
    bcs .L_D6BE   ; D737 B0 85
    lda #$01    ; D739 A9 01
    sta <$33     ; D73B 85 33
    rts             ; D73D 60
; ----------------------------------------------------------------------------
.L_D73E:
  jsr thunk_await_nmi_by_set_handler  ; D73E 20 00 FF
    lda #$02    ; D741 A9 02
    sta $4014   ; D743 8D 14 40
    lda #$3A    ; D746 A9 3A
    jsr call_switch1stBank          ; D748 20 06 FF
    jsr .L_8515   ; D74B 20 15 85
    inc <$F0     ; D74E E6 F0
    jsr field_setScroll             ; D750 20 98 C3
    jsr field.init_sprites_cache    ; D753 20 86 C4
    lda #$3C    ; D756 A9 3C
    jsr call_switchFirst2Banks      ; D758 20 03 FF
    jsr .L_B7F9   ; D75B 20 F9 B7
    jsr field.call_sound_driver     ; D75E 20 50 C7
    lda #$70    ; D761 A9 70
    sta <$40     ; D763 85 40
    lda <$8A     ; D765 A5 8A
    sta <$41     ; D767 85 41
    lda <$F0     ; D769 A5 F0
    and #$08    ; D76B 29 08
    ora #$10    ; D76D 09 10
    sta .L_0080   ; D76F 85 80
    lda #$68    ; D771 A9 68
    jsr .L_DA07   ; D773 20 07 DA
    jsr .L_D9DA   ; D776 20 DA D9
    jsr .L_D85A   ; D779 20 5A D8
.L_D77C:
  rts             ; D77C 60
; ----------------------------------------------------------------------------
.L_D77D:
  lda #$00    ; D77D A9 00
    sta <$8A     ; D77F 85 8A
.L_D781:
  jsr .L_D799   ; D781 20 99 D7
    inc <$8A     ; D784 E6 8A
    bpl .L_D781   ; D786 10 F9
    rts             ; D788 60
; ----------------------------------------------------------------------------
.L_D789:
  lda #$7F    ; D789 A9 7F
    sta <$8A     ; D78B 85 8A
.L_D78D:
  jsr .L_D799   ; D78D 20 99 D7
    dec <$8A     ; D790 C6 8A
    bpl .L_D78D   ; D792 10 F9
    lda #$02    ; D794 A9 02
    sta <$33     ; D796 85 33
    rts             ; D798 60
; ----------------------------------------------------------------------------
.L_D799:
  lda <$8A     ; D799 A5 8A
    bne .L_D7A3   ; D79B D0 06
    ldx #$00    ; D79D A2 00
    ldy #$AC    ; D79F A0 AC
    bne .L_D7B4   ; D7A1 D0 11
.L_D7A3:
  lsr a       ; D7A3 4A
    lsr a       ; D7A4 4A
    lsr a       ; D7A5 4A
    lsr a       ; D7A6 4A
    lsr a       ; D7A7 4A
    clc             ; D7A8 18
    adc #$B1    ; D7A9 69 B1
    tay             ; D7AB A8
    lda <$8A     ; D7AC A5 8A
    and #$18    ; D7AE 29 18
    asl a       ; D7B0 0A
    asl a       ; D7B1 0A
    asl a       ; D7B2 0A
    tax             ; D7B3 AA
.L_D7B4:
  lda #$0B    ; D7B4 A9 0B
    jsr call_switch2ndBank          ; D7B6 20 09 FF
    jsr thunk_await_nmi_by_set_handler  ; D7B9 20 00 FF
    lda #$02    ; D7BC A9 02
    sta $4014   ; D7BE 8D 14 40
    inc <$F0     ; D7C1 E6 F0
    jsr .L_D81E   ; D7C3 20 1E D8
    lda #$3A    ; D7C6 A9 3A
    jsr call_switch1stBank          ; D7C8 20 06 FF
    jsr .L_8515   ; D7CB 20 15 85
    jsr field_setScroll             ; D7CE 20 98 C3
    jsr field.init_sprites_cache    ; D7D1 20 86 C4
    lda #$3C    ; D7D4 A9 3C
    jsr call_switchFirst2Banks      ; D7D6 20 03 FF
    jsr .L_B7F9   ; D7D9 20 F9 B7
    jsr field.call_sound_driver     ; D7DC 20 50 C7
    lda #$00    ; D7DF A9 00
    ldx <$8A     ; D7E1 A6 8A
    cpx #$60    ; D7E3 E0 60
    bcc .L_D7F3   ; D7E5 90 0C
    lda #$80    ; D7E7 A9 80
    sec             ; D7E9 38
    sbc <$8A     ; D7EA E5 8A
    lsr a       ; D7EC 4A
    lsr a       ; D7ED 4A
    clc             ; D7EE 18
    adc #$68    ; D7EF 69 68
    bne .L_D7F6   ; D7F1 D0 03
.L_D7F3:
  clc             ; D7F3 18
    adc #$6F    ; D7F4 69 6F
.L_D7F6:
  sta <$41     ; D7F6 85 41
    ldx #$00    ; D7F8 A2 00
    lda <$8A     ; D7FA A5 8A
    cmp #$60    ; D7FC C9 60
    bcs .L_D808   ; D7FE B0 08
    ldx #$01    ; D800 A2 01
    and #$04    ; D802 29 04
    bne .L_D808   ; D804 D0 02
    ldx #$FF    ; D806 A2 FF
.L_D808:
  txa             ; D808 8A
    clc             ; D809 18
    adc #$70    ; D80A 69 70
    sta <$40     ; D80C 85 40
    lda #$10    ; D80E A9 10
    sta .L_0080   ; D810 85 80
    lda #$50    ; D812 A9 50
    jsr .L_DA07   ; D814 20 07 DA
    jsr .L_D9DA   ; D817 20 DA D9
    jsr .L_D85A   ; D81A 20 5A D8
    rts             ; D81D 60
; ----------------------------------------------------------------------------
.L_D81E:
  bit $2002   ; D81E 2C 02 20
    lda #$16    ; D821 A9 16
    sta $2006   ; D823 8D 06 20
    lda #$00    ; D826 A9 00
    sta $2006   ; D828 8D 06 20
    stx .L_0080   ; D82B 86 80
    sty <$81     ; D82D 84 81
    ldy #$00    ; D82F A0 00
.L_D831:
  lda (.L_0080),y                   ; D831 B1 80
    sta $2007   ; D833 8D 07 20
    iny             ; D836 C8
    cpy #$40    ; D837 C0 40
    bcc .L_D831   ; D839 90 F6
    rts             ; D83B 60
; ----------------------------------------------------------------------------
.L_D83C:
  ldy <$42     ; D83C A4 42
    jsr .L_D8D3   ; D83E 20 D3 D8
    jmp .L_D85A   ; D841 4C 5A D8
; ----------------------------------------------------------------------------
.L_D844:
  ldy #$00    ; D844 A0 00
    jsr .L_D8D3   ; D846 20 D3 D8
    jsr .L_DB58   ; D849 20 58 DB
    lda #$40    ; D84C A9 40
    sta <$26     ; D84E 85 26
    ldx #$06    ; D850 A2 06
    lda #$3B    ; D852 A9 3B
    jsr call_switch2ndBank          ; D854 20 09 FF
    jmp .L_A003   ; D857 4C 03 A0
; ----------------------------------------------------------------------------
.L_D85A:
  lda <$78     ; D85A A5 78
    lsr a       ; D85C 4A
    beq .L_D864   ; D85D F0 05
    lsr a       ; D85F 4A
    beq .L_D899   ; D860 F0 37
    bne .L_D8C2   ; D862 D0 5E
.L_D864:
  lda <$F0     ; D864 A5 F0
    lsr a       ; D866 4A
    bcs .L_D881   ; D867 B0 18
    jsr .L_DB58   ; D869 20 58 DB
    jsr .L_DB09   ; D86C 20 09 DB
    jsr .L_DB2F   ; D86F 20 2F DB
    jsr .L_DAD4   ; D872 20 D4 DA
    jsr .L_DAA3   ; D875 20 A3 DA
    jsr .L_D52F   ; D878 20 2F D5
    jsr .L_D537   ; D87B 20 37 D5
    jmp .L_D666   ; D87E 4C 66 D6
; ----------------------------------------------------------------------------
.L_D881:
  jsr .L_D666   ; D881 20 66 D6
    jsr .L_D537   ; D884 20 37 D5
    jsr .L_D52F   ; D887 20 2F D5
    jsr .L_DAA3   ; D88A 20 A3 DA
    jsr .L_DAD4   ; D88D 20 D4 DA
    jsr .L_DB2F   ; D890 20 2F DB
    jsr .L_DB09   ; D893 20 09 DB
    jmp .L_DB58   ; D896 4C 58 DB
; ----------------------------------------------------------------------------
.L_D899:
  lda <$F0     ; D899 A5 F0
    lsr a       ; D89B 4A
    bcs .L_D8B0   ; D89C B0 12
    jsr .L_DB58   ; D89E 20 58 DB
    jsr .L_DB2F   ; D8A1 20 2F DB
    jsr .L_DAD4   ; D8A4 20 D4 DA
    jsr .L_DAA3   ; D8A7 20 A3 DA
    jsr .L_D5E3   ; D8AA 20 E3 D5
    jmp .L_D666   ; D8AD 4C 66 D6
; ----------------------------------------------------------------------------
.L_D8B0:
  jsr .L_D666   ; D8B0 20 66 D6
    jsr .L_D5E3   ; D8B3 20 E3 D5
    jsr .L_DAA3   ; D8B6 20 A3 DA
    jsr .L_DAD4   ; D8B9 20 D4 DA
    jsr .L_DB2F   ; D8BC 20 2F DB
    jmp .L_DB58   ; D8BF 4C 58 DB
; ----------------------------------------------------------------------------
.L_D8C2:
  lda #$3A    ; D8C2 A9 3A
    jsr call_switch1stBank          ; D8C4 20 06 FF
    jmp .L_850F   ; D8C7 4C 0F 85
; ----------------------------------------------------------------------------
.L_D8CA:
  jmp (.L_6F6C) ; D8CA 6C 6C 6F
; ----------------------------------------------------------------------------
    bbr6    $5F,.L_D92F                   ; D8CD 6F 5F 5F
    .byte   <$5F     ; D8D0 5F
    .byte   <$5F     ; D8D1 5F
.L_D8D2:
  rts             ; D8D2 60
; ----------------------------------------------------------------------------
.L_D8D3:
  bit <$7E     ; D8D3 24 7E
    bmi .L_D8D2   ; D8D5 30 FB
    lda #$70    ; D8D7 A9 70
    sta <$40     ; D8D9 85 40
    lda .L_D8CA,y ; D8DB B9 CA D8
    sta <$41     ; D8DE 85 41
    lda <$35     ; D8E0 A5 35
    ora <$36     ; D8E2 05 36
    cpy #$04    ; D8E4 C0 04
    bcc .L_D8EB   ; D8E6 90 03
    lda <$F0     ; D8E8 A5 F0
    asl a       ; D8EA 0A
.L_D8EB:
  and #$08    ; D8EB 29 08
    ldx <$33     ; D8ED A6 33
    ora .L_DC1A,x ; D8EF 1D 1A DC
    sta .L_0080   ; D8F2 85 80
    lda $602F   ; D8F4 AD 2F 60
    and #$40    ; D8F7 29 40
    beq .L_D91D   ; D8F9 F0 22
    lda <$19     ; D8FB A5 19
    clc             ; D8FD 18
    adc #$04    ; D8FE 69 04
    sta <$19     ; D900 85 19
    bcc .L_D90C   ; D902 90 08
    lda $602F   ; D904 AD 2F 60
    eor #$40    ; D907 49 40
    sta $602F   ; D909 8D 2F 60
.L_D90C:
  lda <$F0     ; D90C A5 F0
    lsr a       ; D90E 4A
    lsr a       ; D90F 4A
    lsr a       ; D910 4A
    and #$03    ; D911 29 03
    tax             ; D913 AA
    lda .L_DD02,x ; D914 BD 02 DD
    tax             ; D917 AA
    lda .L_DC1A,x ; D918 BD 1A DC
    sta .L_0080   ; D91B 85 80
.L_D91D:
  cpy #$00    ; D91D C0 00
    beq .L_D963   ; D91F F0 42
    cpy #$01    ; D921 C0 01
    beq .L_D959   ; D923 F0 34
    cpy #$02    ; D925 C0 02
    beq .L_D954   ; D927 F0 2B
    cpy #$03    ; D929 C0 03
    beq .L_D947   ; D92B F0 1A
    cpy #$04    ; D92D C0 04
.L_D92F:
  beq .L_D93C   ; D92F F0 0B
    cpy #$05    ; D931 C0 05
.L_D933:
  beq .L_D93C   ; D933 F0 07
    cpy #$06    ; D935 C0 06
    beq .L_D93C   ; D937 F0 03
    jmp .L_D622   ; D939 4C 22 D6
; ----------------------------------------------------------------------------
.L_D93C:
  lda #$68    ; D93C A9 68
    jsr .L_DA07   ; D93E 20 07 DA
    jsr .L_D9DA   ; D941 20 DA D9
    jmp .L_D77C   ; D944 4C 7C D7
; ----------------------------------------------------------------------------
.L_D947:
  lda #$50    ; D947 A9 50
    jsr .L_DA07   ; D949 20 07 DA
    lda #$3C    ; D94C A9 3C
    jsr call_switchFirst2Banks      ; D94E 20 03 FF
    jmp .L_BF0A   ; D951 4C 0A BF
; ----------------------------------------------------------------------------
.L_D954:
  lda #$20    ; D954 A9 20
    jmp .L_DA07   ; D956 4C 07 DA
; ----------------------------------------------------------------------------
.L_D959:
  lda #$38    ; D959 A9 38
    jsr .L_DA07   ; D95B 20 07 DA
    lda <$43     ; D95E A5 43
    jmp .L_D9A7   ; D960 4C A7 D9
; ----------------------------------------------------------------------------
.L_D963:
  lda .L_0080   ; D963 A5 80
    and #$08    ; D965 29 08
    beq .L_D974   ; D967 F0 0B
    lda <$36     ; D969 A5 36
    beq .L_D972   ; D96B F0 05
    dec <$40     ; D96D C6 40
    jmp .L_D974   ; D96F 4C 74 D9
; ----------------------------------------------------------------------------
.L_D972:
  dec <$41     ; D972 C6 41
.L_D974:
  lda #$00    ; D974 A9 00
    jsr .L_DA2B   ; D976 20 2B DA
    lda <$43     ; D979 A5 43
    jmp .L_D9A7   ; D97B 4C A7 D9
; ----------------------------------------------------------------------------
.L_D97E:
  and #$1F    ; D97E 29 1F
    cmp #$10    ; D980 C9 10
    bcs .L_D99A   ; D982 B0 16
    bit <$A6     ; D984 24 A6
    bvs .L_D990   ; D986 70 08
    cmp #$0F    ; D988 C9 0F
    bne .L_D990   ; D98A D0 04
    ldx #$02    ; D98C A2 02
    stx <$AF     ; D98E 86 AF
.L_D990:
  eor #$FF    ; D990 49 FF
    rts             ; D992 60
; ----------------------------------------------------------------------------
.L_D993:
  lda #$90    ; D993 A9 90
    sta <$A6     ; D995 85 A6
    lda #$F0    ; D997 A9 F0
    rts             ; D999 60
; ----------------------------------------------------------------------------
.L_D99A:
  ldx <$AF     ; D99A A6 AF
    bne .L_D993   ; D99C D0 F5
    ldx <$34     ; D99E A6 34
    bne .L_D993   ; D9A0 D0 F1
    and #$1F    ; D9A2 29 1F
    eor #$E0    ; D9A4 49 E0
    rts             ; D9A6 60
; ----------------------------------------------------------------------------
.L_D9A7:
  pha             ; D9A7 48
    lda <$26     ; D9A8 A5 26
    sec             ; D9AA 38
    sbc #$10    ; D9AB E9 10
    tax             ; D9AD AA
    pla             ; D9AE 68
    pha             ; D9AF 48
    and #$24    ; D9B0 29 24
    beq .L_D9C4   ; D9B2 F0 10
    lda $020A,x ; D9B4 BD 0A 02
    eor #$20    ; D9B7 49 20
    sta $020A,x ; D9B9 9D 0A 02
    lda $020E,x ; D9BC BD 0E 02
    eor #$20    ; D9BF 49 20
    sta $020E,x ; D9C1 9D 0E 02
.L_D9C4:
  pla             ; D9C4 68
    and #$14    ; D9C5 29 14
    beq .L_D9D9   ; D9C7 F0 10
    lda $0202,x ; D9C9 BD 02 02
    eor #$20    ; D9CC 49 20
    sta $0202,x ; D9CE 9D 02 02
    lda $0206,x ; D9D1 BD 06 02
    eor #$20    ; D9D4 49 20
    sta $0206,x ; D9D6 9D 06 02
.L_D9D9:
  rts             ; D9D9 60
; ----------------------------------------------------------------------------
.L_D9DA:
  lda <$F0     ; D9DA A5 F0
    lsr a       ; D9DC 4A
    bcc .L_DA06   ; D9DD 90 27
    lda #$77    ; D9DF A9 77
    sta <$41     ; D9E1 85 41
    lda #$70    ; D9E3 A9 70
    sta <$40     ; D9E5 85 40
    lda #$C0    ; D9E7 A9 C0
    sta <$82     ; D9E9 85 82
    lda #$EA    ; D9EB A9 EA
    sta .L_0080   ; D9ED 85 80
    lda #$DC    ; D9EF A9 DC
    sta <$81     ; D9F1 85 81
    jsr floor.load_object_sprite_into_buffer; D9F3 20 3A DA
    lda <$26     ; D9F6 A5 26
    sec             ; D9F8 38
    sbc #$08    ; D9F9 E9 08
    sta <$26     ; D9FB 85 26
    tax             ; D9FD AA
    lda #$F0    ; D9FE A9 F0
    sta $0200,x ; DA00 9D 00 02
    sta $0204,x ; DA03 9D 04 02
.L_DA06:
  rts             ; DA06 60
; ----------------------------------------------------------------------------
.L_DA07:
  sta <$82     ; DA07 85 82
    lda .L_0080   ; DA09 A5 80
    clc             ; DA0B 18
    adc #$AA    ; DA0C 69 AA
    sta .L_0080   ; DA0E 85 80
    lda #$DC    ; DA10 A9 DC
    adc #$00    ; DA12 69 00
    sta <$81     ; DA14 85 81
    jmp floor.load_object_sprite_into_buffer; DA16 4C 3A DA
; ----------------------------------------------------------------------------
.L_DA19:
  sta <$82     ; DA19 85 82
    lda .L_0080   ; DA1B A5 80
    clc             ; DA1D 18
    adc #$6A    ; DA1E 69 6A
    sta .L_0080   ; DA20 85 80
    lda #$DC    ; DA22 A9 DC
    adc #$00    ; DA24 69 00
    sta <$81     ; DA26 85 81
    jmp floor.load_object_sprite_into_buffer; DA28 4C 3A DA
; ----------------------------------------------------------------------------
.L_DA2B:
  sta <$82     ; DA2B 85 82
    lda #$2A    ; DA2D A9 2A
    clc             ; DA2F 18
    adc .L_0080   ; DA30 65 80
    sta .L_0080   ; DA32 85 80
    lda #$DC    ; DA34 A9 DC
    adc #$00    ; DA36 69 00
    sta <$81     ; DA38 85 81
; bank $3e
floor.load_object_sprite_into_buffer:
    ldy #$00    ; DA3A A0 00
    ldx <$26     ; DA3C A6 26
    lda <$41     ; DA3E A5 41
    sta $0200,x ; DA40 9D 00 02
    sta $0204,x ; DA43 9D 04 02
    clc             ; DA46 18
    adc #$08    ; DA47 69 08
    sta $0208,x ; DA49 9D 08 02
    sta $020C,x ; DA4C 9D 0C 02
    lda <$40     ; DA4F A5 40
    sta $0203,x ; DA51 9D 03 02
    sta $020B,x ; DA54 9D 0B 02
    clc             ; DA57 18
    adc #$08    ; DA58 69 08
    sta $0207,x ; DA5A 9D 07 02
    sta $020F,x ; DA5D 9D 0F 02
    lda (.L_0080),y                   ; DA60 B1 80
    iny             ; DA62 C8
    clc             ; DA63 18
    adc <$82     ; DA64 65 82
    sta $0201,x ; DA66 9D 01 02
    lda (.L_0080),y                   ; DA69 B1 80
    iny             ; DA6B C8
    sta $0202,x ; DA6C 9D 02 02
    lda (.L_0080),y                   ; DA6F B1 80
    iny             ; DA71 C8
    clc             ; DA72 18
    adc <$82     ; DA73 65 82
    sta $0209,x ; DA75 9D 09 02
    lda (.L_0080),y                   ; DA78 B1 80
    iny             ; DA7A C8
    sta $020A,x ; DA7B 9D 0A 02
    lda (.L_0080),y                   ; DA7E B1 80
    iny             ; DA80 C8
    clc             ; DA81 18
    adc <$82     ; DA82 65 82
    sta $0205,x ; DA84 9D 05 02
    lda (.L_0080),y                   ; DA87 B1 80
    iny             ; DA89 C8
    sta $0206,x ; DA8A 9D 06 02
    lda (.L_0080),y                   ; DA8D B1 80
    iny             ; DA8F C8
    clc             ; DA90 18
    adc <$82     ; DA91 65 82
    sta $020D,x ; DA93 9D 0D 02
    lda (.L_0080),y                   ; DA96 B1 80
    sta $020E,x ; DA98 9D 0E 02
    lda <$26     ; DA9B A5 26
    clc             ; DA9D 18
    adc #$10    ; DA9E 69 10
    sta <$26     ; DAA0 85 26
    rts             ; DAA2 60
; ----------------------------------------------------------------------------
.L_DAA3:
  lda <$B0     ; DAA3 A5 B0
    bmi .L_DAA8   ; DAA5 30 01
    rts             ; DAA7 60
; ----------------------------------------------------------------------------
.L_DAA8:
  lda <$B1     ; DAA8 A5 B1
    clc             ; DAAA 18
    adc #$02    ; DAAB 69 02
    sta <$B1     ; DAAD 85 B1
    cmp #$F8    ; DAAF C9 F8
    bcc .L_DAB8   ; DAB1 90 05
    lda #$00    ; DAB3 A9 00
    sta <$B0     ; DAB5 85 B0
    rts             ; DAB7 60
; ----------------------------------------------------------------------------
.L_DAB8:
  sta <$40     ; DAB8 85 40
    and #$08    ; DABA 29 08
    sta .L_0080   ; DABC 85 80
    lda <$F0     ; DABE A5 F0
    bpl .L_DAC6   ; DAC0 10 04
    lda #$01    ; DAC2 A9 01
    bne .L_DAC8   ; DAC4 D0 02
.L_DAC6:
  lda #$FF    ; DAC6 A9 FF
.L_DAC8:
  clc             ; DAC8 18
    adc <$B2     ; DAC9 65 B2
    sta <$B2     ; DACB 85 B2
    sta <$41     ; DACD 85 41
    lda #$38    ; DACF A9 38
    jmp .L_DA07   ; DAD1 4C 07 DA
; ----------------------------------------------------------------------------
.L_DAD4:
  lda $6020   ; DAD4 AD 20 60
    lsr a       ; DAD7 4A
    bcs .L_DB08   ; DAD8 B0 2E
    and #$20    ; DADA 29 20
    bne .L_DB08   ; DADC D0 2A
    lda <$42     ; DADE A5 42
    cmp #$03    ; DAE0 C9 03
    beq .L_DB08   ; DAE2 F0 24
    cmp #$04    ; DAE4 C9 04
    beq .L_DB08   ; DAE6 F0 20
    lda $6003   ; DAE8 AD 03 60
    cmp <$78     ; DAEB C5 78
    bne .L_DB08   ; DAED D0 19
    lda $6000   ; DAEF AD 00 60
    beq .L_DB08   ; DAF2 F0 14
    ldx $6001   ; DAF4 AE 01 60
    ldy $6002   ; DAF7 AC 02 60
    jsr .L_DBE4   ; DAFA 20 E4 DB
    bcs .L_DB08   ; DAFD B0 09
    lda #$00    ; DAFF A9 00
    sta .L_0080   ; DB01 85 80
    lda #$50    ; DB03 A9 50
    jmp .L_DA07   ; DB05 4C 07 DA
; ----------------------------------------------------------------------------
.L_DB08:
  rts             ; DB08 60
; ----------------------------------------------------------------------------
.L_DB09:
  lda $6020   ; DB09 AD 20 60
    and #$01    ; DB0C 29 01
    beq .L_DB08   ; DB0E F0 F8
    lda <$42     ; DB10 A5 42
    cmp #$05    ; DB12 C9 05
    beq .L_DB08   ; DB14 F0 F2
    lda $6000   ; DB16 AD 00 60
    beq .L_DB08   ; DB19 F0 ED
    ldx $6001   ; DB1B AE 01 60
    ldy $6002   ; DB1E AC 02 60
    jsr .L_DBE4   ; DB21 20 E4 DB
    bcs .L_DB08   ; DB24 B0 E2
    lda #$10    ; DB26 A9 10
    sta .L_0080   ; DB28 85 80
    lda #$68    ; DB2A A9 68
    jmp .L_DA07   ; DB2C 4C 07 DA
; ----------------------------------------------------------------------------
.L_DB2F:
  lda $6020   ; DB2F AD 20 60
    and #$40    ; DB32 29 40
    beq .L_DB08   ; DB34 F0 D2
    lda <$42     ; DB36 A5 42
    cmp #$06    ; DB38 C9 06
    beq .L_DB08   ; DB3A F0 CC
    lda $6003   ; DB3C AD 03 60
    cmp <$78     ; DB3F C5 78
    bne .L_DB08   ; DB41 D0 C5
    ldx $6001   ; DB43 AE 01 60
    ldy $6002   ; DB46 AC 02 60
    jsr .L_DBE4   ; DB49 20 E4 DB
    bcs .L_DB08   ; DB4C B0 BA
    lda #$10    ; DB4E A9 10
    sta .L_0080   ; DB50 85 80
    lda #$68    ; DB52 A9 68
    jmp .L_DA07   ; DB54 4C 07 DA
; ----------------------------------------------------------------------------
.L_DB57:
  rts             ; DB57 60
; ----------------------------------------------------------------------------
.L_DB58:
  bit <$7E     ; DB58 24 7E
    bmi .L_DB57   ; DB5A 30 FB
    bvs .L_DB57   ; DB5C 70 F9
    lda $600B   ; DB5E AD 0B 60
    beq .L_DB57   ; DB61 F0 F4
    lda <$A9     ; DB63 A5 A9
    bne .L_DB70   ; DB65 D0 09
    lda <$2D     ; DB67 A5 2D
    lsr a       ; DB69 4A
    bcs .L_DB70   ; DB6A B0 04
    lda <$42     ; DB6C A5 42
    bne .L_DB57   ; DB6E D0 E7
.L_DB70:
  jsr .L_DBA6   ; DB70 20 A6 DB
    lda $600B   ; DB73 AD 0B 60
    cmp #$04    ; DB76 C9 04
    bne .L_DB80   ; DB78 D0 06
    lda #$30    ; DB7A A9 30
    sta .L_0080   ; DB7C 85 80
    bne .L_DB9C   ; DB7E D0 1C
.L_DB80:
  lda <$13     ; DB80 A5 13
    ora <$14     ; DB82 05 14
    and #$08    ; DB84 29 08
    ldx <$A7     ; DB86 A6 A7
    ora .L_DC1A,x ; DB88 1D 1A DC
    sta .L_0080   ; DB8B 85 80
    and #$08    ; DB8D 29 08
    beq .L_DB9C   ; DB8F F0 0B
    lda <$13     ; DB91 A5 13
    beq .L_DB9A   ; DB93 F0 05
    dec <$41     ; DB95 C6 41
    jmp .L_DB9C   ; DB97 4C 9C DB
; ----------------------------------------------------------------------------
.L_DB9A:
  dec <$40     ; DB9A C6 40
.L_DB9C:
  lda #$10    ; DB9C A9 10
    jsr .L_DA19   ; DB9E 20 19 DA
    lda <$A8     ; DBA1 A5 A8
    jmp .L_D9A7   ; DBA3 4C A7 D9
; ----------------------------------------------------------------------------
.L_DBA6:
  lda <$2D     ; DBA6 A5 2D
    lsr a       ; DBA8 4A
    bcs .L_DBB4   ; DBA9 B0 09
    lda <$27     ; DBAB A5 27
    sta .L_0080   ; DBAD 85 80
    lda <$28     ; DBAF A5 28
    jmp .L_DBBA   ; DBB1 4C BA DB
; ----------------------------------------------------------------------------
.L_DBB4:
  lda <$29     ; DBB4 A5 29
    sta .L_0080   ; DBB6 85 80
    lda <$2A     ; DBB8 A5 2A
.L_DBBA:
  sta <$81     ; DBBA 85 81
    lda <$AD     ; DBBC A5 AD
    sec             ; DBBE 38
    sbc <$81     ; DBBF E5 81
    asl a       ; DBC1 0A
    asl a       ; DBC2 0A
    asl a       ; DBC3 0A
    asl a       ; DBC4 0A
    sec             ; DBC5 38
    sbc <$36     ; DBC6 E5 36
    clc             ; DBC8 18
    adc <$14     ; DBC9 65 14
    sec             ; DBCB 38
    sbc #$04    ; DBCC E9 04
    sta <$41     ; DBCE 85 41
    lda <$AC     ; DBD0 A5 AC
    sec             ; DBD2 38
    sbc .L_0080   ; DBD3 E5 80
    asl a       ; DBD5 0A
    asl a       ; DBD6 0A
    asl a       ; DBD7 0A
    asl a       ; DBD8 0A
    sec             ; DBD9 38
.L_DBDA:
  sbc <$35     ; DBDA E5 35
    clc             ; DBDC 18
    adc <$13     ; DBDD 65 13
    sta <$40     ; DBDF 85 40
    dec <$41     ; DBE1 C6 41
    rts             ; DBE3 60
; ----------------------------------------------------------------------------
.L_DBE4:
  tya             ; DBE4 98
    sec             ; DBE5 38
    sbc <$28     ; DBE6 E5 28
    cmp #$10    ; DBE8 C9 10
    bcs .L_DC18   ; DBEA B0 2C
    asl a       ; DBEC 0A
    asl a       ; DBED 0A
    asl a       ; DBEE 0A
    asl a       ; DBEF 0A
    sec             ; DBF0 38
    sbc <$36     ; DBF1 E5 36
    cmp #$EC    ; DBF3 C9 EC
    bcs .L_DC18   ; DBF5 B0 21
    sta <$41     ; DBF7 85 41
    txa             ; DBF9 8A
    sec             ; DBFA 38
    sbc <$27     ; DBFB E5 27
    cmp #$10    ; DBFD C9 10
    bcs .L_DC18   ; DBFF B0 17
    asl a       ; DC01 0A
    asl a       ; DC02 0A
    asl a       ; DC03 0A
    asl a       ; DC04 0A
    sec             ; DC05 38
    sbc <$35     ; DC06 E5 35
    bcc .L_DC18   ; DC08 90 0E
    cmp #$F8    ; DC0A C9 F8
    bcs .L_DC18   ; DC0C B0 0A
    sta <$40     ; DC0E 85 40
    lda <$41     ; DC10 A5 41
    beq .L_DC16   ; DC12 F0 02
    dec <$41     ; DC14 C6 41
.L_DC16:
  clc             ; DC16 18
    rts             ; DC17 60
; ----------------------------------------------------------------------------
.L_DC18:
  sec             ; DC18 38
    rts             ; DC19 60
; ----------------------------------------------------------------------------
.L_DC1A:
  brk             ; DC1A 00
    brk             ; DC1B 00
    bpl .L_DC1E   ; DC1C 10 00
.L_DC1E:
  bmi .L_DC20   ; DC1E 30 00
.L_DC20:
  bpl .L_DC22   ; DC20 10 00
.L_DC22:
  jsr .L_1000   ; DC22 20 00 10
    brk             ; DC25 00
    bmi .L_DC28   ; DC26 30 00
.L_DC28:
  bpl .L_DC2A   ; DC28 10 00
.L_DC2A:
  ora #$40    ; DC2A 09 40
    .byte   <$0B     ; DC2C 0B
    eor ($08,x) ; DC2D 41 08
    rti             ; DC2F 40
; ----------------------------------------------------------------------------
    asl a       ; DC30 0A
    eor ($0D,x) ; DC31 41 0D
    rti             ; DC33 40
; ----------------------------------------------------------------------------
    bbr0    $41,.L_DC43                   ; DC34 0F 41 0C
    rti             ; DC37 40
; ----------------------------------------------------------------------------
    asl $0841   ; DC38 0E 41 08
    brk             ; DC3B 00
    asl a       ; DC3C 0A
    ora ($09,x) ; DC3D 01 09
    brk             ; DC3F 00
    .byte   <$0B     ; DC40 0B
    ora ($0C,x) ; DC41 01 0C
.L_DC43:
  brk             ; DC43 00
    asl $0D01   ; DC44 0E 01 0D
    brk             ; DC47 00
    bbr0    $01,.L_DC4F                   ; DC48 0F 01 04
    brk             ; DC4B 00
    asl <$01     ; DC4C 06 01
    .byte   <$05     ; DC4E 05
.L_DC4F:
  brk             ; DC4F 00
    rmb0    <$01     ; DC50 07
    ora ($04,x) ; DC51 01 04
    brk             ; DC53 00
    rmb0    <$41     ; DC54 07
    eor ($05,x) ; DC55 41 05
    brk             ; DC57 00
    asl <$41     ; DC58 06 41
    brk             ; DC5A 00
    brk             ; DC5B 00
    .byte   <$02     ; DC5C 02
    ora ($01,x) ; DC5D 01 01
    brk             ; DC5F 00
    .byte   <$03     ; DC60 03
    ora (.L_0000,x)                   ; DC61 01 00
    brk             ; DC63 00
    .byte   <$03     ; DC64 03
    eor ($01,x) ; DC65 41 01
    brk             ; DC67 00
    .byte   <$02     ; DC68 02
    eor ($09,x) ; DC69 41 09
    .byte   <$42     ; DC6B 42
    .byte   <$0B     ; DC6C 0B
    .byte   <$42     ; DC6D 42
    php             ; DC6E 08
    .byte   <$42     ; DC6F 42
    asl a       ; DC70 0A
    .byte   <$42     ; DC71 42
    ora $0F42   ; DC72 0D 42 0F
    .byte   <$42     ; DC75 42
    tsb $0E42   ; DC76 0C 42 0E
    .byte   <$42     ; DC79 42
    php             ; DC7A 08
    .byte   <$02     ; DC7B 02
    asl a       ; DC7C 0A
    .byte   <$02     ; DC7D 02
    ora #$02    ; DC7E 09 02
    .byte   <$0B     ; DC80 0B
    .byte   <$02     ; DC81 02
    tsb $0E02   ; DC82 0C 02 0E
    .byte   <$02     ; DC85 02
    ora $0F02   ; DC86 0D 02 0F
    .byte   <$02     ; DC89 02
    tsb <$02     ; DC8A 04 02
    asl <$02     ; DC8C 06 02
    ora <$02     ; DC8E 05 02
    rmb0    <$02     ; DC90 07
    .byte   <$02     ; DC91 02
    tsb <$02     ; DC92 04 02
    rmb0    <$42     ; DC94 07
    .byte   <$42     ; DC95 42
    ora <$02     ; DC96 05 02
    asl <$42     ; DC98 06 42
    brk             ; DC9A 00
    .byte   <$02     ; DC9B 02
    .byte   <$02     ; DC9C 02
    .byte   <$02     ; DC9D 02
    ora ($02,x) ; DC9E 01 02
    .byte   <$03     ; DCA0 03
    .byte   <$02     ; DCA1 02
    brk             ; DCA2 00
    .byte   <$02     ; DCA3 02
    .byte   <$03     ; DCA4 03
    .byte   <$42     ; DCA5 42
    ora ($02,x) ; DCA6 01 02
    .byte   <$02     ; DCA8 02
    .byte   <$42     ; DCA9 42
    ora [$43],y ; DCAA 11 43
    .byte   <$13     ; DCAC 13
    .byte   <$43     ; DCAD 43
    bpl .L_DCF3   ; DCAE 10 43
    ora ($43)   ; DCB0 12 43
    ora <$43,x   ; DCB2 15 43
    rmb1    <$43     ; DCB4 17
    .byte   <$43     ; DCB5 43
    trb <$43     ; DCB6 14 43
    asl <$43,x   ; DCB8 16 43
    bpl .L_DCBF   ; DCBA 10 03
    ora ($03)   ; DCBC 12 03
    .byte   <$11     ; DCBE 11
.L_DCBF:
  .byte   <$03     ; DCBF 03
    .byte   <$13     ; DCC0 13
    .byte   <$03     ; DCC1 03
    trb <$03     ; DCC2 14 03
    asl <$03,x   ; DCC4 16 03
    ora <$03,x   ; DCC6 15 03
    rmb1    <$03     ; DCC8 17
    .byte   <$03     ; DCC9 03
    brk             ; DCCA 00
    .byte   <$03     ; DCCB 03
    .byte   <$02     ; DCCC 02
    .byte   <$03     ; DCCD 03
    ora ($03,x) ; DCCE 01 03
    .byte   <$03     ; DCD0 03
    .byte   <$03     ; DCD1 03
    tsb <$03     ; DCD2 04 03
    asl <$03     ; DCD4 06 03
    ora <$03     ; DCD6 05 03
    rmb0    <$03     ; DCD8 07
    .byte   <$03     ; DCD9 03
    php             ; DCDA 08
    .byte   <$03     ; DCDB 03
    asl a       ; DCDC 0A
    .byte   <$03     ; DCDD 03
    ora #$03    ; DCDE 09 03
    .byte   <$0B     ; DCE0 0B
    .byte   <$03     ; DCE1 03
    tsb $0E03   ; DCE2 0C 03 0E
    .byte   <$03     ; DCE5 03
    ora $0F03   ; DCE6 0D 03 0F
    .byte   <$03     ; DCE9 03
    brk             ; DCEA 00
    .byte   <$03     ; DCEB 03
    .byte   <$02     ; DCEC 02
    .byte   <$03     ; DCED 03
    brk             ; DCEE 00
    .byte   <$43     ; DCEF 43
    .byte   <$03     ; DCF0 03
    .byte   <$03     ; DCF1 03
    brk             ; DCF2 00
.L_DCF3:
  .byte   <$03     ; DCF3 03
    .byte   <$02     ; DCF4 02
    .byte   <$03     ; DCF5 03
    ora ($03,x) ; DCF6 01 03
    .byte   <$03     ; DCF8 03
    .byte   <$03     ; DCF9 03
    brk             ; DCFA 00
    brk             ; DCFB 00
    .byte   <$02     ; DCFC 02
    brk             ; DCFD 00
    ora (.L_0000,x)                   ; DCFE 01 00
    .byte   <$03     ; DD00 03
    brk             ; DD01 00
.L_DD02:
  ora ($04,x) ; DD02 01 04
    .byte   <$02     ; DD04 02
    php             ; DD05 08
.L_DD06:
  jsr .L_DFD6   ; DD06 20 D6 DF
    jsr field.call_sound_driver     ; DD09 20 50 C7
    jmp .L_DFF8   ; DD0C 4C F8 DF
; ----------------------------------------------------------------------------
.L_DD0F:
  jsr .L_DD2D   ; DD0F 20 2D DD
    jsr field.call_sound_driver     ; DD12 20 50 C7
    jsr floor.loadPatternForTiles   ; DD15 20 5A DE
    jsr field.call_sound_driver     ; DD18 20 50 C7
    jmp floor.loadObjectPatterns    ; DD1B 4C 08 DF
; ----------------------------------------------------------------------------
.L_DD1E:
  jsr .L_DDC6   ; DD1E 20 C6 DD
    jsr field.call_sound_driver     ; DD21 20 50 C7
    jsr .L_DD2D   ; DD24 20 2D DD
    jsr field.call_sound_driver     ; DD27 20 50 C7
    jmp .L_DDBE   ; DD2A 4C BE DD
; ----------------------------------------------------------------------------
.L_DD2D:
  ldx $600E   ; DD2D AE 0E 60
.L_DD30:
  lda $6102,x ; DD30 BD 02 61
    and #$C0    ; DD33 29 C0
    beq .L_DD41   ; DD35 F0 0A
    txa             ; DD37 8A
    clc             ; DD38 18
    adc #$40    ; DD39 69 40
    tax             ; DD3B AA
    cpx $600E   ; DD3C EC 0E 60
    bne .L_DD30   ; DD3F D0 EF
.L_DD41:
  stx $600E   ; DD41 8E 0E 60
    lda #$0E    ; DD44 A9 0E
    jsr call_switchFirst2Banks      ; DD46 20 03 FF
    lda $6102,x ; DD49 BD 02 61
    and #$20    ; DD4C 29 20
    beq .L_DD54   ; DD4E F0 04
    lda #$16    ; DD50 A9 16
    bne .L_DD62   ; DD52 D0 0E
.L_DD54:
  lda $6102,x ; DD54 BD 02 61
    and #$08    ; DD57 29 08
    beq .L_DD5F   ; DD59 F0 04
    lda #$17    ; DD5B A9 17
    bne .L_DD62   ; DD5D D0 03
.L_DD5F:
  lda $6100,x ; DD5F BD 00 61
.L_DD62:
  and #$3F    ; DD62 29 3F
    clc             ; DD64 18
    adc #$80    ; DD65 69 80
    sta <$81     ; DD67 85 81
    lda #$00    ; DD69 A9 00
    sta .L_0080   ; DD6B 85 80
    ldx #$01    ; DD6D A2 01
    lda #$10    ; DD6F A9 10
    jsr loadPatternToVramEx         ; DD71 20 0F DE
    lda $600B   ; DD74 AD 0B 60
    cmp #$04    ; DD77 C9 04
    beq .L_DD99   ; DD79 F0 1E
    lda $6102   ; DD7B AD 02 61
    and $6142   ; DD7E 2D 42 61
    and $6182   ; DD81 2D 82 61
    and $61C2   ; DD84 2D C2 61
    tax             ; DD87 AA
    and #$20    ; DD88 29 20
    cmp #$20    ; DD8A C9 20
    lda #$16    ; DD8C A9 16
    bcs .L_DDB2   ; DD8E B0 22
    txa             ; DD90 8A
    and #$08    ; DD91 29 08
    cmp #$08    ; DD93 C9 08
    lda #$17    ; DD95 A9 17
    bcs .L_DDB2   ; DD97 B0 19
.L_DD99:
  lda $600B   ; DD99 AD 0B 60
    beq .L_DDAC   ; DD9C F0 0E
    sec             ; DD9E 38
    sbc #$01    ; DD9F E9 01
    cmp #$03    ; DDA1 C9 03
    bcc .L_DDAF   ; DDA3 90 0A
    sec             ; DDA5 38
    sbc #$01    ; DDA6 E9 01
    cmp #$03    ; DDA8 C9 03
    bcs .L_DDAF   ; DDAA B0 03
.L_DDAC:
  jmp .L_DE34   ; DDAC 4C 34 DE
; ----------------------------------------------------------------------------
.L_DDAF:
  clc             ; DDAF 18
    adc #$18    ; DDB0 69 18
.L_DDB2:
  and #$3F    ; DDB2 29 3F
    clc             ; DDB4 18
    adc #$80    ; DDB5 69 80
    sta <$81     ; DDB7 85 81
    ldx #$01    ; DDB9 A2 01
    jmp loadPatternToVram           ; DDBB 4C 1A DE
; ----------------------------------------------------------------------------
.L_DDBE:
  lda #$3C    ; DDBE A9 3C
    jsr call_switchFirst2Banks      ; DDC0 20 03 FF
    jmp .L_BDE0   ; DDC3 4C E0 BD
; ----------------------------------------------------------------------------
.L_DDC6:
  lda #$0A    ; DDC6 A9 0A
    jsr call_switchFirst2Banks      ; DDC8 20 03 FF
    lda #$00    ; DDCB A9 00
    sta .L_0080   ; DDCD 85 80
    lda #$8C    ; DDCF A9 8C
    sta <$81     ; DDD1 85 81
    ldx #$08    ; DDD3 A2 08
    lda #$00    ; DDD5 A9 00
    jsr loadPatternToVramEx         ; DDD7 20 0F DE
    lda $6011   ; DDDA AD 11 60
.L_DDDD:
  bpl .L_DDF6   ; DDDD 10 17
    lda <$78     ; DDDF A5 78
    cmp #$03    ; DDE1 C9 03
    bne .L_DDF6   ; DDE3 D0 11
    lda #$3A    ; DDE5 A9 3A
    jsr call_switch1stBank          ; DDE7 20 06 FF
    clc             ; DDEA 18
    jsr .L_8518   ; DDEB 20 18 85
    lda #$3C    ; DDEE A9 3C
    jsr call_switchFirst2Banks      ; DDF0 20 03 FF
    jmp .L_94FF   ; DDF3 4C FF 94
; ----------------------------------------------------------------------------
.L_DDF6:
  lda <$78     ; DDF6 A5 78
    and #$06    ; DDF8 29 06
    asl a       ; DDFA 0A
    asl a       ; DDFB 0A
    clc             ; DDFC 18
    adc #$94    ; DDFD 69 94
    sta <$81     ; DDFF 85 81
    ldx #$08    ; DE01 A2 08
    jsr loadPatternToVram           ; DE03 20 1A DE
    lda #$3A    ; DE06 A9 3A
    jsr call_switch1stBank          ; DE08 20 06 FF
    clc             ; DE0B 18
    jmp .L_8518   ; DE0C 4C 18 85
; ----------------------------------------------------------------------------
; bank $3e
loadPatternToVramEx:
    bit $2002   ; DE0F 2C 02 20
    sta $2006   ; DE12 8D 06 20
    lda #$00    ; DE15 A9 00
    sta $2006   ; DE17 8D 06 20
; bank $3e
loadPatternToVram:
    ldy #$00    ; DE1A A0 00
.L_DE1C:
  lda (.L_0080),y                   ; DE1C B1 80
    sta $2007   ; DE1E 8D 07 20
    iny             ; DE21 C8
    bne .L_DE1C   ; DE22 D0 F8
    inc <$81     ; DE24 E6 81
    dex             ; DE26 CA
    bne .L_DE1C   ; DE27 D0 F3
    rts             ; DE29 60
; ----------------------------------------------------------------------------
; bank $3e
loadSmallPatternToVram:
    lda (.L_0080),y                   ; DE2A B1 80
    sta $2007   ; DE2C 8D 07 20
    iny             ; DE2F C8
    dex             ; DE30 CA
    bne loadSmallPatternToVram      ; DE31 D0 F7
    rts             ; DE33 60
; ----------------------------------------------------------------------------
.L_DE34:
  bit $2002   ; DE34 2C 02 20
    lda #$11    ; DE37 A9 11
    sta $2006   ; DE39 8D 06 20
    lda #$00    ; DE3C A9 00
    sta $2006   ; DE3E 8D 06 20
    ldx #$20    ; DE41 A2 20
.L_DE43:
  sta $2007   ; DE43 8D 07 20
    dex             ; DE46 CA
    bne .L_DE43   ; DE47 D0 FA
    lda #$0D    ; DE49 A9 0D
    jsr call_switch2ndBank          ; DE4B 20 09 FF
.L_DE4E:
  lda .L_AF80,x ; DE4E BD 80 AF
    sta $2007   ; DE51 8D 07 20
    inx             ; DE54 E8
    cpx #$20    ; DE55 E0 20
    bcc .L_DE4E   ; DE57 90 F5
    rts             ; DE59 60
; ----------------------------------------------------------------------------
; bank $3e
floor.loadPatternForTiles:
    lda #$00    ; DE5A A9 00
    jsr call_switch1stBank          ; DE5C 20 06 FF
    lda <$78     ; DE5F A5 78
    ldx <$48     ; DE61 A6 48
    cmp #$02    ; DE63 C9 02
    lda $8C00,x ; DE65 BD 00 8C
    bcc .L_DE6D   ; DE68 90 03
    lda $8D00,x ; DE6A BD 00 8D
.L_DE6D:
  ldx #$00    ; DE6D A2 00
    stx <$8D     ; DE6F 86 8D
    asl a       ; DE71 0A
    asl a       ; DE72 0A
    asl a       ; DE73 0A
    rol <$8D     ; DE74 26 8D
    asl a       ; DE76 0A
    rol <$8D     ; DE77 26 8D
    sta <$8C     ; DE79 85 8C
    lda <$8D     ; DE7B A5 8D
    clc             ; DE7D 18
    adc #$8E    ; DE7E 69 8E
    sta <$8D     ; DE80 85 8D
    ldy #$0F    ; DE82 A0 0F
.L_DE84:
  lda [$8C],y ; DE84 B1 8C
    sta $7F00,y ; DE86 99 00 7F
    dey             ; DE89 88
    bpl .L_DE84   ; DE8A 10 F8
    lda #$00    ; DE8C A9 00
    sta <$8E     ; DE8E 85 8E
    lda $2002   ; DE90 AD 02 20
    lda #$00    ; DE93 A9 00
    sta $2006   ; DE95 8D 06 20
    sta $2006   ; DE98 8D 06 20
.L_DE9B:
  lda <$8E     ; DE9B A5 8E
    asl a       ; DE9D 0A
    tay             ; DE9E A8
    lda $7F00,y ; DE9F B9 00 7F
    sta .L_0080   ; DEA2 85 80
    lda $7F01,y ; DEA4 B9 01 7F
    pha             ; DEA7 48
    and #$1F    ; DEA8 29 1F
    ora #$80    ; DEAA 09 80
    sta <$81     ; DEAC 85 81
    pla             ; DEAE 68
    lsr a       ; DEAF 4A
    lsr a       ; DEB0 4A
    lsr a       ; DEB1 4A
    lsr a       ; DEB2 4A
    lsr a       ; DEB3 4A
    clc             ; DEB4 18
    adc #$03    ; DEB5 69 03
    jsr call_switchFirst2Banks      ; DEB7 20 03 FF
    ldx <$8E     ; DEBA A6 8E
    lda .L_DF00,x ; DEBC BD 00 DF
    tax             ; DEBF AA
    ldy #$00    ; DEC0 A0 00
    jsr loadTilePatternToVram       ; DEC2 20 EA DE
    inc <$8E     ; DEC5 E6 8E
    lda <$8E     ; DEC7 A5 8E
    cmp #$08    ; DEC9 C9 08
    bcc .L_DE9B   ; DECB 90 CE
    lda #$3A    ; DECD A9 3A
    jsr call_switch1stBank          ; DECF 20 06 FF
    sec             ; DED2 38
    jsr .L_8518   ; DED3 20 18 85
.L_DED6:
  lda #$0D    ; DED6 A9 0D
    jsr call_switch1stBank          ; DED8 20 06 FF
    lda #$00    ; DEDB A9 00
    sta .L_0080   ; DEDD 85 80
    lda #$97    ; DEDF A9 97
    sta <$81     ; DEE1 85 81
    ldx #$09    ; DEE3 A2 09
    lda #$07    ; DEE5 A9 07
    jmp loadPatternToVramEx         ; DEE7 4C 0F DE
; ----------------------------------------------------------------------------
; bank $3e
loadTilePatternToVram:
    lda #$10    ; DEEA A9 10
    sta <$82     ; DEEC 85 82
.L_DEEE:
  lda (.L_0080),y                   ; DEEE B1 80
    sta $2007   ; DEF0 8D 07 20
    iny             ; DEF3 C8
    bne .L_DEF8   ; DEF4 D0 02
    inc <$81     ; DEF6 E6 81
.L_DEF8:
  dec <$82     ; DEF8 C6 82
    bne .L_DEEE   ; DEFA D0 F2
    dex             ; DEFC CA
    bne loadTilePatternToVram       ; DEFD D0 EB
    rts             ; DEFF 60
; ----------------------------------------------------------------------------
.L_DF00:
  inc a       ; DF00 1A
    php             ; DF01 08
    php             ; DF02 08
    asl $1008   ; DF03 0E 08 10
    bpl .L_DF18   ; DF06 10 10
; bank $3e
floor.loadObjectPatterns:
    lda <$78     ; DF08 A5 78
    cmp #$02    ; DF0A C9 02
    lda #$00    ; DF0C A9 00
    adc #$94    ; DF0E 69 94
    sta <$8D     ; DF10 85 8D
    lda #$00    ; DF12 A9 00
    sta <$8C     ; DF14 85 8C
    sta <$8B     ; DF16 85 8B
.L_DF18:
  sta <$8A     ; DF18 85 8A
.L_DF1A:
  jsr floor.loadObjectPattern     ; DF1A 20 41 DF
    lda <$8B     ; DF1D A5 8B
    clc             ; DF1F 18
    adc #$10    ; DF20 69 10
    sta <$8B     ; DF22 85 8B
    inc <$8A     ; DF24 E6 8A
    lda <$8A     ; DF26 A5 8A
    cmp #$0C    ; DF28 C9 0C
    bcc .L_DF1A   ; DF2A 90 EE
.L_DF2C:
  lda #$0D    ; DF2C A9 0D
    jsr call_switch1stBank          ; DF2E 20 06 FF
    lda #$00    ; DF31 A9 00
    sta .L_0080   ; DF33 85 80
    lda #$94    ; DF35 A9 94
    sta <$81     ; DF37 85 81
    ldx #$02    ; DF39 A2 02
    lda #$1E    ; DF3B A9 1E
    jmp loadPatternToVramEx         ; DF3D 4C 0F DE
; ----------------------------------------------------------------------------
.L_DF40:
  rts             ; DF40 60
; ----------------------------------------------------------------------------
; bank $3e
floor.loadObjectPattern:
    ldx <$8B     ; DF41 A6 8B
    lda $700A,x ; DF43 BD 0A 70
    beq .L_DF40   ; DF46 F0 F8
    tay             ; DF48 A8
    lda #$00    ; DF49 A9 00
    jsr call_switch1stBank          ; DF4B 20 06 FF
    lda [$8C],y ; DF4E B1 8C
    cmp #$40    ; DF50 C9 40
    bcs .L_DF6B   ; DF52 B0 17
    adc #$80    ; DF54 69 80
    sta <$81     ; DF56 85 81
    lda #$00    ; DF58 A9 00
    sta .L_0080   ; DF5A 85 80
    lda #$0E    ; DF5C A9 0E
    jsr call_switchFirst2Banks      ; DF5E 20 03 FF
    ldx #$01    ; DF61 A2 01
    lda <$8A     ; DF63 A5 8A
    clc             ; DF65 18
    adc #$12    ; DF66 69 12
    jmp loadPatternToVramEx         ; DF68 4C 0F DE
; ----------------------------------------------------------------------------
.L_DF6B:
  cmp #$58    ; DF6B C9 58
    bcs .L_DF9F   ; DF6D B0 30
    sec             ; DF6F 38
    sbc #$40    ; DF70 E9 40
    lsr a       ; DF72 4A
    ora #$80    ; DF73 09 80
    sta <$81     ; DF75 85 81
    lda #$00    ; DF77 A9 00
    ror a       ; DF79 6A
    sta .L_0080   ; DF7A 85 80
    lda #$0A    ; DF7C A9 0A
    jsr call_switch1stBank          ; DF7E 20 06 FF
    ldx #$80    ; DF81 A2 80
    ldy #$00    ; DF83 A0 00
    bit $2002   ; DF85 2C 02 20
    lda <$8A     ; DF88 A5 8A
    clc             ; DF8A 18
    adc #$12    ; DF8B 69 12
    sta $2006   ; DF8D 8D 06 20
    lda #$00    ; DF90 A9 00
    sta $2006   ; DF92 8D 06 20
    jsr loadSmallPatternToVram      ; DF95 20 2A DE
    ldy #$00    ; DF98 A0 00
    ldx #$80    ; DF9A A2 80
    jmp loadSmallPatternToVram      ; DF9C 4C 2A DE
; ----------------------------------------------------------------------------
.L_DF9F:
  sbc #$58    ; DF9F E9 58
    pha             ; DFA1 48
    lsr a       ; DFA2 4A
    lsr a       ; DFA3 4A
    clc             ; DFA4 18
    adc #$88    ; DFA5 69 88
    sta <$81     ; DFA7 85 81
    pla             ; DFA9 68
    and #$03    ; DFAA 29 03
    lsr a       ; DFAC 4A
    ror a       ; DFAD 6A
    ror a       ; DFAE 6A
    sta .L_0080   ; DFAF 85 80
    lda #$0D    ; DFB1 A9 0D
    jsr call_switch1stBank          ; DFB3 20 06 FF
    bit $2002   ; DFB6 2C 02 20
    lda <$8A     ; DFB9 A5 8A
    clc             ; DFBB 18
    adc #$12    ; DFBC 69 12
    sta $2006   ; DFBE 8D 06 20
    lda #$00    ; DFC1 A9 00
    sta $2006   ; DFC3 8D 06 20
    jsr .L_DFCF   ; DFC6 20 CF DF
    jsr .L_DFCF   ; DFC9 20 CF DF
    jsr .L_DFCF   ; DFCC 20 CF DF
.L_DFCF:
  ldx #$40    ; DFCF A2 40
    ldy #$00    ; DFD1 A0 00
    jmp loadSmallPatternToVram      ; DFD3 4C 2A DE
; ----------------------------------------------------------------------------
.L_DFD6:
  jsr .L_DED6   ; DFD6 20 D6 DE
    lda #$95    ; DFD9 A9 95
    sta <$81     ; DFDB 85 81
    .byte   <$A9     ; DFDD A9
.L_DFDE:
  ora <$A2     ; DFDE 05 A2
    .byte   <$02     ; DFE0 02
    jsr loadPatternToVramEx         ; DFE1 20 0F DE
    bit $2002   ; DFE4 2C 02 20
    lda #$00    ; DFE7 A9 00
    sta $2006   ; DFE9 8D 06 20
    sta $2006   ; DFEC 8D 06 20
    ldx #$10    ; DFEF A2 10
.L_DFF1:
  sta $2007   ; DFF1 8D 07 20
    dex             ; DFF4 CA
    bne .L_DFF1   ; DFF5 D0 FA
    rts             ; DFF7 60
; ----------------------------------------------------------------------------
.L_DFF8:
  lda #$28    ; DFF8 A9 28
    jsr call_switchFirst2Banks      ; DFFA 20 03 FF
    .byte   <$AD     ; DFFD AD
    .byte   <$02     ; DFFE 02
.L_DFFF:
  .byte   <$20     ; DFFF 20
.L_E000:
  lda #$10    ; E000 A9 10
    sta $2006   ; E002 8D 06 20
    lda #$00    ; E005 A9 00
    sta $2006   ; E007 8D 06 20
    lda $6100   ; E00A AD 00 61
    jsr .L_E092   ; E00D 20 92 E0
    lda $6140   ; E010 AD 40 61
    jsr .L_E092   ; E013 20 92 E0
    lda $6180   ; E016 AD 80 61
    jsr .L_E092   ; E019 20 92 E0
    lda $61C0   ; E01C AD C0 61
    jsr .L_E092   ; E01F 20 92 E0
    lda #$E0    ; E022 A9 E0
    sta .L_0080   ; E024 85 80
    lda #$BA    ; E026 A9 BA
    sta <$81     ; E028 85 81
    ldx #$01    ; E02A A2 01
    jsr loadPatternToVram           ; E02C 20 1A DE
    ldx #$20    ; E02F A2 20
    jsr loadSmallPatternToVram      ; E031 20 2A DE
    lda $600B   ; E034 AD 0B 60
    sec             ; E037 38
    sbc #$01    ; E038 E9 01
    and #$07    ; E03A 29 07
    asl a       ; E03C 0A
    tax             ; E03D AA
    lda .L_E0B7,x ; E03E BD B7 E0
    sta .L_0080   ; E041 85 80
    lda .L_E0B8,x ; E043 BD B8 E0
    clc             ; E046 18
    adc #$BC    ; E047 69 BC
    sta <$81     ; E049 85 81
    ldx #$60    ; E04B A2 60
    ldy #$00    ; E04D A0 00
    jsr loadSmallPatternToVram      ; E04F 20 2A DE
    jsr .L_E0F3   ; E052 20 F3 E0
    lda #$0A    ; E055 A9 0A
    jsr call_switch1stBank          ; E057 20 06 FF
    .byte   <$A9     ; E05A A9
.L_E05B:
  brk             ; E05B 00
    sta .L_0080   ; E05C 85 80
    lda #$8A    ; E05E A9 8A
    sta <$81     ; E060 85 81
    lda #$1B    ; E062 A9 1B
    ldx #$01    ; E064 A2 01
    jsr loadPatternToVramEx         ; E066 20 0F DE
.L_E069:
  .byte   <$A9     ; E069 A9
.L_E06A:
  ora $0620   ; E06A 0D 20 06
    bbs7    $A9,$A9 ; E06D FF A9 00
    sta .L_0080   ; E070 85 80
    lda #$8E    ; E072 A9 8E
    sta <$81     ; E074 85 81
    lda #$1C    ; E076 A9 1C
    ldx #$01    ; E078 A2 01
    jsr loadPatternToVramEx         ; E07A 20 0F DE
    ldx #$10    ; E07D A2 10
    .byte   <$A9     ; E07F A9
.L_E080:
  .byte   <$FF     ; E080 FF
.L_E081:
  sta $2007   ; E081 8D 07 20
    dex             ; E084 CA
    bne .L_E081   ; E085 D0 FA
    jsr .L_DF2C   ; E087 20 2C DF
    jsr .L_E1B0   ; E08A 20 B0 E1
    lda #$3C    ; E08D A9 3C
    jmp call_switchFirst2Banks      ; E08F 4C 03 FF
; ----------------------------------------------------------------------------
.L_E092:
  and #$3F    ; E092 29 3F
    asl a       ; E094 0A
    tax             ; E095 AA
    lda .L_E0C7,x ; E096 BD C7 E0
    sta .L_0080   ; E099 85 80
    lda .L_E0C8,x ; E09B BD C8 E0
    sta <$81     ; E09E 85 81
.L_E0A0:
  ldy #$00    ; E0A0 A0 00
    ldx #$60    ; E0A2 A2 60
    .byte   <$20     ; E0A4 20
.L_E0A5:
  rol a       ; E0A5 2A
    dec $80A0,x ; E0A6 DE A0 80
    ldx #$60    ; E0A9 A2 60
    jsr loadSmallPatternToVram      ; E0AB 20 2A DE
    ldx #$60    ; E0AE A2 60
    inc <$81     ; E0B0 E6 81
    ldy #$80    ; E0B2 A0 80
    jmp loadSmallPatternToVram      ; E0B4 4C 2A DE
; ----------------------------------------------------------------------------
.L_E0B7:
  brk             ; E0B7 00
.L_E0B8:
  brk             ; E0B8 00
    rts             ; E0B9 60
; ----------------------------------------------------------------------------
    brk             ; E0BA 00
    cpy #$00    ; E0BB C0 00
    jsr .L_8001   ; E0BD 20 01 80
    ora ($E0,x) ; E0C0 01 E0
    ora ($40,x) ; E0C2 01 40
    .byte   <$02     ; E0C4 02
    ldy #$02    ; E0C5 A0 02
.L_E0C7:
  brk             ; E0C7 00
.L_E0C8:
  bra .L_E06A   ; E0C8 80 A0
    .byte   <$82     ; E0CA 82
    rti             ; E0CB 40
; ----------------------------------------------------------------------------
    sta <$E0     ; E0CC 85 E0
    smb0    .L_0080   ; E0CE 87
    bra .L_E05B   ; E0CF 80 8A
    jsr .L_C08D   ; E0D1 20 8D C0
    bbs0    $60,.L_E069                   ; E0D4 8F 60 92
    brk             ; E0D7 00
    sta <$A0,x   ; E0D8 95 A0
    smb1    <$40     ; E0DA 97
    rti             ; E0DB 40
; ----------------------------------------------------------------------------
    txs             ; E0DC 9A
    cpx #$9C    ; E0DD E0 9C
    bra .L_E080   ; E0DF 80 9F
    jsr .L_C0A2   ; E0E1 20 A2 C0
    ldy <$60     ; E0E4 A4 60
    smb2    .L_0000   ; E0E6 A7
    brk             ; E0E7 00
    tax             ; E0E8 AA
    ldy #$AC    ; E0E9 A0 AC
    rti             ; E0EB 40
; ----------------------------------------------------------------------------
    bbs2    $E0,.L_E0A0                   ; E0EC AF E0 B1
    bra .L_E0A5   ; E0EF 80 B4
    .byte   <$20     ; E0F1 20
    smb3    <$AD     ; E0F2 B7
.L_E0F3:
  lda $6502   ; E0F3 AD 02 65
    ldx $6500   ; E0F6 AE 00 65
    jsr .L_E15C   ; E0F9 20 5C E1
    lda $6542   ; E0FC AD 42 65
    ldx $6540   ; E0FF AE 40 65
    jsr .L_E15C   ; E102 20 5C E1
    lda $6582   ; E105 AD 82 65
    ldx $6580   ; E108 AE 80 65
    jsr .L_E15C   ; E10B 20 5C E1
    lda $65C2   ; E10E AD C2 65
    ldx $65C0   ; E111 AE C0 65
    jsr .L_E15C   ; E114 20 5C E1
    lda $6902   ; E117 AD 02 69
    ldx $6900   ; E11A AE 00 69
    jsr .L_E15C   ; E11D 20 5C E1
    lda $6942   ; E120 AD 42 69
    ldx $6940   ; E123 AE 40 69
    jsr .L_E15C   ; E126 20 5C E1
    lda $6982   ; E129 AD 82 69
    ldx $6980   ; E12C AE 80 69
    jsr .L_E15C   ; E12F 20 5C E1
    lda $69C2   ; E132 AD C2 69
    ldx $69C0   ; E135 AE C0 69
    jsr .L_E15C   ; E138 20 5C E1
    lda $6D02   ; E13B AD 02 6D
    ldx $6D00   ; E13E AE 00 6D
    jsr .L_E15C   ; E141 20 5C E1
    lda $6D42   ; E144 AD 42 6D
    ldx $6D40   ; E147 AE 40 6D
    jsr .L_E15C   ; E14A 20 5C E1
    lda $6D82   ; E14D AD 82 6D
    ldx $6D80   ; E150 AE 80 6D
    jsr .L_E15C   ; E153 20 5C E1
    lda $6DC2   ; E156 AD C2 6D
    ldx $6DC0   ; E159 AE C0 6D
.L_E15C:
  tay             ; E15C A8
    and #$E8    ; E15D 29 E8
    beq .L_E19A   ; E15F F0 39
    asl a       ; E161 0A
    bcc .L_E16D   ; E162 90 09
    lda #$E0    ; E164 A9 E0
    sta .L_0080   ; E166 85 80
    lda #$BA    ; E168 A9 BA
    jmp .L_E1A7   ; E16A 4C A7 E1
; ----------------------------------------------------------------------------
.L_E16D:
  asl a       ; E16D 0A
    bcc .L_E185   ; E16E 90 15
    txa             ; E170 8A
    and #$3F    ; E171 29 3F
    asl a       ; E173 0A
    tax             ; E174 AA
    lda .L_E0C7,x ; E175 BD C7 E0
    clc             ; E178 18
    adc #$80    ; E179 69 80
    sta .L_0080   ; E17B 85 80
    lda .L_E0C8,x ; E17D BD C8 E0
    adc #$00    ; E180 69 00
    jmp .L_E1A7   ; E182 4C A7 E1
; ----------------------------------------------------------------------------
.L_E185:
  asl a       ; E185 0A
    bcc .L_E191   ; E186 90 09
    lda #$40    ; E188 A9 40
    sta .L_0080   ; E18A 85 80
    lda #$BB    ; E18C A9 BB
    jmp .L_E1A7   ; E18E 4C A7 E1
; ----------------------------------------------------------------------------
.L_E191:
  lda #$A0    ; E191 A9 A0
    sta .L_0080   ; E193 85 80
    lda #$BB    ; E195 A9 BB
    jmp .L_E1A7   ; E197 4C A7 E1
; ----------------------------------------------------------------------------
.L_E19A:
  txa             ; E19A 8A
    and #$3F    ; E19B 29 3F
    asl a       ; E19D 0A
    tax             ; E19E AA
    lda .L_E0C7,x ; E19F BD C7 E0
    sta .L_0080   ; E1A2 85 80
    lda .L_E0C8,x ; E1A4 BD C8 E0
.L_E1A7:
  sta <$81     ; E1A7 85 81
    ldy #$00    ; E1A9 A0 00
    ldx #$60    ; E1AB A2 60
    jmp loadSmallPatternToVram      ; E1AD 4C 2A DE
; ----------------------------------------------------------------------------
.L_E1B0:
  ldx #$1F    ; E1B0 A2 1F
.L_E1B2:
  lda .L_E1BC,x ; E1B2 BD BC E1
    sta $03C0,x ; E1B5 9D C0 03
    dex             ; E1B8 CA
    bpl .L_E1B2   ; E1B9 10 F7
    rts             ; E1BB 60
; ----------------------------------------------------------------------------
.L_E1BC:
  bbr0    .L_0000,.L_E1C0                 ; E1BC 0F 00 01
    rol a       ; E1BF 2A
.L_E1C0:
  bbr0    .L_0000,.L_E1C4                 ; E1C0 0F 00 01
    rmb2    <$0F     ; E1C3 27
.L_E1C4:
  bbr0    .L_0000,.L_E1C8                 ; E1C4 0F 00 01
    .byte   <$24     ; E1C7 24
.L_E1C8:
  bbr0    .L_0000,.L_E1CC                 ; E1C8 0F 00 01
    .byte   <$30     ; E1CB 30
.L_E1CC:
  bbr0    $36,.L_E1FF                   ; E1CC 0F 36 30
    asl <$0F,x   ; E1CF 16 0F
    rmb2    <$18     ; E1D1 27
    clc             ; E1D2 18
    and ($0F,x) ; E1D3 21 0F
    rol <$17,x   ; E1D5 36 17
    rol a       ; E1D7 2A
    bbr0    .L_0000,.L_E1EB                 ; E1D8 0F 00 10
    .byte   <$30     ; E1DB 30
; bank $3f
dungeon.mainLoop:
    lda #$00    ; E1DC A9 00
.L_E1DE:
  jsr dungeon.loadFloor           ; E1DE 20 EC E7
.L_E1E1:
  lda #$3A    ; E1E1 A9 3A
    jsr call_switch1stBank          ; E1E3 20 06 FF
    jsr thunk_await_nmi_by_set_handler  ; E1E6 20 00 FF
    lda #$02    ; E1E9 A9 02
.L_E1EB:
  sta $4014   ; E1EB 8D 14 40
    jsr .L_8515   ; E1EE 20 15 85
    jsr .L_E54C   ; E1F1 20 4C E5
    lda <$F0     ; E1F4 A5 F0
    clc             ; E1F6 18
    adc #$01    ; E1F7 69 01
    sta <$F0     ; E1F9 85 F0
    lda <$F1     ; E1FB A5 F1
    adc #$00    ; E1FD 69 00
.L_E1FF:
  sta <$F1     ; E1FF 85 F1
    jsr field.call_sound_driver     ; E201 20 50 C7
    lda <$36     ; E204 A5 36
    ora <$35     ; E206 05 35
    cmp #$08    ; E208 C9 08
    bne .L_E20F   ; E20A D0 03
    jsr .L_E900   ; E20C 20 00 E9
.L_E20F:
  lda <$34     ; E20F A5 34
    bne .L_E229   ; E211 D0 16
    lda <$76     ; E213 A5 76
    bne .L_E229   ; E215 D0 12
    lda <$AB     ; E217 A5 AB
    and #$E0    ; E219 29 E0
    beq .L_E220   ; E21B F0 03
    jmp .L_E26A   ; E21D 4C 6A E2
; ----------------------------------------------------------------------------
.L_E220:
  lda <$76     ; E220 A5 76
    ora <$A9     ; E222 05 A9
    bne .L_E229   ; E224 D0 03
    jsr floor.getInputAndHandleEvent    ; E226 20 F8 E2
.L_E229:
  lda <$A9     ; E229 A5 A9
    bne .L_E23A   ; E22B D0 0D
    lda <$76     ; E22D A5 76
    beq .L_E23A   ; E22F F0 09
    sta <$92     ; E231 85 92
    lda #$00    ; E233 A9 00
    sta <$76     ; E235 85 76
    jsr field.show_message_window   ; E237 20 8B EC
.L_E23A:
  jsr switch_to_floor_logics_bank ; E23A 20 28 EB
    jsr .L_B78A   ; E23D 20 8A B7
    jsr field.init_sprites_cache    ; E240 20 86 C4
    jsr .L_D844   ; E243 20 44 D8
    jsr switch_to_floor_logics_bank ; E246 20 28 EB
    jsr .L_B7F9   ; E249 20 F9 B7
    lda <$4B     ; E24C A5 4B
    cmp #$FF    ; E24E C9 FF
    beq .L_E1E1   ; E250 F0 8F
    lda #$00    ; E252 A9 00
    sta <$94     ; E254 85 94
    lda <$4B     ; E256 A5 4B
    sta <$92     ; E258 85 92
    lda #$82    ; E25A A9 82
    sta <$95     ; E25C 85 95
    lda #$FF    ; E25E A9 FF
    sta <$4B     ; E260 85 4B
    lda #$04    ; E262 A9 04
    jsr field.show_window           ; E264 20 8D EC
    jmp .L_E1E1   ; E267 4C E1 E1
; ----------------------------------------------------------------------------
.L_E26A:
  cmp #$40    ; E26A C9 40
    bcs .L_E28B   ; E26C B0 1D
    jsr .L_D34D   ; E26E 20 4D D3
    jsr .L_E283   ; E271 20 83 E2
    jsr beginBattle                 ; E274 20 49 C0
    lda #$01    ; E277 A9 01
    jsr .L_E7F8   ; E279 20 F8 E7
    lda #$FF    ; E27C A9 FF
    sta <$4B     ; E27E 85 4B
    jmp .L_E1E1   ; E280 4C E1 E1
; ----------------------------------------------------------------------------
.L_E283:
  lda #$3A    ; E283 A9 3A
    jsr call_switch1stBank          ; E285 20 06 FF
    jmp .L_8533   ; E288 4C 33 85
; ----------------------------------------------------------------------------
.L_E28B:
  bne .L_E295   ; E28B D0 08
    lda #$94    ; E28D A9 94
.L_E28F:
  sta $7F49   ; E28F 8D 49 7F
    jmp .L_D08C   ; E292 4C 8C D0
; ----------------------------------------------------------------------------
.L_E295:
  cmp #$80    ; E295 C9 80
    bne .L_E2CE   ; E297 D0 35
    tsx             ; E299 BA
    cpx #$20    ; E29A E0 20
    bcs .L_E2A1   ; E29C B0 03
    jmp .L_E220   ; E29E 4C 20 E2
; ----------------------------------------------------------------------------
.L_E2A1:
  lda <$29     ; E2A1 A5 29
    pha             ; E2A3 48
    lda <$2A     ; E2A4 A5 2A
    pha             ; E2A6 48
    lda <$48     ; E2A7 A5 48
    pha             ; E2A9 48
    lda #$93    ; E2AA A9 93
    jsr .L_E28F   ; E2AC 20 8F E2
    lda <$45     ; E2AF A5 45
    and #$0F    ; E2B1 29 0F
    tax             ; E2B3 AA
    lda $0700,x ; E2B4 BD 00 07
    sta <$48     ; E2B7 85 48
    jsr dungeon.mainLoop            ; E2B9 20 DC E1
    pla             ; E2BC 68
    sta <$48     ; E2BD 85 48
    pla             ; E2BF 68
    sta <$2A     ; E2C0 85 2A
    pla             ; E2C2 68
    sta <$29     ; E2C3 85 29
    lda #$00    ; E2C5 A9 00
    sta <$A5     ; E2C7 85 A5
    lda #$81    ; E2C9 A9 81
    jmp .L_E1DE   ; E2CB 4C DE E1
; ----------------------------------------------------------------------------
.L_E2CE:
  cmp #$C0    ; E2CE C9 C0
    bne floor.getInputAndHandleEvent    ; E2D0 D0 26
    lda #$94    ; E2D2 A9 94
    sta $7F49   ; E2D4 8D 49 7F
    jsr .L_D08C   ; E2D7 20 8C D0
    lda #$00    ; E2DA A9 00
    jsr call_switch1stBank          ; E2DC 20 06 FF
    lda $0730   ; E2DF AD 30 07
    and #$3F    ; E2E2 29 3F
    tax             ; E2E4 AA
    lda $8880,x ; E2E5 BD 80 88
    sec             ; E2E8 38
    sbc #$07    ; E2E9 E9 07
    sta <$27     ; E2EB 85 27
    lda $88C0,x ; E2ED BD C0 88
    sec             ; E2F0 38
    sbc #$07    ; E2F1 E9 07
    sta <$28     ; E2F3 85 28
    jmp .L_C0ED   ; E2F5 4C ED C0
; ----------------------------------------------------------------------------
; bank $3f
floor.getInputAndHandleEvent:
    lda <$50     ; E2F8 A5 50
    beq .L_E32E   ; E2FA F0 32
    lda #$02    ; E2FC A9 02
    jsr .L_D469   ; E2FE 20 69 D4
    lda <$50     ; E301 A5 50
    bpl .L_E31F   ; E303 10 1A
    cmp #$80    ; E305 C9 80
    bne .L_E314   ; E307 D0 0B
    lda #$1E    ; E309 A9 1E
    jsr call_switchFirst2Banks      ; E30B 20 03 FF
    jsr .L_BFF7   ; E30E 20 F7 BF
    jmp .L_E325   ; E311 4C 25 E3
; ----------------------------------------------------------------------------
.L_E314:
  lda #$1E    ; E314 A9 1E
    jsr call_switchFirst2Banks      ; E316 20 03 FF
    jsr .L_BFFA   ; E319 20 FA BF
    jmp .L_E325   ; E31C 4C 25 E3
; ----------------------------------------------------------------------------
.L_E31F:
  jsr switch_to_floor_logics_bank ; E31F 20 28 EB
    jsr .L_AF1F   ; E322 20 1F AF
.L_E325:
  lda #$00    ; E325 A9 00
    sta <$50     ; E327 85 50
    lda #$01    ; E329 A9 01
    jmp .L_E7F8   ; E32B 4C F8 E7
; ----------------------------------------------------------------------------
.L_E32E:
  lda <$6C     ; E32E A5 6C
    bne .L_E36E   ; E330 D0 3C
    lda <$24     ; E332 A5 24
    beq .L_E339   ; E334 F0 03
    jmp floor.getEvent              ; E336 4C 26 EA
; ----------------------------------------------------------------------------
.L_E339:
  lda <$25     ; E339 A5 25
    beq .L_E340   ; E33B F0 03
    jmp .L_EA9C   ; E33D 4C 9C EA
; ----------------------------------------------------------------------------
.L_E340:
  lda <$23     ; E340 A5 23
    beq .L_E35B   ; E342 F0 17
    lda #$00    ; E344 A9 00
    sta <$23     ; E346 85 23
    lda #$02    ; E348 A9 02
    jsr .L_D469   ; E34A 20 69 D4
    jsr .L_E283   ; E34D 20 83 E2
    jsr switch_to_floor_logics_bank ; E350 20 28 EB
    jsr menu.main_loop              ; E353 20 2F A5
    lda #$01    ; E356 A9 01
    jmp .L_E7F8   ; E358 4C F8 E7
; ----------------------------------------------------------------------------
.L_E35B:
  lda <$22     ; E35B A5 22
    beq .L_E36E   ; E35D F0 0F
    lda #$00    ; E35F A9 00
    sta <$22     ; E361 85 22
    lda #$97    ; E363 A9 97
    sta $7F49   ; E365 8D 49 7F
    jsr switch_to_floor_logics_bank ; E368 20 28 EB
    jmp .L_F72C   ; E36B 4C 2C F7
; ----------------------------------------------------------------------------
.L_E36E:
  lda <$4B     ; E36E A5 4B
    cmp #$FF    ; E370 C9 FF
    bne .L_E37D   ; E372 D0 09
    jsr floor.getInputOrFireObjectEvent ; E374 20 19 D2
    lda <$20     ; E377 A5 20
    and #$0F    ; E379 29 0F
    bne .L_E37E   ; E37B D0 01
.L_E37D:
  rts             ; E37D 60
; ----------------------------------------------------------------------------
.L_E37E:
  sta <$33     ; E37E 85 33
    jsr floor.fireOnMove            ; E380 20 96 E3
    bcs .L_E37D   ; E383 B0 F8
    jsr switch_to_floor_logics_bank ; E385 20 28 EB
    jsr .L_B6DA   ; E388 20 DA B6
    lda $6021   ; E38B AD 21 60
    and #$BF    ; E38E 29 BF
    sta $6021   ; E390 8D 21 60
    jmp .L_CA67   ; E393 4C 67 CA
; ----------------------------------------------------------------------------
; bank $3f
floor.fireOnMove:
    jsr floor.getEventSourceCoodinates  ; E396 20 E9 E4
    jsr .L_E3F1   ; E399 20 F1 E3
    bcs .L_E3E5   ; E39C B0 47
    jsr floor.getChipEvent          ; E39E 20 1C E5
    lda <$44     ; E3A1 A5 44
    bmi .L_E3D0   ; E3A3 30 2B
    bit <$44     ; E3A5 24 44
    bvc .L_E3B4   ; E3A7 50 0B
    lda #$3D    ; E3A9 A9 3D
    jsr call_switch2ndBank          ; E3AB 20 09 FF
    sec             ; E3AE 38
    jsr .L_BC5B   ; E3AF 20 5B BC
    lda <$44     ; E3B2 A5 44
.L_E3B4:
  and #$07    ; E3B4 29 07
    beq .L_E3CA   ; E3B6 F0 12
    cmp #$04    ; E3B8 C9 04
    bcs .L_E3C8   ; E3BA B0 0C
    cmp #$03    ; E3BC C9 03
    beq .L_E3E5   ; E3BE F0 25
    ora <$A5     ; E3C0 05 A5
    cmp #$03    ; E3C2 C9 03
    beq .L_E3E5   ; E3C4 F0 1F
    sta <$A5     ; E3C6 85 A5
.L_E3C8:
  clc             ; E3C8 18
    rts             ; E3C9 60
; ----------------------------------------------------------------------------
.L_E3CA:
  lda #$00    ; E3CA A9 00
    sta <$A5     ; E3CC 85 A5
    clc             ; E3CE 18
    rts             ; E3CF 60
; ----------------------------------------------------------------------------
.L_E3D0:
  lda <$45     ; E3D0 A5 45
    lsr a       ; E3D2 4A
    lsr a       ; E3D3 4A
    lsr a       ; E3D4 4A
    lsr a       ; E3D5 4A
    asl a       ; E3D6 0A
    tax             ; E3D7 AA
    lda .L_E669,x ; E3D8 BD 69 E6
    sta .L_0080   ; E3DB 85 80
    lda .L_E66A,x ; E3DD BD 6A E6
    sta <$81     ; E3E0 85 81
    jmp (.L_0080) ; E3E2 6C 80 00
; ----------------------------------------------------------------------------
.L_E3E5:
  lda #$00    ; E3E5 A9 00
    sta <$45     ; E3E7 85 45
    sta <$AB     ; E3E9 85 AB
    lda <$43     ; E3EB A5 43
    sta <$44     ; E3ED 85 44
    sec             ; E3EF 38
    rts             ; E3F0 60
; ----------------------------------------------------------------------------
.L_E3F1:
  ldx #$00    ; E3F1 A2 00
.L_E3F3:
  lda $7106,x ; E3F3 BD 06 71
    beq .L_E401   ; E3F6 F0 09
    lda <$A5     ; E3F8 A5 A5
    beq .L_E401   ; E3FA F0 05
    cmp $7106,x ; E3FC DD 06 71
    bne .L_E423   ; E3FF D0 22
.L_E401:
  lda $7000,x ; E401 BD 00 70
    beq .L_E423   ; E404 F0 1D
    lda $7002,x ; E406 BD 02 70
    cmp <$84     ; E409 C5 84
    bne .L_E423   ; E40B D0 16
    lda $7003,x ; E40D BD 03 70
    cmp <$85     ; E410 C5 85
    bne .L_E423   ; E412 D0 0F
    lda $700B,x ; E414 BD 0B 70
    and #$03    ; E417 29 03
    sta $700B,x ; E419 9D 0B 70
    lda #$01    ; E41C A9 01
    sta $700D,x ; E41E 9D 0D 70
    sec             ; E421 38
    rts             ; E422 60
; ----------------------------------------------------------------------------
.L_E423:
  txa             ; E423 8A
    clc             ; E424 18
    adc #$10    ; E425 69 10
    tax             ; E427 AA
    cmp #$C0    ; E428 C9 C0
    bcc .L_E3F3   ; E42A 90 C7
    ldx #$00    ; E42C A2 00
.L_E42E:
  lda <$A5     ; E42E A5 A5
    beq .L_E43B   ; E430 F0 09
    lda $7106,x ; E432 BD 06 71
    beq .L_E43B   ; E435 F0 04
    cmp <$A5     ; E437 C5 A5
    bne .L_E489   ; E439 D0 4E
.L_E43B:
  lda $7000,x ; E43B BD 00 70
    beq .L_E489   ; E43E F0 49
    lda $7008,x ; E440 BD 08 70
    bmi .L_E45F   ; E443 30 1A
    lda $7009,x ; E445 BD 09 70
    bpl .L_E474   ; E448 10 2A
    lda $7004,x ; E44A BD 04 70
    cmp <$84     ; E44D C5 84
    bne .L_E489   ; E44F D0 38
    lda $7005,x ; E451 BD 05 70
    clc             ; E454 18
    adc #$01    ; E455 69 01
    and #$3F    ; E457 29 3F
    cmp <$85     ; E459 C5 85
    bne .L_E489   ; E45B D0 2C
    beq .L_E482   ; E45D F0 23
.L_E45F:
  lda $7004,x ; E45F BD 04 70
    clc             ; E462 18
    adc #$01    ; E463 69 01
    and #$3F    ; E465 29 3F
    cmp <$84     ; E467 C5 84
    bne .L_E489   ; E469 D0 1E
    lda $7005,x ; E46B BD 05 70
    cmp <$85     ; E46E C5 85
    bne .L_E489   ; E470 D0 17
    beq .L_E482   ; E472 F0 0E
.L_E474:
  lda $7004,x ; E474 BD 04 70
    cmp <$84     ; E477 C5 84
    bne .L_E489   ; E479 D0 0E
    lda $7005,x ; E47B BD 05 70
    cmp <$85     ; E47E C5 85
    bne .L_E489   ; E480 D0 07
.L_E482:
  lda #$01    ; E482 A9 01
    sta $700D,x ; E484 9D 0D 70
    clc             ; E487 18
    rts             ; E488 60
; ----------------------------------------------------------------------------
.L_E489:
  txa             ; E489 8A
    clc             ; E48A 18
    adc #$10    ; E48B 69 10
    tax             ; E48D AA
    cmp #$C0    ; E48E C9 C0
    bcc .L_E42E   ; E490 90 9C
    clc             ; E492 18
    rts             ; E493 60
; ----------------------------------------------------------------------------
.L_E494:
  ldx #$00    ; E494 A2 00
.L_E496:
  lda $7106,x ; E496 BD 06 71
    beq .L_E4A8   ; E499 F0 0D
    cmp #$03    ; E49B C9 03
    beq .L_E4A8   ; E49D F0 09
    lda <$A5     ; E49F A5 A5
    beq .L_E4A8   ; E4A1 F0 05
    cmp $7106,x ; E4A3 DD 06 71
    bne .L_E4DE   ; E4A6 D0 36
.L_E4A8:
  lda $7000,x ; E4A8 BD 00 70
    beq .L_E4DE   ; E4AB F0 31
    lda $7006,x ; E4AD BD 06 70
    cmp #$08    ; E4B0 C9 08
    lda $7004,x ; E4B2 BD 04 70
    adc #$00    ; E4B5 69 00
    and #$3F    ; E4B7 29 3F
    cmp <$84     ; E4B9 C5 84
    bne .L_E4DE   ; E4BB D0 21
    lda $7007,x ; E4BD BD 07 70
    cmp #$08    ; E4C0 C9 08
    lda $7005,x ; E4C2 BD 05 70
    adc #$00    ; E4C5 69 00
    and #$3F    ; E4C7 29 3F
    cmp <$85     ; E4C9 C5 85
    bne .L_E4DE   ; E4CB D0 11
    lda $7001,x ; E4CD BD 01 70
    and #$30    ; E4D0 29 30
    bne .L_E4DC   ; E4D2 D0 08
    lda $700D,x ; E4D4 BD 0D 70
    ora #$80    ; E4D7 09 80
    sta $700D,x ; E4D9 9D 0D 70
.L_E4DC:
  sec             ; E4DC 38
    rts             ; E4DD 60
; ----------------------------------------------------------------------------
.L_E4DE:
  txa             ; E4DE 8A
    clc             ; E4DF 18
    adc #$10    ; E4E0 69 10
    tax             ; E4E2 AA
.L_E4E3:
  cmp #$C0    ; E4E3 C9 C0
    bcc .L_E496   ; E4E5 90 AF
    clc             ; E4E7 18
    rts             ; E4E8 60
; ----------------------------------------------------------------------------
; bank $3f
floor.getEventSourceCoodinates:
    lsr a       ; E4E9 4A
    bcs .L_E500   ; E4EA B0 14
    lsr a       ; E4EC 4A
    bcs .L_E507   ; E4ED B0 18
    lsr a       ; E4EF 4A
    bcs .L_E4F9   ; E4F0 B0 07
    ldx #$07    ; E4F2 A2 07
    ldy #$06    ; E4F4 A0 06
    jmp .L_E50B   ; E4F6 4C 0B E5
; ----------------------------------------------------------------------------
.L_E4F9:
  ldx #$07    ; E4F9 A2 07
    ldy #$08    ; E4FB A0 08
    jmp .L_E50B   ; E4FD 4C 0B E5
; ----------------------------------------------------------------------------
.L_E500:
  ldx #$08    ; E500 A2 08
    ldy #$07    ; E502 A0 07
    jmp .L_E50B   ; E504 4C 0B E5
; ----------------------------------------------------------------------------
.L_E507:
  ldx #$06    ; E507 A2 06
    ldy #$07    ; E509 A0 07
.L_E50B:
  txa             ; E50B 8A
    clc             ; E50C 18
    adc <$29     ; E50D 65 29
    and #$3F    ; E50F 29 3F
    sta <$84     ; E511 85 84
    tya             ; E513 98
    clc             ; E514 18
    adc <$2A     ; E515 65 2A
    and #$3F    ; E517 29 3F
    sta <$85     ; E519 85 85
    rts             ; E51B 60
; ----------------------------------------------------------------------------
; bank $3f
floor.getChipEvent:
    ldy <$4C     ; E51C A4 4C
    lda <$84     ; E51E A5 84
    ora <$85     ; E520 05 85
    and #$20    ; E522 29 20
    bne .L_E541   ; E524 D0 1B
    lda <$85     ; E526 A5 85
    and #$1F    ; E528 29 1F
    lsr a       ; E52A 4A
    lsr a       ; E52B 4A
    lsr a       ; E52C 4A
    ora #$74    ; E52D 09 74
    sta <$81     ; E52F 85 81
    lda <$85     ; E531 A5 85
    asl a       ; E533 0A
    asl a       ; E534 0A
    asl a       ; E535 0A
    asl a       ; E536 0A
    asl a       ; E537 0A
    ora <$84     ; E538 05 84
    sta .L_0080   ; E53A 85 80
    ldy #$00    ; E53C A0 00
    lda (.L_0080),y                   ; E53E B1 80
    tay             ; E540 A8
.L_E541:
  lda $0400,y ; E541 B9 00 04
    sta <$44     ; E544 85 44
    lda $0500,y ; E546 B9 00 05
    sta <$45     ; E549 85 45
    rts             ; E54B 60
; ----------------------------------------------------------------------------
.L_E54C:
  lda #$1E    ; E54C A9 1E
    sta $2001   ; E54E 8D 01 20
    jsr .L_E7D1   ; E551 20 D1 E7
    lda $2002   ; E554 AD 02 20
    lda <$34     ; E557 A5 34
    beq .L_E571   ; E559 F0 16
    jsr .L_E5EB   ; E55B 20 EB E5
    jsr .L_C907   ; E55E 20 07 C9
    lda <$44     ; E561 A5 44
    and #$08    ; E563 29 08
    cmp #$08    ; E565 C9 08
    bne .L_E570   ; E567 D0 07
    lda <$45     ; E569 A5 45
    bne .L_E570   ; E56B D0 03
    jsr .L_C8FD   ; E56D 20 FD C8
.L_E570:
  rts             ; E570 60
; ----------------------------------------------------------------------------
.L_E571:
  lda <$FD     ; E571 A5 FD
    sta <$FF     ; E573 85 FF
    sta $2000   ; E575 8D 00 20
    lda <$29     ; E578 A5 29
    asl a       ; E57A 0A
    asl a       ; E57B 0A
    asl a       ; E57C 0A
    asl a       ; E57D 0A
    ora <$35     ; E57E 05 35
    sta $2005   ; E580 8D 05 20
    lda <$2F     ; E583 A5 2F
    asl a       ; E585 0A
    asl a       ; E586 0A
    asl a       ; E587 0A
    asl a       ; E588 0A
    ora <$36     ; E589 05 36
    sta $2005   ; E58B 8D 05 20
    rts             ; E58E 60
; ----------------------------------------------------------------------------
.L_E58F:
  lda <$32     ; E58F A5 32
    beq .L_E596   ; E591 F0 03
    jsr .L_CA79   ; E593 20 79 CA
.L_E596:
  jsr .L_E571   ; E596 20 71 E5
    lda <$35     ; E599 A5 35
    clc             ; E59B 18
    adc <$34     ; E59C 65 34
    and #$0F    ; E59E 29 0F
    beq .L_E5A5   ; E5A0 F0 03
    sta <$35     ; E5A2 85 35
    rts             ; E5A4 60
; ----------------------------------------------------------------------------
.L_E5A5:
  sta <$34     ; E5A5 85 34
    sta <$35     ; E5A7 85 35
    lda <$29     ; E5A9 A5 29
    clc             ; E5AB 18
    adc #$01    ; E5AC 69 01
    and #$3F    ; E5AE 29 3F
    sta <$29     ; E5B0 85 29
    and #$10    ; E5B2 29 10
    lsr <$FD     ; E5B4 46 FD
    cmp #$10    ; E5B6 C9 10
    rol <$FD     ; E5B8 26 FD
    rts             ; E5BA 60
; ----------------------------------------------------------------------------
.L_E5BB:
  lda <$32     ; E5BB A5 32
    beq .L_E5C2   ; E5BD F0 03
    jsr .L_CA79   ; E5BF 20 79 CA
.L_E5C2:
  jsr .L_E571   ; E5C2 20 71 E5
    lda <$35     ; E5C5 A5 35
    bne .L_E5DC   ; E5C7 D0 13
    lda <$29     ; E5C9 A5 29
    sec             ; E5CB 38
    sbc #$01    ; E5CC E9 01
    and #$3F    ; E5CE 29 3F
    sta <$29     ; E5D0 85 29
    and #$10    ; E5D2 29 10
    lsr <$FD     ; E5D4 46 FD
    cmp #$10    ; E5D6 C9 10
    rol <$FD     ; E5D8 26 FD
    lda <$35     ; E5DA A5 35
.L_E5DC:
  sec             ; E5DC 38
    sbc <$34     ; E5DD E5 34
    and #$0F    ; E5DF 29 0F
    beq .L_E5E6   ; E5E1 F0 03
    sta <$35     ; E5E3 85 35
    rts             ; E5E5 60
; ----------------------------------------------------------------------------
.L_E5E6:
  sta <$34     ; E5E6 85 34
    sta <$35     ; E5E8 85 35
    rts             ; E5EA 60
; ----------------------------------------------------------------------------
.L_E5EB:
  lda <$33     ; E5EB A5 33
    lsr a       ; E5ED 4A
    bcs .L_E58F   ; E5EE B0 9F
    lsr a       ; E5F0 4A
    bcs .L_E5BB   ; E5F1 B0 C8
    lsr a       ; E5F3 4A
    bcs .L_E5F9   ; E5F4 B0 03
    jmp .L_E630   ; E5F6 4C 30 E6
; ----------------------------------------------------------------------------
.L_E5F9:
  lda <$32     ; E5F9 A5 32
    beq .L_E606   ; E5FB F0 09
    lda <$36     ; E5FD A5 36
    cmp #$08    ; E5FF C9 08
    bne .L_E606   ; E601 D0 03
    jsr .L_CA79   ; E603 20 79 CA
.L_E606:
  jsr .L_E571   ; E606 20 71 E5
    lda <$36     ; E609 A5 36
    clc             ; E60B 18
    adc <$34     ; E60C 65 34
    and #$0F    ; E60E 29 0F
    beq .L_E615   ; E610 F0 03
    sta <$36     ; E612 85 36
    rts             ; E614 60
; ----------------------------------------------------------------------------
.L_E615:
  sta <$34     ; E615 85 34
    sta <$36     ; E617 85 36
    lda <$2A     ; E619 A5 2A
    clc             ; E61B 18
    adc #$01    ; E61C 69 01
    and #$3F    ; E61E 29 3F
    sta <$2A     ; E620 85 2A
    lda <$2F     ; E622 A5 2F
    clc             ; E624 18
    adc #$01    ; E625 69 01
    cmp #$0F    ; E627 C9 0F
    bcc .L_E62D   ; E629 90 02
    sbc #$0F    ; E62B E9 0F
.L_E62D:
  sta <$2F     ; E62D 85 2F
    rts             ; E62F 60
; ----------------------------------------------------------------------------
.L_E630:
  lda <$32     ; E630 A5 32
    beq .L_E63D   ; E632 F0 09
    lda <$36     ; E634 A5 36
    cmp #$08    ; E636 C9 08
    bne .L_E63D   ; E638 D0 03
    jsr .L_CA79   ; E63A 20 79 CA
.L_E63D:
  jsr .L_E571   ; E63D 20 71 E5
    lda <$36     ; E640 A5 36
    bne .L_E65A   ; E642 D0 16
    lda <$2A     ; E644 A5 2A
    sec             ; E646 38
    sbc #$01    ; E647 E9 01
    and #$3F    ; E649 29 3F
    sta <$2A     ; E64B 85 2A
    lda <$2F     ; E64D A5 2F
    sec             ; E64F 38
    sbc #$01    ; E650 E9 01
    bcs .L_E656   ; E652 B0 02
    adc #$0F    ; E654 69 0F
.L_E656:
  sta <$2F     ; E656 85 2F
    lda <$36     ; E658 A5 36
.L_E65A:
  sec             ; E65A 38
    sbc <$34     ; E65B E5 34
    and #$0F    ; E65D 29 0F
    beq .L_E664   ; E65F F0 03
    sta <$36     ; E661 85 36
    rts             ; E663 60
; ----------------------------------------------------------------------------
.L_E664:
  sta <$34     ; E664 85 34
    sta <$36     ; E666 85 36
    rts             ; E668 60
; ----------------------------------------------------------------------------
.L_E669:
  .byte   <$89     ; E669 89
.L_E66A:
  inc <$8F     ; E66A E6 8F
    inc <$B9     ; E66C E6 B9
    inc <$B9     ; E66E E6 B9
    inc <$95     ; E670 E6 95
    inc <$9B     ; E672 E6 9B
    inc <$A8     ; E674 E6 A8
    inc <$B9     ; E676 E6 B9
    inc <$B9     ; E678 E6 B9
    inc <$B9     ; E67A E6 B9
    inc <$B9     ; E67C E6 B9
    inc <$B9     ; E67E E6 B9
    inc <$B3     ; E680 E6 B3
    inc <$B3     ; E682 E6 B3
    inc <$B3     ; E684 E6 B3
    inc <$BE     ; E686 E6 BE
    inc <$A9     ; E688 E6 A9
    rti             ; E68A 40
; ----------------------------------------------------------------------------
    sta <$AB     ; E68B 85 AB
    clc             ; E68D 18
    rts             ; E68E 60
; ----------------------------------------------------------------------------
    lda #$C0    ; E68F A9 C0
    sta <$AB     ; E691 85 AB
    clc             ; E693 18
    rts             ; E694 60
; ----------------------------------------------------------------------------
.L_E695:
  lda #$80    ; E695 A9 80
    sta <$AB     ; E697 85 AB
    clc             ; E699 18
    rts             ; E69A 60
; ----------------------------------------------------------------------------
; bank $3f
floor.event05:
    lda #$83    ; E69B A9 83
.L_E69D:
  sta $7F49   ; E69D 8D 49 7F
    lda #$7E    ; E6A0 A9 7E
    jsr .L_E6F2   ; E6A2 20 F2 E6
    jmp .L_E695   ; E6A5 4C 95 E6
; ----------------------------------------------------------------------------
    lda $6021   ; E6A8 AD 21 60
    and #$40    ; E6AB 29 40
    beq .L_E6B3   ; E6AD F0 04
    lda #$92    ; E6AF A9 92
    bne .L_E69D   ; E6B1 D0 EA
.L_E6B3:
  lda <$43     ; E6B3 A5 43
    sta <$44     ; E6B5 85 44
    sec             ; E6B7 38
    rts             ; E6B8 60
; ----------------------------------------------------------------------------
    lda <$44     ; E6B9 A5 44
    jmp .L_E3B4   ; E6BB 4C B4 E3
; ----------------------------------------------------------------------------
; bank $3f
floor.event07:
    lda <$45     ; E6BE A5 45
    and #$0F    ; E6C0 29 0F
    tax             ; E6C2 AA
    lda $0720,x ; E6C3 BD 20 07
.L_E6C6:
  pha             ; E6C6 48
    jsr switch_to_object_params_bank    ; E6C7 20 23 EB
    pla             ; E6CA 68
    asl a       ; E6CB 0A
    tax             ; E6CC AA
    lda $8880,x ; E6CD BD 80 88
    sta <$82     ; E6D0 85 82
    lda $8881,x ; E6D2 BD 81 88
    sta <$83     ; E6D5 85 83
    jsr floor.cache_event_script    ; E6D7 20 1B EA
    jsr switch_to_floor_logics_bank ; E6DA 20 28 EB
    jsr .L_9274   ; E6DD 20 74 92
    jsr .L_9319   ; E6E0 20 19 93
    jsr .L_E9DD   ; E6E3 20 DD E9
    lda <$2D     ; E6E6 A5 2D
    lsr a       ; E6E8 4A
    bcc .L_E714   ; E6E9 90 29
    lda <$44     ; E6EB A5 44
    jmp .L_E3B4   ; E6ED 4C B4 E3
; ----------------------------------------------------------------------------
.L_E6F0:
  lda #$7D    ; E6F0 A9 7D
.L_E6F2:
  sta <$0D     ; E6F2 85 0D
    ldx #$07    ; E6F4 A2 07
    lda <$33     ; E6F6 A5 33
    and #$0C    ; E6F8 29 0C
    beq .L_E704   ; E6FA F0 08
    ldx #$08    ; E6FC A2 08
    cmp #$04    ; E6FE C9 04
    beq .L_E704   ; E700 F0 02
    ldx #$06    ; E702 A2 06
.L_E704:
  txa             ; E704 8A
    clc             ; E705 18
    adc <$2F     ; E706 65 2F
    cmp #$0F    ; E708 C9 0F
    bcc .L_E70E   ; E70A 90 02
    sbc #$0F    ; E70C E9 0F
.L_E70E:
  sta <$0F     ; E70E 85 0F
    lda <$84     ; E710 A5 84
    sta <$0E     ; E712 85 0E
.L_E714:
  rts             ; E714 60
; ----------------------------------------------------------------------------
.L_E715:
  ldx <$0F     ; E715 A6 0F
    lda <$0E     ; E717 A5 0E
    asl a       ; E719 0A
    cmp #$20    ; E71A C9 20
    bcs .L_E729   ; E71C B0 0B
    ora .L_CB84,x ; E71E 1D 84 CB
    sta .L_0080   ; E721 85 80
    lda .L_CB94,x ; E723 BD 94 CB
    jmp .L_E736   ; E726 4C 36 E7
; ----------------------------------------------------------------------------
.L_E729:
  and #$1F    ; E729 29 1F
    ora .L_CB84,x ; E72B 1D 84 CB
.L_E72E:
  sta .L_0080   ; E72E 85 80
    lda .L_CB94,x ; E730 BD 94 CB
    clc             ; E733 18
    adc #$04    ; E734 69 04
.L_E736:
  sta <$81     ; E736 85 81
    sta $2006   ; E738 8D 06 20
    lda .L_0080   ; E73B A5 80
    sta $2006   ; E73D 8D 06 20
    ldx <$0D     ; E740 A6 0D
    lda $7C00,x ; E742 BD 00 7C
    sta $2007   ; E745 8D 07 20
    lda $7D00,x ; E748 BD 00 7D
    sta $2007   ; E74B 8D 07 20
    lda <$81     ; E74E A5 81
    sta $2006   ; E750 8D 06 20
    lda .L_0080   ; E753 A5 80
    clc             ; E755 18
    adc #$20    ; E756 69 20
    sta $2006   ; E758 8D 06 20
    lda $7E00,x ; E75B BD 00 7E
    sta $2007   ; E75E 8D 07 20
    lda $7200,x ; E761 BD 00 72
    sta $2007   ; E764 8D 07 20
    lda #$00    ; E767 A9 00
    sta <$82     ; E769 85 82
    lda <$0E     ; E76B A5 0E
    and #$0F    ; E76D 29 0F
    lsr a       ; E76F 4A
    sta .L_0080   ; E770 85 80
    bcc .L_E776   ; E772 90 02
    inc <$82     ; E774 E6 82
.L_E776:
  lda <$0F     ; E776 A5 0F
    lsr a       ; E778 4A
    bcc .L_E77F   ; E779 90 04
    inc <$82     ; E77B E6 82
    inc <$82     ; E77D E6 82
.L_E77F:
  asl a       ; E77F 0A
    asl a       ; E780 0A
    asl a       ; E781 0A
    ora .L_0080   ; E782 05 80
    sta .L_0080   ; E784 85 80
    lda #$23    ; E786 A9 23
    sta <$81     ; E788 85 81
    lda <$0E     ; E78A A5 0E
    cmp #$10    ; E78C C9 10
    bcc .L_E79B   ; E78E 90 0B
    lda .L_0080   ; E790 A5 80
    clc             ; E792 18
    adc #$40    ; E793 69 40
    sta .L_0080   ; E795 85 80
    lda #$27    ; E797 A9 27
    sta <$81     ; E799 85 81
.L_E79B:
  ldx .L_0080   ; E79B A6 80
    ldy <$0D     ; E79D A4 0D
    lda $0600,y ; E79F B9 00 06
    ldy <$82     ; E7A2 A4 82
    and .L_E7CC,y ; E7A4 39 CC E7
    sta <$82     ; E7A7 85 82
    lda $0300,x ; E7A9 BD 00 03
    and .L_E7C8,y ; E7AC 39 C8 E7
    ora <$82     ; E7AF 05 82
    sta $0300,x ; E7B1 9D 00 03
    sta <$82     ; E7B4 85 82
    lda <$81     ; E7B6 A5 81
    sta $2006   ; E7B8 8D 06 20
    lda .L_0080   ; E7BB A5 80
    ora #$C0    ; E7BD 09 C0
    sta $2006   ; E7BF 8D 06 20
    lda <$82     ; E7C2 A5 82
    sta $2007   ; E7C4 8D 07 20
    rts             ; E7C7 60
; ----------------------------------------------------------------------------
.L_E7C8:
  .byte   <$FC     ; E7C8 FC
    .byte   <$F3     ; E7C9 F3
    .byte   <$CF     ; E7CA CF
    .byte   <$3F     ; E7CB 3F
.L_E7CC:
  .byte   <$03     ; E7CC 03
    tsb .L_C030   ; E7CD 0C 30 C0
.L_E7D0:
  rts             ; E7D0 60
; ----------------------------------------------------------------------------
.L_E7D1:
  lda <$0D     ; E7D1 A5 0D
    beq .L_E7D0   ; E7D3 F0 FB
    lda <$34     ; E7D5 A5 34
    beq .L_E7E3   ; E7D7 F0 0A
    lda <$33     ; E7D9 A5 33
    and #$03    ; E7DB 29 03
    beq .L_E7E3   ; E7DD F0 04
    lda <$32     ; E7DF A5 32
    bne .L_E7D0   ; E7E1 D0 ED
.L_E7E3:
  jsr .L_E715   ; E7E3 20 15 E7
    lda #$00    ; E7E6 A9 00
    sta <$0D     ; E7E8 85 0D
    rts             ; E7EA 60
; ----------------------------------------------------------------------------
    rts             ; E7EB 60
; ----------------------------------------------------------------------------
; bank $3f
dungeon.loadFloor:
    jsr dungeon.loadFloorData       ; E7EC 20 03 E8
    jsr .L_E811   ; E7EF 20 11 E8
    jsr .L_E81B   ; E7F2 20 1B E8
    jmp .L_D066   ; E7F5 4C 66 D0
; ----------------------------------------------------------------------------
.L_E7F8:
  jsr dungeon.loadFloorData       ; E7F8 20 03 E8
    jsr .L_E81B   ; E7FB 20 1B E8
    lda #$03    ; E7FE A9 03
    jmp .L_D469   ; E800 4C 69 D4
; ----------------------------------------------------------------------------
; bank $3f
dungeon.loadFloorData:
    sta <$AA     ; E803 85 AA
    lda #$01    ; E805 A9 01
    sta <$2D     ; E807 85 2D
    lda #$00    ; E809 A9 00
    sta $2001   ; E80B 8D 01 20
    jmp field.loadWarpDestinationFloor  ; E80E 4C A4 CB
; ----------------------------------------------------------------------------
.L_E811:
  lda #$3B    ; E811 A9 3B
    jsr call_switch2ndBank          ; E813 20 09 FF
    ldx #$07    ; E816 A2 07
    jmp .L_A003   ; E818 4C 03 A0
; ----------------------------------------------------------------------------
.L_E81B:
  lda #$00    ; E81B A9 00
    sta <$37     ; E81D 85 37
    sta $2001   ; E81F 8D 01 20
    sta <$22     ; E822 85 22
    sta <$23     ; E824 85 23
    sta <$24     ; E826 85 24
    sta <$25     ; E828 85 25
    sta <$AB     ; E82A 85 AB
    jsr .L_DD0F   ; E82C 20 0F DD
    lda #$3A    ; E82F A9 3A
    jsr call_switch1stBank          ; E831 20 06 FF
    jsr .L_8509   ; E834 20 09 85
    lda <$33     ; E837 A5 33
    pha             ; E839 48
    jsr .L_CA25   ; E83A 20 25 CA
    pla             ; E83D 68
    sta <$33     ; E83E 85 33
    lda <$29     ; E840 A5 29
    and #$10    ; E842 29 10
    cmp #$10    ; E844 C9 10
    rol a       ; E846 2A
    and #$01    ; E847 29 01
    ora #$88    ; E849 09 88
    sta <$FD     ; E84B 85 FD
    sta <$FF     ; E84D 85 FF
    jsr thunk_await_nmi_by_set_handler  ; E84F 20 00 FF
    jsr .L_D308   ; E852 20 08 D3
    jsr .L_E571   ; E855 20 71 E5
    lda #$00    ; E858 A9 00
    sta $2001   ; E85A 8D 01 20
    lda <$AA     ; E85D A5 AA
    bne .L_E865   ; E85F D0 04
    lda #$04    ; E861 A9 04
    sta <$33     ; E863 85 33
.L_E865:
  lda <$29     ; E865 A5 29
    clc             ; E867 18
    adc #$07    ; E868 69 07
    and #$3F    ; E86A 29 3F
    sta <$68     ; E86C 85 68
    sta <$84     ; E86E 85 84
    lda <$2A     ; E870 A5 2A
    clc             ; E872 18
    adc #$07    ; E873 69 07
    and #$3F    ; E875 29 3F
    sta <$85     ; E877 85 85
    sta <$69     ; E879 85 69
    jsr floor.getChipEvent          ; E87B 20 1C E5
    lda <$AA     ; E87E A5 AA
    bmi .L_E884   ; E880 30 02
    bne .L_E890   ; E882 D0 0C
.L_E884:
  lda <$44     ; E884 A5 44
    and #$34    ; E886 29 34
    sta <$43     ; E888 85 43
    lda <$44     ; E88A A5 44
    and #$03    ; E88C 29 03
    sta <$A5     ; E88E 85 A5
.L_E890:
  lda <$44     ; E890 A5 44
    bpl .L_E89D   ; E892 10 09
    lda <$45     ; E894 A5 45
    cmp #$F0    ; E896 C9 F0
    bcc .L_E89D   ; E898 90 03
    jsr .L_E3D0   ; E89A 20 D0 E3
.L_E89D:
  lda <$43     ; E89D A5 43
    sta <$44     ; E89F 85 44
    lda #$00    ; E8A1 A9 00
    sta <$45     ; E8A3 85 45
    lda #$39    ; E8A5 A9 39
    jsr call_switch2ndBank          ; E8A7 20 09 FF
    ldx <$48     ; E8AA A6 48
    lda <$78     ; E8AC A5 78
    beq .L_E8B6   ; E8AE F0 06
    lda .L_BF00,x ; E8B0 BD 00 BF
    jmp .L_E8B9   ; E8B3 4C B9 E8
; ----------------------------------------------------------------------------
.L_E8B6:
  lda .L_BE00,x ; E8B6 BD 00 BE
.L_E8B9:
  sta <$F8     ; E8B9 85 F8
    lda #$00    ; E8BB A9 00
    jsr call_switchFirst2Banks      ; E8BD 20 03 FF
    jsr switch_to_floor_logics_bank ; E8C0 20 28 EB
    jsr .L_B627   ; E8C3 20 27 B6
    lda <$AA     ; E8C6 A5 AA
    beq .L_E8CE   ; E8C8 F0 04
    lda #$FF    ; E8CA A9 FF
    sta <$4B     ; E8CC 85 4B
.L_E8CE:
  lda .L_004D   ; E8CE A5 4D
    bmi .L_E8DB   ; E8D0 30 09
    sta $7F43   ; E8D2 8D 43 7F
    lda #$01    ; E8D5 A9 01
    sta $7F42   ; E8D7 8D 42 7F
    rts             ; E8DA 60
; ----------------------------------------------------------------------------
.L_E8DB:
  and #$07    ; E8DB 29 07
    ora #$38    ; E8DD 09 38
    ldx #$88    ; E8DF A2 88
    jsr floor.loadEventScriptStream ; E8E1 20 04 EA
    jsr switch_to_floor_logics_bank ; E8E4 20 28 EB
    lda <$6C     ; E8E7 A5 6C
    pha             ; E8E9 48
    jsr .L_9319   ; E8EA 20 19 93
    lda <$6C     ; E8ED A5 6C
    sta <$71     ; E8EF 85 71
    lda #$F8    ; E8F1 A9 F8
    sta <$70     ; E8F3 85 70
    pla             ; E8F5 68
    sta <$6C     ; E8F6 85 6C
    lda #$3B    ; E8F8 A9 3B
    jsr call_switch2ndBank          ; E8FA 20 09 FF
    jmp .L_A000   ; E8FD 4C 00 A0
; ----------------------------------------------------------------------------
.L_E900:
  lda <$44     ; E900 A5 44
    and #$04    ; E902 29 04
    beq .L_E910   ; E904 F0 0A
    lda <$A5     ; E906 A5 A5
    lsr a       ; E908 4A
    bcc .L_E910   ; E909 90 05
    lda #$00    ; E90B A9 00
    sta <$43     ; E90D 85 43
    rts             ; E90F 60
; ----------------------------------------------------------------------------
.L_E910:
  lda <$44     ; E910 A5 44
    and #$34    ; E912 29 34
    sta <$43     ; E914 85 43
    rts             ; E916 60
; ----------------------------------------------------------------------------
; bank $3f
floor.processChipEvent:
    jsr floor.getChipEvent          ; E917 20 1C E5
    lda <$44     ; E91A A5 44
    bpl .L_E95E   ; E91C 10 40
    tya             ; E91E 98
    cmp #$90    ; E91F C9 90
    bcc .L_E95E   ; E921 90 3B
    cmp #$A0    ; E923 C9 A0
    bcc .L_E968   ; E925 90 41
    cmp #$D0    ; E927 C9 D0
    bcc .L_E95E   ; E929 90 33
    cmp #$F0    ; E92B C9 F0
    bcs .L_E95E   ; E92D B0 2F
    ldx #$00    ; E92F A2 00
    stx <$BA     ; E931 86 BA
    cmp #$E0    ; E933 C9 E0
    bcc OnTreasure                  ; E935 90 4B
    dec <$BA     ; E937 C6 BA
    lda <$45     ; E939 A5 45
    and #$0F    ; E93B 29 0F
    tax             ; E93D AA
    lda $0710,x ; E93E BD 10 07
    pha             ; E941 48
    .byte   <$29     ; E942 29
.L_E943:
  rmb0    <$AA     ; E943 07
    tax             ; E944 AA
    pla             ; E945 68
    lsr a       ; E946 4A
    lsr a       ; E947 4A
    lsr a       ; E948 4A
    tay             ; E949 A8
    lda <$78     ; E94A A5 78
    beq .L_E953   ; E94C F0 05
    tya             ; E94E 98
    clc             ; E94F 18
    adc #$20    ; E950 69 20
    tay             ; E952 A8
.L_E953:
  lda .L_E960,x ; E953 BD 60 E9
    and .L_6040,y ; E956 39 40 60
    beq .L_E95E   ; E959 F0 03
    jmp OnTreasure                  ; E95B 4C 82 E9
; ----------------------------------------------------------------------------
.L_E95E:
  clc             ; E95E 18
    rts             ; E95F 60
; ----------------------------------------------------------------------------
.L_E960:
  ora ($02,x) ; E960 01 02
    tsb <$08     ; E962 04 08
    bpl .L_E986   ; E964 10 20
    rti             ; E966 40
; ----------------------------------------------------------------------------
    .byte   <$80     ; E967 80
.L_E968:
  ldx $600E   ; E968 AE 0E 60
    lda $6100,x ; E96B BD 00 61
    cmp #$08    ; E96E C9 08
    beq .L_E976   ; E970 F0 04
    lda #$03    ; E972 A9 03
    sec             ; E974 38
    rts             ; E975 60
; ----------------------------------------------------------------------------
.L_E976:
  lda $6021   ; E976 AD 21 60
    ora #$40    ; E979 09 40
    sta $6021   ; E97B 8D 21 60
    lda #$7A    ; E97E A9 7A
    sec             ; E980 38
    rts             ; E981 60
; ----------------------------------------------------------------------------
; bank $3f
OnTreasure:
    lda #$BF    ; E982 A9 BF
    .byte   <$8D     ; E984 8D
    .byte   <$49     ; E985 49
.L_E986:
  bbr7    $24,.L_E943                   ; E986 7F 24 BA
    bmi .L_E98E   ; E989 30 03
    jsr .L_E6F0   ; E98B 20 F0 E6
.L_E98E:
  lda .L_0080   ; E98E A5 80
    pha             ; E990 48
    lda <$81     ; E991 A5 81
    pha             ; E993 48
    jsr floor.get_treasure          ; E994 20 49 F5
    tax             ; E997 AA
    pla             ; E998 68
    sta <$81     ; E999 85 81
    pla             ; E99B 68
    sta .L_0080   ; E99C 85 80
    txa             ; E99E 8A
    cmp #$50    ; E99F C9 50
    bne .L_E9AD   ; E9A1 D0 0A
    lda #$00    ; E9A3 A9 00
    sta <$0D     ; E9A5 85 0D
    sta <$44     ; E9A7 85 44
    lda #$50    ; E9A9 A9 50
.L_E9AB:
  sec             ; E9AB 38
    rts             ; E9AC 60
; ----------------------------------------------------------------------------
.L_E9AD:
  bit <$BA     ; E9AD 24 BA
    bmi .L_E9AB   ; E9AF 30 FA
    tax             ; E9B1 AA
    ldy #$00    ; E9B2 A0 00
    lda #$7D    ; E9B4 A9 7D
    sta (.L_0080),y                   ; E9B6 91 80
    txa             ; E9B8 8A
    sec             ; E9B9 38
    rts             ; E9BA 60
; ----------------------------------------------------------------------------
; bank $3f
floor.getObjectEvent:
    lda <$43     ; E9BB A5 43
    sta <$44     ; E9BD 85 44
    lda $7000,x ; E9BF BD 00 70
    sta <$A0     ; E9C2 85 A0
    ldx #$82    ; E9C4 A2 82
    lda <$78     ; E9C6 A5 78
    beq .L_E9CC   ; E9C8 F0 02
    ldx #$84    ; E9CA A2 84
.L_E9CC:
  lda <$A0     ; E9CC A5 A0
    jsr floor.loadEventScriptStream ; E9CE 20 04 EA
    lda <$A0     ; E9D1 A5 A0
    cmp #$E0    ; E9D3 C9 E0
    bcs .L_E9E8   ; E9D5 B0 11
    jsr switch_to_floor_logics_bank ; E9D7 20 28 EB
    jsr floor.copyEventScriptStream ; E9DA 20 F3 92
.L_E9DD:
  lda <$6C     ; E9DD A5 6C
    beq .L_E9E4   ; E9DF F0 03
    jmp floor.getObjectEventPtr     ; E9E1 4C 2C C7
; ----------------------------------------------------------------------------
.L_E9E4:
  rts             ; E9E4 60
; ----------------------------------------------------------------------------
.L_E9E5:
  inc <$50     ; E9E5 E6 50
    rts             ; E9E7 60
; ----------------------------------------------------------------------------
.L_E9E8:
  cmp #$E3    ; E9E8 C9 E3
    bcs .L_E9E5   ; E9EA B0 F9
    ldx #$08    ; E9EC A2 08
    lda #$3B    ; E9EE A9 3B
    jsr call_switch2ndBank          ; E9F0 20 09 FF
    jsr .L_A003   ; E9F3 20 03 A0
    jsr switch_to_floor_logics_bank ; E9F6 20 28 EB
    jsr .L_8FDD   ; E9F9 20 DD 8F
    lda <$6C     ; E9FC A5 6C
    beq .L_EA03   ; E9FE F0 03
    jmp floor.getObjectEventPtr     ; EA00 4C 2C C7
; ----------------------------------------------------------------------------
.L_EA03:
  rts             ; EA03 60
; ----------------------------------------------------------------------------
; bank $3f
floor.loadEventScriptStream:
    asl a       ; EA04 0A
    tay             ; EA05 A8
    bcc .L_EA09   ; EA06 90 01
    inx             ; EA08 E8
.L_EA09:
  stx <$81     ; EA09 86 81
    lda #$00    ; EA0B A9 00
    sta .L_0080   ; EA0D 85 80
    jsr switch_to_object_params_bank    ; EA0F 20 23 EB
    lda (.L_0080),y                   ; EA12 B1 80
    sta <$82     ; EA14 85 82
    iny             ; EA16 C8
    lda (.L_0080),y                   ; EA17 B1 80
    sta <$83     ; EA19 85 83
; bank $3f
floor.cache_event_script:
    ldy #$3F    ; EA1B A0 3F
.L_EA1D:
  lda [$82],y ; EA1D B1 82
    sta $7B00,y ; EA1F 99 00 7B
    dey             ; EA22 88
    bpl .L_EA1D   ; EA23 10 F8
    rts             ; EA25 60
; ----------------------------------------------------------------------------
; bank $3f
floor.getEvent:
    lda #$00    ; EA26 A9 00
    sta <$24     ; EA28 85 24
    jsr thunk_await_nmi_by_set_handler  ; EA2A 20 00 FF
    jsr field.call_sound_driver     ; EA2D 20 50 C7
    lda <$33     ; EA30 A5 33
    jsr floor.getEventSourceCoodinates  ; EA32 20 E9 E4
    jsr .L_E494   ; EA35 20 94 E4
    bcc .L_EA3D   ; EA38 90 03
    jmp floor.getObjectEvent        ; EA3A 4C BB E9
; ----------------------------------------------------------------------------
.L_EA3D:
  jsr floor.processChipEvent      ; EA3D 20 17 E9
    bcc .L_EA51   ; EA40 90 0F
    sta <$76     ; EA42 85 76
    lda #$82    ; EA44 A9 82
    sta <$95     ; EA46 85 95
    lda #$00    ; EA48 A9 00
    sta <$94     ; EA4A 85 94
    lda <$43     ; EA4C A5 43
    sta <$44     ; EA4E 85 44
    rts             ; EA50 60
; ----------------------------------------------------------------------------
.L_EA51:
  lda <$43     ; EA51 A5 43
    sta <$44     ; EA53 85 44
    rts             ; EA55 60
; ----------------------------------------------------------------------------
.L_EA56:
  bit <$7E     ; EA56 24 7E
    bvs .L_EA51   ; EA58 70 F7
    lda $600B   ; EA5A AD 0B 60
    beq .L_EA51   ; EA5D F0 F2
    inc <$A9     ; EA5F E6 A9
    jsr switch_to_object_params_bank    ; EA61 20 23 EB
    lda $600B   ; EA64 AD 0B 60
    sec             ; EA67 38
    sbc #$01    ; EA68 E9 01
    asl a       ; EA6A 0A
    tax             ; EA6B AA
    lda $8860,x ; EA6C BD 60 88
    sta <$82     ; EA6F 85 82
    lda $8861,x ; EA71 BD 61 88
    sta <$83     ; EA74 85 83
    jsr floor.cache_event_script    ; EA76 20 1B EA
    jsr switch_to_floor_logics_bank ; EA79 20 28 EB
    jsr .L_9319   ; EA7C 20 19 93
    lda <$E1     ; EA7F A5 E1
    and #$0F    ; EA81 29 0F
    tax             ; EA83 AA
    lda .L_EA8C,x ; EA84 BD 8C EA
    sta <$33     ; EA87 85 33
    jmp .L_E9DD   ; EA89 4C DD E9
; ----------------------------------------------------------------------------
.L_EA8C:
  php             ; EA8C 08
    .byte   <$02     ; EA8D 02
    ora (.L_0000,x)                   ; EA8E 01 00
    php             ; EA90 08
    .byte   <$02     ; EA91 02
    ora (.L_0000,x)                   ; EA92 01 00
    tsb <$02     ; EA94 04 02
    ora (.L_0000,x)                   ; EA96 01 00
    brk             ; EA98 00
    brk             ; EA99 00
    brk             ; EA9A 00
    brk             ; EA9B 00
.L_EA9C:
  lda #$00    ; EA9C A9 00
    sta <$25     ; EA9E 85 25
    jsr thunk_await_nmi_by_set_handler  ; EAA0 20 00 FF
    jsr field.call_sound_driver     ; EAA3 20 50 C7
    lda <$33     ; EAA6 A5 33
    jsr floor.getEventSourceCoodinates  ; EAA8 20 E9 E4
    jsr .L_E494   ; EAAB 20 94 E4
    bcs .L_EAD0   ; EAAE B0 20
    jsr floor.getChipEvent          ; EAB0 20 1C E5
    lda <$44     ; EAB3 A5 44
    bpl .L_EAC9   ; EAB5 10 12
    tya             ; EAB7 98
    cmp #$90    ; EAB8 C9 90
    bcc .L_EAC9   ; EABA 90 0D
    cmp #$A0    ; EABC C9 A0
    bcs .L_EAC9   ; EABE B0 09
    lda <$43     ; EAC0 A5 43
    sta <$44     ; EAC2 85 44
    lda #$DF    ; EAC4 A9 DF
    jmp .L_EAD7   ; EAC6 4C D7 EA
; ----------------------------------------------------------------------------
.L_EAC9:
  lda <$43     ; EAC9 A5 43
    sta <$44     ; EACB 85 44
    jmp .L_EA56   ; EACD 4C 56 EA
; ----------------------------------------------------------------------------
.L_EAD0:
  lda <$43     ; EAD0 A5 43
    sta <$44     ; EAD2 85 44
    lda $7000,x ; EAD4 BD 00 70
.L_EAD7:
  sta <$A0     ; EAD7 85 A0
    ldx #$08    ; EAD9 A2 08
    lda #$3B    ; EADB A9 3B
    jsr call_switch2ndBank          ; EADD 20 09 FF
    jsr .L_A003   ; EAE0 20 03 A0
    jsr switch_to_floor_logics_bank ; EAE3 20 28 EB
    jsr .L_8DE3   ; EAE6 20 E3 8D
    bne .L_EAEC   ; EAE9 D0 01
.L_EAEB:
  rts             ; EAEB 60
; ----------------------------------------------------------------------------
.L_EAEC:
  sta <$67     ; EAEC 85 67
    cmp #$B0    ; EAEE C9 B0
    bcs .L_EAEB   ; EAF0 B0 F9
    cmp #$98    ; EAF2 C9 98
    bcc .L_EAEB   ; EAF4 90 F5
    sbc #$98    ; EAF6 E9 98
    asl a       ; EAF8 0A
    tax             ; EAF9 AA
    lda <$78     ; EAFA A5 78
    beq .L_EB03   ; EAFC F0 05
    txa             ; EAFE 8A
    clc             ; EAFF 18
    adc #$30    ; EB00 69 30
    tax             ; EB02 AA
.L_EB03:
  jsr switch_to_object_params_bank    ; EB03 20 23 EB
    lda $8800,x ; EB06 BD 00 88
    sta <$82     ; EB09 85 82
    lda $8801,x ; EB0B BD 01 88
    sta <$83     ; EB0E 85 83
    jsr floor.cache_event_script    ; EB10 20 1B EA
    jsr switch_to_floor_logics_bank ; EB13 20 28 EB
    lda $7B00   ; EB16 AD 00 7B
    cmp <$A0     ; EB19 C5 A0
    bne .L_EAEB   ; EB1B D0 CE
    jsr .L_92EE   ; EB1D 20 EE 92
    jmp .L_E9DD   ; EB20 4C DD E9
; ----------------------------------------------------------------------------
; bank $3f
switch_to_object_params_bank:
    lda #$2C    ; EB23 A9 2C
    jmp call_switchFirst2Banks      ; EB25 4C 03 FF
; ----------------------------------------------------------------------------
; bank $3f
switch_to_floor_logics_bank:
    lda #$3C    ; EB28 A9 3C
    jmp call_switchFirst2Banks      ; EB2A 4C 03 FF
; ----------------------------------------------------------------------------
; bank $3f
field.scrolldown_item_window:
    ldy #$00    ; EB2D A0 00
    lda <$93     ; EB2F A5 93
    jsr call_switchFirst2Banks      ; EB31 20 03 FF
    lda [$3E],y ; EB34 B1 3E
    bne field.do_scrolldown_item_window ; EB36 D0 0B
    lda #$40    ; EB38 A9 40
    sta <$B4     ; EB3A 85 B4
; bank $3f
field.abort_item_window_scroll:
    lda <$57     ; EB3C A5 57
    jsr call_switchFirst2Banks      ; EB3E 20 03 FF
    sec             ; EB41 38
    rts             ; EB42 60
; ----------------------------------------------------------------------------
; bank $3f
field.do_scrolldown_item_window:
    lda #$C0    ; EB43 A9 C0
    sta <$B4     ; EB45 85 B4
    lda <$A3     ; EB47 A5 A3
    cmp #$02    ; EB49 C9 02
    bne .L_EB5E   ; EB4B D0 11
    lda $79F0   ; EB4D AD F0 79
    sec             ; EB50 38
    sbc #$08    ; EB51 E9 08
    sta $79F0   ; EB53 8D F0 79
    lda $79F2   ; EB56 AD F2 79
    sbc #$00    ; EB59 E9 00
    sta $79F2   ; EB5B 8D F2 79
.L_EB5E:
  jsr field.seek_text_to_next_line    ; EB5E 20 A9 EB
; bank $3f
field.reflect_window_scroll:
    jsr field.draw_string_in_window ; EB61 20 C0 EE
    jsr restore_banks_by_$57        ; EB64 20 F5 EC
    clc             ; EB67 18
    rts             ; EB68 60
; ----------------------------------------------------------------------------
; bank $3f
field.scrollup_item_window:
    lda <$1C     ; EB69 A5 1C
    sec             ; EB6B 38
    sbc #$02    ; EB6C E9 02
    sta <$1C     ; EB6E 85 1C
    lda <$1D     ; EB70 A5 1D
    sbc #$00    ; EB72 E9 00
    sta <$1D     ; EB74 85 1D
    lda <$93     ; EB76 A5 93
    jsr call_switchFirst2Banks      ; EB78 20 03 FF
    ldy #$01    ; EB7B A0 01
    lda [$1C],y ; EB7D B1 1C
    beq .L_EBA2   ; EB7F F0 21
    jsr field.unseek_text_to_line_beginning; EB81 20 D1 EB
    lda #$C0    ; EB84 A9 C0
    sta <$B4     ; EB86 85 B4
    lda <$A3     ; EB88 A5 A3
    cmp #$02    ; EB8A C9 02
    bne .L_EB9F   ; EB8C D0 11
    lda $79F0   ; EB8E AD F0 79
    clc             ; EB91 18
    adc #$08    ; EB92 69 08
    sta $79F0   ; EB94 8D F0 79
    lda $79F2   ; EB97 AD F2 79
    adc #$00    ; EB9A 69 00
    sta $79F2   ; EB9C 8D F2 79
.L_EB9F:
  jmp field.reflect_window_scroll ; EB9F 4C 61 EB
; ----------------------------------------------------------------------------
.L_EBA2:
  lda #$80    ; EBA2 A9 80
    sta <$B4     ; EBA4 85 B4
    jmp field.abort_item_window_scroll  ; EBA6 4C 3C EB
; ----------------------------------------------------------------------------
; bank $3f
field.seek_text_to_next_line:
    ldy #$00    ; EBA9 A0 00
.L_EBAB:
  lda [$1C],y ; EBAB B1 1C
    inc <$1C     ; EBAD E6 1C
    bne .L_EBB3   ; EBAF D0 02
    inc <$1D     ; EBB1 E6 1D
.L_EBB3:
  cmp #$01    ; EBB3 C9 01
    beq .L_EBC8   ; EBB5 F0 11
    cmp #$28    ; EBB7 C9 28
    bcs .L_EBAB   ; EBB9 B0 F0
    cmp #$10    ; EBBB C9 10
    bcc .L_EBAB   ; EBBD 90 EC
    inc <$1C     ; EBBF E6 1C
    bne .L_EBAB   ; EBC1 D0 E8
    inc <$1D     ; EBC3 E6 1D
    jmp .L_EBAB   ; EBC5 4C AB EB
; ----------------------------------------------------------------------------
.L_EBC8:
  lda <$1C     ; EBC8 A5 1C
    sta <$3E     ; EBCA 85 3E
    lda <$1D     ; EBCC A5 1D
    sta <$3F     ; EBCE 85 3F
    rts             ; EBD0 60
; ----------------------------------------------------------------------------
; bank $3f
field.unseek_text_to_line_beginning:
    lda <$1C     ; EBD1 A5 1C
    sec             ; EBD3 38
    sbc #$01    ; EBD4 E9 01
.L_EBD6:
  sta <$1C     ; EBD6 85 1C
    lda <$1D     ; EBD8 A5 1D
    sbc #$00    ; EBDA E9 00
    sta <$1D     ; EBDC 85 1D
    ldy #$00    ; EBDE A0 00
    lda [$1C],y ; EBE0 B1 1C
    cmp #$10    ; EBE2 C9 10
    bcc .L_EBF2   ; EBE4 90 0C
    cmp #$28    ; EBE6 C9 28
    bcs .L_EBF2   ; EBE8 B0 08
    lda <$1C     ; EBEA A5 1C
    sec             ; EBEC 38
    sbc #$02    ; EBED E9 02
    jmp .L_EBD6   ; EBEF 4C D6 EB
; ----------------------------------------------------------------------------
.L_EBF2:
  iny             ; EBF2 C8
    lda [$1C],y ; EBF3 B1 1C
    beq .L_EBFE   ; EBF5 F0 07
    cmp #$01    ; EBF7 C9 01
    beq .L_EBFE   ; EBF9 F0 03
    jmp field.unseek_text_to_line_beginning; EBFB 4C D1 EB
; ----------------------------------------------------------------------------
.L_EBFE:
  lda <$1C     ; EBFE A5 1C
    clc             ; EC00 18
    adc #$02    ; EC01 69 02
    sta <$3E     ; EC03 85 3E
    lda <$1D     ; EC05 A5 1D
    adc #$00    ; EC07 69 00
    sta <$3F     ; EC09 85 3F
    rts             ; EC0B 60
; ----------------------------------------------------------------------------
; bank $3f
field.show_sprites_on_lower_half_screen:
    ldx #$06    ; EC0C A2 06
    lda #$01    ; EC0E A9 01
    bne field.showhide_sprites_by_region; EC10 D0 08
; bank $3f
field.show_sprites_on_region7:
    ldx #$07    ; EC12 A2 07
    lda #$01    ; EC14 A9 01
    bne field.showhide_sprites_by_region; EC16 D0 02
; bank $3f
field.hide_sprites_under_window:
    lda #$00    ; EC18 A9 00
; bank $3f
field.showhide_sprites_by_region:
    sta <$84     ; EC1A 85 84
    lda u8,x    ; EC1C BD 67 EC
    sta .L_0080   ; EC1F 85 80
    lda .L_EC6E,x ; EC21 BD 6E EC
    sta <$81     ; EC24 85 81
    lda .L_EC75,x ; EC26 BD 75 EC
    sta <$82     ; EC29 85 82
    lda .L_EC7C,x ; EC2B BD 7C EC
    sta <$83     ; EC2E 85 83
    ldy #$40    ; EC30 A0 40
.L_EC32:
  lda $0203,y ; EC32 B9 03 02
    cmp .L_0080   ; EC35 C5 80
    bcc .L_EC5F   ; EC37 90 26
    cmp <$81     ; EC39 C5 81
    bcs .L_EC5F   ; EC3B B0 22
    lda $0200,y ; EC3D B9 00 02
    cmp <$82     ; EC40 C5 82
    bcc .L_EC5F   ; EC42 90 1B
    cmp <$83     ; EC44 C5 83
    bcs .L_EC5F   ; EC46 B0 17
    lda <$84     ; EC48 A5 84
    bne .L_EC57   ; EC4A D0 0B
    lda $0202,y ; EC4C B9 02 02
    ora #$20    ; EC4F 09 20
    sta $0202,y ; EC51 99 02 02
    jmp .L_EC5F   ; EC54 4C 5F EC
; ----------------------------------------------------------------------------
.L_EC57:
  lda $0202,y ; EC57 B9 02 02
    and #$DF    ; EC5A 29 DF
    sta $0202,y ; EC5C 99 02 02
.L_EC5F:
  tya             ; EC5F 98
.L_EC60:
  clc             ; EC60 18
    adc #$04    ; EC61 69 04
.L_EC63:
  tay             ; EC63 A8
    bcc .L_EC32   ; EC64 90 CC
    rts             ; EC66 60
; ----------------------------------------------------------------------------
; bank $3f
u8: asl a       ; EC67 0A
    asl a       ; EC68 0A
    asl a       ; EC69 0A
    txa             ; EC6A 8A
    asl a       ; EC6B 0A
    asl a       ; EC6C 0A
    asl a       ; EC6D 0A
.L_EC6E:
  bbs6    $4F,.L_EC60                   ; EC6E EF 4F EF
    bbs6    $EF,.L_EC63                   ; EC71 EF EF EF
    .byte   <$EF     ; EC74 EF
.L_EC75:
  asl a       ; EC75 0A
    txa             ; EC76 8A
    txa             ; EC77 8A
    ror a       ; EC78 6A
    asl a       ; EC79 0A
    asl a       ; EC7A 0A
    ror a       ; EC7B 6A
.L_EC7C:
  rmb5    <$D7     ; EC7C 57
    smb5    <$D7     ; EC7D D7
    smb5    <$87     ; EC7E D7
    smb0    <$2A     ; EC7F 87
    rol a       ; EC80 2A
    rmb5    <$D7     ; EC81 57
    smb5    <$A9     ; EC82 D7
; bank $3f
field.show_message_UNKNOWN:
    lda #$00    ; EC83 A9 00
    jsr field.draw_in_place_window  ; EC85 20 FA EC
    jmp field.stream_string_in_window   ; EC88 4C 65 EE
; ----------------------------------------------------------------------------
; bank $3f
field.show_message_window:
    lda #$00    ; EC8B A9 00
; bank $3f
field.show_window:
    jsr field.draw_in_place_window  ; EC8D 20 FA EC
    jsr field.stream_string_in_window   ; EC90 20 65 EE
    jsr field.await_and_get_new_input   ; EC93 20 AB EC
    lda <$7D     ; EC96 A5 7D
    beq .L_ECA8   ; EC98 F0 0E
.L_EC9A:
  lda <$20     ; EC9A A5 20
    bmi .L_ECA4   ; EC9C 30 06
    jsr field.get_next_input        ; EC9E 20 C4 EC
    jmp .L_EC9A   ; ECA1 4C 9A EC
; ----------------------------------------------------------------------------
.L_ECA4:
  lda #$00    ; ECA4 A9 00
    sta <$7D     ; ECA6 85 7D
.L_ECA8:
  jmp .L_C9B6   ; ECA8 4C B6 C9
; ----------------------------------------------------------------------------
; bank $3f
field.await_and_get_new_input:
    jsr field.get_input             ; ECAB 20 81 D2
    lda <$20     ; ECAE A5 20
    beq field.get_next_input        ; ECB0 F0 0B
    jsr thunk_await_nmi_by_set_handler  ; ECB2 20 00 FF
    inc <$F0     ; ECB5 E6 F0
    jsr field.call_sound_driver     ; ECB7 20 50 C7
    jmp field.await_and_get_new_input   ; ECBA 4C AB EC
; ----------------------------------------------------------------------------
; bank $3f
field.get_next_input:
    jsr field.get_input             ; ECBD 20 81 D2
    lda <$20     ; ECC0 A5 20
    bne .L_ECCF   ; ECC2 D0 0B
; bank $3f
field.get_next_input:
    jsr thunk_await_nmi_by_set_handler  ; ECC4 20 00 FF
    inc <$F0     ; ECC7 E6 F0
    jsr field.call_sound_driver     ; ECC9 20 50 C7
    jmp field.get_next_input        ; ECCC 4C BD EC
; ----------------------------------------------------------------------------
.L_ECCF:
  lda <$20     ; ECCF A5 20
    sta <$21     ; ECD1 85 21
    lda <$93     ; ECD3 A5 93
    jmp call_switchFirst2Banks      ; ECD5 4C 03 FF
; ----------------------------------------------------------------------------
; bank $3f
field.advance_frame_with_sound:
    jsr thunk_await_nmi_by_set_handler  ; ECD8 20 00 FF
    inc <$F0     ; ECDB E6 F0
    jsr field.call_sound_driver     ; ECDD 20 50 C7
    lda <$93     ; ECE0 A5 93
    jmp call_switchFirst2Banks      ; ECE2 4C 03 FF
; ----------------------------------------------------------------------------
; bank $3f
field.draw_window_top:
    lda <$39     ; ECE5 A5 39
    sta <$3B     ; ECE7 85 3B
    jsr field.calc_draw_width_and_init_window_tile_buffer; ECE9 20 70 F6
    jsr field.init_window_attr_buffer   ; ECEC 20 56 ED
    jsr field.getWindowTilesForTop  ; ECEF 20 F6 ED
    jsr field.draw_window_row       ; ECF2 20 C6 ED
; bank $3f
restore_banks_by_$57:
    lda <$57     ; ECF5 A5 57
    jmp call_switchFirst2Banks      ; ECF7 4C 03 FF
; ----------------------------------------------------------------------------
; bank $3f
field.draw_in_place_window:
    sta <$96     ; ECFA 85 96
    lda #$00    ; ECFC A9 00
    sta <$24     ; ECFE 85 24
    sta <$25     ; ED00 85 25
; bank $3f
field.draw_window_box:
    ldx <$96     ; ED02 A6 96
    jsr field.get_window_region     ; ED04 20 61 ED
    lda <$39     ; ED07 A5 39
    sta <$3B     ; ED09 85 3B
    jsr field.calc_draw_width_and_init_window_tile_buffer; ED0B 20 70 F6
    jsr field.init_window_attr_buffer   ; ED0E 20 56 ED
    lda <$3D     ; ED11 A5 3D
    sec             ; ED13 38
    sbc #$02    ; ED14 E9 02
    pha             ; ED16 48
    jsr field.getWindowTilesForTop  ; ED17 20 F6 ED
    jsr field.draw_window_row       ; ED1A 20 C6 ED
    pla             ; ED1D 68
    sec             ; ED1E 38
    sbc #$02    ; ED1F E9 02
    beq .L_ED3B   ; ED21 F0 18
    bcs .L_ED2A   ; ED23 B0 05
    dec <$3B     ; ED25 C6 3B
    jmp .L_ED3B   ; ED27 4C 3B ED
; ----------------------------------------------------------------------------
.L_ED2A:
  pha             ; ED2A 48
    jsr field.getWindowTilesForMiddle   ; ED2B 20 1D EE
    jsr field.draw_window_row       ; ED2E 20 C6 ED
    pla             ; ED31 68
    sec             ; ED32 38
    sbc #$02    ; ED33 E9 02
    beq .L_ED3B   ; ED35 F0 04
    bcs .L_ED2A   ; ED37 B0 F1
    dec <$3B     ; ED39 C6 3B
.L_ED3B:
  jsr field.getWindowTilesForBottom   ; ED3B 20 3E EE
    jsr field.draw_window_row       ; ED3E 20 C6 ED
    inc <$38     ; ED41 E6 38
    inc <$39     ; ED43 E6 39
    lda <$3C     ; ED45 A5 3C
    sec             ; ED47 38
    sbc #$02    ; ED48 E9 02
    sta <$3C     ; ED4A 85 3C
    lda <$3D     ; ED4C A5 3D
    sec             ; ED4E 38
    sbc #$02    ; ED4F E9 02
    sta <$3D     ; ED51 85 3D
    jmp restore_banks_by_$57        ; ED53 4C F5 EC
; ----------------------------------------------------------------------------
; bank $3f
field.init_window_attr_buffer:
    ldx #$0F    ; ED56 A2 0F
    lda #$FF    ; ED58 A9 FF
.L_ED5A:
  sta $07C0,x ; ED5A 9D C0 07
    dex             ; ED5D CA
    bpl .L_ED5A   ; ED5E 10 FA
    rts             ; ED60 60
; ----------------------------------------------------------------------------
; bank $3f
field.get_window_region:
    lda <$37     ; ED61 A5 37
    bne .L_EDB1   ; ED63 D0 4C
    lda .L_EDB2,x ; ED65 BD B2 ED
    sta <$B6     ; ED68 85 B6
    sec             ; ED6A 38
    sbc #$01    ; ED6B E9 01
    sta <$97     ; ED6D 85 97
    lda .L_EDB7,x ; ED6F BD B7 ED
    clc             ; ED72 18
    adc #$02    ; ED73 69 02
    sta <$B5     ; ED75 85 B5
    dec <$B5     ; ED77 C6 B5
    sta <$98     ; ED79 85 98
    lda <$29     ; ED7B A5 29
    asl a       ; ED7D 0A
    clc             ; ED7E 18
    adc .L_EDB2,x ; ED7F 7D B2 ED
    and #$3F    ; ED82 29 3F
    sta <$38     ; ED84 85 38
    lda <$2F     ; ED86 A5 2F
    asl a       ; ED88 0A
    clc             ; ED89 18
    adc .L_EDB7,x ; ED8A 7D B7 ED
    cmp #$1E    ; ED8D C9 1E
    bcc .L_ED93   ; ED8F 90 02
    sbc #$1E    ; ED91 E9 1E
.L_ED93:
  sta <$39     ; ED93 85 39
    lda .L_EDBC,x ; ED95 BD BC ED
    sta <$3C     ; ED98 85 3C
    clc             ; ED9A 18
    adc <$B6     ; ED9B 65 B6
    sta <$B8     ; ED9D 85 B8
    dec <$B8     ; ED9F C6 B8
    lda .L_EDC1,x ; EDA1 BD C1 ED
    sta <$3D     ; EDA4 85 3D
    clc             ; EDA6 18
    adc <$B5     ; EDA7 65 B5
    sec             ; EDA9 38
    sbc #$03    ; EDAA E9 03
    sta <$B7     ; EDAC 85 B7
    jsr field.hide_sprites_under_window ; EDAE 20 18 EC
.L_EDB1:
  rts             ; EDB1 60
; ----------------------------------------------------------------------------
.L_EDB2:
  .byte   <$02     ; EDB2 02
    .byte   <$02     ; EDB3 02
    .byte   <$02     ; EDB4 02
    ora ($02)   ; EDB5 12 02
.L_EDB7:
  .byte   <$02     ; EDB7 02
    ora ($12)   ; EDB8 12 12
    .byte   <$0E     ; EDBA 0E
    .byte   <$02     ; EDBB 02
.L_EDBC:
  trb $1C08   ; EDBC 1C 08 1C
    .byte   <$0C     ; EDBF 0C
    .byte   <$1C     ; EDC0 1C
.L_EDC1:
  asl a       ; EDC1 0A
    asl a       ; EDC2 0A
    asl a       ; EDC3 0A
    tsb <$04     ; EDC4 04 04
; bank $3f
field.draw_window_row:
    lda <$3C     ; EDC6 A5 3C
    sta <$90     ; EDC8 85 90
    jsr field.update_window_attr_buff   ; EDCA 20 8F C9
    jsr thunk_await_nmi_by_set_handler  ; EDCD 20 00 FF
    lda #$02    ; EDD0 A9 02
    sta $4014   ; EDD2 8D 14 40
    jsr field.upload_window_content ; EDD5 20 AA F6
    jsr field.set_bg_attr_for_window    ; EDD8 20 A9 C9
    jsr field.sync_ppu_scroll       ; EDDB 20 E1 ED
    jmp field.call_sound_driver     ; EDDE 4C 50 C7
; ----------------------------------------------------------------------------
; bank $3f
field.sync_ppu_scroll:
    lda <$37     ; EDE1 A5 37
    bne .L_EDE8   ; EDE3 D0 03
    jmp .L_E571   ; EDE5 4C 71 E5
; ----------------------------------------------------------------------------
.L_EDE8:
  lda <$FF     ; EDE8 A5 FF
    sta $2000   ; EDEA 8D 00 20
    lda #$00    ; EDED A9 00
    sta $2005   ; EDEF 8D 05 20
    sta $2005   ; EDF2 8D 05 20
    rts             ; EDF5 60
; ----------------------------------------------------------------------------
; bank $3f
field.getWindowTilesForTop:
    ldx #$01    ; EDF6 A2 01
    lda #$F7    ; EDF8 A9 F7
    sta $0780   ; EDFA 8D 80 07
    lda #$FA    ; EDFD A9 FA
    sta $07A0   ; EDFF 8D A0 07
.L_EE02:
  lda #$F8    ; EE02 A9 F8
    sta $0780,x ; EE04 9D 80 07
    lda #$FF    ; EE07 A9 FF
    sta $07A0,x ; EE09 9D A0 07
    inx             ; EE0C E8
    cpx <$3C     ; EE0D E4 3C
    bcc .L_EE02   ; EE0F 90 F1
    dex             ; EE11 CA
    lda #$F9    ; EE12 A9 F9
    sta $0780,x ; EE14 9D 80 07
    lda #$FB    ; EE17 A9 FB
    sta $07A0,x ; EE19 9D A0 07
    rts             ; EE1C 60
; ----------------------------------------------------------------------------
; bank $3f
field.getWindowTilesForMiddle:
    ldx #$01    ; EE1D A2 01
    lda #$FA    ; EE1F A9 FA
    sta $0780   ; EE21 8D 80 07
    sta $07A0   ; EE24 8D A0 07
    lda #$FF    ; EE27 A9 FF
.L_EE29:
  sta $0780,x ; EE29 9D 80 07
    sta $07A0,x ; EE2C 9D A0 07
    inx             ; EE2F E8
    cpx <$3C     ; EE30 E4 3C
    bcc .L_EE29   ; EE32 90 F5
    dex             ; EE34 CA
    lda #$FB    ; EE35 A9 FB
    sta $0780,x ; EE37 9D 80 07
    sta $07A0,x ; EE3A 9D A0 07
    rts             ; EE3D 60
; ----------------------------------------------------------------------------
; bank $3f
field.getWindowTilesForBottom:
    ldx #$01    ; EE3E A2 01
    lda #$FA    ; EE40 A9 FA
    sta $0780   ; EE42 8D 80 07
    lda #$FC    ; EE45 A9 FC
    sta $07A0   ; EE47 8D A0 07
.L_EE4A:
  lda #$FF    ; EE4A A9 FF
    sta $0780,x ; EE4C 9D 80 07
    lda #$FD    ; EE4F A9 FD
    sta $07A0,x ; EE51 9D A0 07
    inx             ; EE54 E8
    cpx <$3C     ; EE55 E4 3C
    bcc .L_EE4A   ; EE57 90 F1
    dex             ; EE59 CA
    lda #$FB    ; EE5A A9 FB
    sta $0780,x ; EE5C 9D 80 07
    lda #$FE    ; EE5F A9 FE
    sta $07A0,x ; EE61 9D A0 07
    rts             ; EE64 60
; ----------------------------------------------------------------------------
; bank $3f
field.stream_string_in_window:
    jsr field.load_and_draw_string  ; EE65 20 9A EE
    bcc .L_EE99   ; EE68 90 2F
.L_EE6A:
  jsr field.await_and_get_new_input   ; EE6A 20 AB EC
    lda <$3D     ; EE6D A5 3D
.L_EE6F:
  pha             ; EE6F 48
    lda #$00    ; EE70 A9 00
    sta <$F0     ; EE72 85 F0
.L_EE74:
  jsr field.advance_frame_with_sound  ; EE74 20 D8 EC
    lda <$F0     ; EE77 A5 F0
    and #$01    ; EE79 29 01
    bne .L_EE74   ; EE7B D0 F7
    jsr field.seek_text_to_next_line    ; EE7D 20 A9 EB
    jsr field.draw_string_in_window ; EE80 20 C0 EE
    bcs .L_EE8F   ; EE83 B0 0A
    pla             ; EE85 68
    sec             ; EE86 38
    sbc #$02    ; EE87 E9 02
    beq .L_EE99   ; EE89 F0 0E
    bcs .L_EE6F   ; EE8B B0 E2
    bcc .L_EE99   ; EE8D 90 0A
.L_EE8F:
  pla             ; EE8F 68
    sec             ; EE90 38
    sbc #$02    ; EE91 E9 02
    beq .L_EE6A   ; EE93 F0 D5
    bcs .L_EE6F   ; EE95 B0 D8
    bcc .L_EE6A   ; EE97 90 D1
.L_EE99:
  rts             ; EE99 60
; ----------------------------------------------------------------------------
; bank $3f
field.load_and_draw_string:
    lda #$18    ; EE9A A9 18
    jsr call_switch1stBank          ; EE9C 20 06 FF
    lda <$92     ; EE9F A5 92
    asl a       ; EEA1 0A
    tay             ; EEA2 A8
    bcc .L_EEA7   ; EEA3 90 02
    inc <$95     ; EEA5 E6 95
.L_EEA7:
  lda [$94],y ; EEA7 B1 94
    sta <$3E     ; EEA9 85 3E
    iny             ; EEAB C8
    lda [$94],y ; EEAC B1 94
    pha             ; EEAE 48
    and #$1F    ; EEAF 29 1F
    ora #$80    ; EEB1 09 80
    sta <$3F     ; EEB3 85 3F
    pla             ; EEB5 68
    lsr a       ; EEB6 4A
    lsr a       ; EEB7 4A
    lsr a       ; EEB8 4A
    lsr a       ; EEB9 4A
    lsr a       ; EEBA 4A
    clc             ; EEBB 18
    adc #$18    ; EEBC 69 18
    sta <$93     ; EEBE 85 93
; bank $3f
field.draw_string_in_window:
    lda <$93     ; EEC0 A5 93
    jsr call_switchFirst2Banks      ; EEC2 20 03 FF
    lda #$00    ; EEC5 A9 00
    sta <$1E     ; EEC7 85 1E
    lda <$3E     ; EEC9 A5 3E
    sta <$1C     ; EECB 85 1C
    lda <$3F     ; EECD A5 3F
    sta <$1D     ; EECF 85 1D
    sta <$1D     ; EED1 85 1D
    lda <$38     ; EED3 A5 38
    sta <$3A     ; EED5 85 3A
    lda <$39     ; EED7 A5 39
    sta <$3B     ; EED9 85 3B
    jsr field.calc_draw_width_and_init_window_tile_buffer; EEDB 20 70 F6
    lda #$00    ; EEDE A9 00
    sta <$90     ; EEE0 85 90
    sta <$1F     ; EEE2 85 1F
    jsr textd.draw_in_box           ; EEE4 20 FA EE
    bcs .L_EEF3   ; EEE7 B0 0A
    jsr field.draw_window_content   ; EEE9 20 92 F6
    lda <$57     ; EEEC A5 57
    jsr call_switchFirst2Banks      ; EEEE 20 03 FF
.L_EEF1:
  clc             ; EEF1 18
    rts             ; EEF2 60
; ----------------------------------------------------------------------------
.L_EEF3:
  lda <$57     ; EEF3 A5 57
    jsr call_switchFirst2Banks      ; EEF5 20 03 FF
    sec             ; EEF8 38
    rts             ; EEF9 60
; ----------------------------------------------------------------------------
; bank $3f
textd.draw_in_box:
    ldy #$00    ; EEFA A0 00
    lda [$3E],y ; EEFC B1 3E
    beq .L_EEF1   ; EEFE F0 F1
    inc <$3E     ; EF00 E6 3E
    bne .L_EF06   ; EF02 D0 02
    inc <$3F     ; EF04 E6 3F
.L_EF06:
  cmp #$28    ; EF06 C9 28
    bcc .L_EF3E   ; EF08 90 34
    cmp #$5C    ; EF0A C9 5C
    bcc .L_EF27   ; EF0C 90 19
    ldy <$90     ; EF0E A4 90
    ldx <$37     ; EF10 A6 37
    bne .L_EF1A   ; EF12 D0 06
    cmp #$70    ; EF14 C9 70
    bcs .L_EF1A   ; EF16 B0 02
    lda #$FF    ; EF18 A9 FF
.L_EF1A:
  sta $07A0,y ; EF1A 99 A0 07
    lda #$FF    ; EF1D A9 FF
    sta $0780,y ; EF1F 99 80 07
    inc <$90     ; EF22 E6 90
    jmp textd.draw_in_box           ; EF24 4C FA EE
; ----------------------------------------------------------------------------
.L_EF27:
  sec             ; EF27 38
    sbc #$28    ; EF28 E9 28
    tax             ; EF2A AA
    ldy <$90     ; EF2B A4 90
    lda .L_F515,x ; EF2D BD 15 F5
    sta $0780,y ; EF30 99 80 07
    lda .L_F4E1,x ; EF33 BD E1 F4
    sta $07A0,y ; EF36 99 A0 07
    inc <$90     ; EF39 E6 90
    jmp textd.draw_in_box           ; EF3B 4C FA EE
; ----------------------------------------------------------------------------
.L_EF3E:
  cmp #$10    ; EF3E C9 10
    bcc .L_EF45   ; EF40 90 03
    jmp textd.eval_replacement      ; EF42 4C 2A F0
; ----------------------------------------------------------------------------
.L_EF45:
  cmp #$01    ; EF45 C9 01
    bne .L_EF5B   ; EF47 D0 12
    jsr field.draw_window_content   ; EF49 20 92 F6
    inc <$1F     ; EF4C E6 1F
.L_EF4E:
  inc <$1F     ; EF4E E6 1F
    lda <$1F     ; EF50 A5 1F
    cmp <$3D     ; EF52 C5 3D
    bcc .L_EF58   ; EF54 90 02
    sec             ; EF56 38
    rts             ; EF57 60
; ----------------------------------------------------------------------------
.L_EF58:
  jmp textd.draw_in_box           ; EF58 4C FA EE
; ----------------------------------------------------------------------------
.L_EF5B:
  cmp #$02    ; EF5B C9 02
    bne .L_EF6A   ; EF5D D0 0B
    lda <$BB     ; EF5F A5 BB
    sta <$84     ; EF61 85 84
    lda #$00    ; EF63 A9 00
    sta <$B9     ; EF65 85 B9
    jmp .L_F09D   ; EF67 4C 9D F0
; ----------------------------------------------------------------------------
.L_EF6A:
  cmp #$03    ; EF6A C9 03
    bne .L_EF7C   ; EF6C D0 0E
    jsr switch_to_character_logics_bank ; EF6E 20 27 F7
    ldx <$BB     ; EF71 A6 BB
    jsr floor.get_item_price        ; EF73 20 D4 F5
    jsr .L_8B78   ; EF76 20 78 8B
    jmp .L_F291   ; EF79 4C 91 F2
; ----------------------------------------------------------------------------
.L_EF7C:
  cmp #$04    ; EF7C C9 04
    bne .L_EF95   ; EF7E D0 15
    lda <$61     ; EF80 A5 61
    sta .L_0080   ; EF82 85 80
    lda <$62     ; EF84 A5 62
    sta <$81     ; EF86 85 81
    lda <$63     ; EF88 A5 63
    sta <$82     ; EF8A 85 82
    jsr switch_to_character_logics_bank ; EF8C 20 27 F7
    jsr .L_8B78   ; EF8F 20 78 8B
    jmp .L_F291   ; EF92 4C 91 F2
; ----------------------------------------------------------------------------
.L_EF95:
  cmp #$05    ; EF95 C9 05
    bne .L_EFA2   ; EF97 D0 09
    jsr switch_to_character_logics_bank ; EF99 20 27 F7
    jsr .L_8B03   ; EF9C 20 03 8B
    jmp .L_F291   ; EF9F 4C 91 F2
; ----------------------------------------------------------------------------
.L_EFA2:
  cmp #$06    ; EFA2 C9 06
    bne .L_EFA9   ; EFA4 D0 03
.L_EFA6:
  jmp textd.draw_in_box           ; EFA6 4C FA EE
; ----------------------------------------------------------------------------
.L_EFA9:
  cmp #$07    ; EFA9 C9 07
    bne .L_EFBB   ; EFAB D0 0E
    lda $600B   ; EFAD AD 0B 60
    beq .L_EFA6   ; EFB0 F0 F4
    sec             ; EFB2 38
    sbc #$01    ; EFB3 E9 01
    clc             ; EFB5 18
    adc #$F8    ; EFB6 69 F8
    jmp .L_F2D8   ; EFB8 4C D8 F2
; ----------------------------------------------------------------------------
.L_EFBB:
  cmp #$08    ; EFBB C9 08
    bne .L_EFDA   ; EFBD D0 1B
    lda $601B   ; EFBF AD 1B 60
    sta .L_0080   ; EFC2 85 80
    lda #$00    ; EFC4 A9 00
    sta <$81     ; EFC6 85 81
    jsr switch_to_character_logics_bank ; EFC8 20 27 F7
    jsr .L_8B57   ; EFCB 20 57 8B
    ldx <$90     ; EFCE A6 90
    inc <$90     ; EFD0 E6 90
    lda #$5C    ; EFD2 A9 5C
    sta $07A0,x ; EFD4 9D A0 07
    jmp .L_F291   ; EFD7 4C 91 F2
; ----------------------------------------------------------------------------
.L_EFDA:
  cmp #$09    ; EFDA C9 09
    bne .L_EFE4   ; EFDC D0 06
    jsr field.draw_window_content   ; EFDE 20 92 F6
    jmp .L_EF4E   ; EFE1 4C 4E EF
; ----------------------------------------------------------------------------
.L_EFE4:
  cmp #$0A    ; EFE4 C9 0A
    bne .L_EFEC   ; EFE6 D0 04
    lda #$09    ; EFE8 A9 09
    clc             ; EFEA 18
    rts             ; EFEB 60
; ----------------------------------------------------------------------------
.L_EFEC:
  cmp #$0B    ; EFEC C9 0B
    bne .L_EFF0   ; EFEE D0 00
.L_EFF0:
  cmp #$0C    ; EFF0 C9 0C
    bne .L_EFFA   ; EFF2 D0 06
    ldx $600E   ; EFF4 AE 0E 60
    jmp .L_F316   ; EFF7 4C 16 F3
; ----------------------------------------------------------------------------
.L_EFFA:
  cmp #$0D    ; EFFA C9 0D
    bne .L_F007   ; EFFC D0 09
    jsr switch_to_character_logics_bank ; EFFE 20 27 F7
    jsr .L_8B34   ; F001 20 34 8B
    jmp .L_F291   ; F004 4C 91 F2
; ----------------------------------------------------------------------------
.L_F007:
  cmp #$0F    ; F007 C9 0F
    bne .L_F027   ; F009 D0 1C
    ldx <$90     ; F00B A6 90
    lda #$58    ; F00D A9 58
    sta $0780,x ; F00F 9D 80 07
    lda #$59    ; F012 A9 59
    sta $0781,x ; F014 9D 81 07
    lda #$5A    ; F017 A9 5A
    sta $07A0,x ; F019 9D A0 07
    lda #$5B    ; F01C A9 5B
    sta $07A1,x ; F01E 9D A1 07
    txa             ; F021 8A
    clc             ; F022 18
    adc #$02    ; F023 69 02
    sta <$90     ; F025 85 90
.L_F027:
  jmp textd.draw_in_box           ; F027 4C FA EE
; ----------------------------------------------------------------------------
; bank $3f
textd.eval_replacement:
    pha             ; F02A 48
    ldx <$67     ; F02B A6 67
    cmp #$1D    ; F02D C9 1D
    beq .L_F034   ; F02F F0 03
    lda [$3E],y ; F031 B1 3E
    tax             ; F033 AA
.L_F034:
  stx <$84     ; F034 86 84
    stx <$67     ; F036 86 67
    inc <$3E     ; F038 E6 3E
    bne .L_F03E   ; F03A D0 02
    inc <$3F     ; F03C E6 3F
.L_F03E:
  pla             ; F03E 68
    cmp #$14    ; F03F C9 14
    bcs .L_F046   ; F041 B0 03
    jmp field.string.eval_code_10_13    ; F043 4C 39 F2
; ----------------------------------------------------------------------------
.L_F046:
  bne .L_F04F   ; F046 D0 07
    lda <$84     ; F048 A5 84
    sta <$90     ; F04A 85 90
    jmp textd.draw_in_box           ; F04C 4C FA EE
; ----------------------------------------------------------------------------
.L_F04F:
  cmp #$18    ; F04F C9 18
    bcs .L_F09B   ; F051 B0 48
    sec             ; F053 38
    sbc #$15    ; F054 E9 15
    clc             ; F056 18
    adc #$78    ; F057 69 78
    sta <$81     ; F059 85 81
    lda #$00    ; F05B A9 00
    sta .L_0080   ; F05D 85 80
    lda <$84     ; F05F A5 84
    sta <$90     ; F061 85 90
    lda [$3E],y ; F063 B1 3E
    sta <$82     ; F065 85 82
    iny             ; F067 C8
    lda [$3E],y ; F068 B1 3E
    sta <$83     ; F06A 85 83
    ldy #$F1    ; F06C A0 F1
    lda (.L_0080),y                   ; F06E B1 80
    ldx <$1E     ; F070 A6 1E
    bne .L_F077   ; F072 D0 03
    inc <$1E     ; F074 E6 1E
    txa             ; F076 8A
.L_F077:
  tax             ; F077 AA
    clc             ; F078 18
    adc #$04    ; F079 69 04
    sta (.L_0080),y                   ; F07B 91 80
    txa             ; F07D 8A
    tay             ; F07E A8
    lda <$84     ; F07F A5 84
    clc             ; F081 18
    adc <$97     ; F082 65 97
    sta (.L_0080),y                   ; F084 91 80
    lda <$98     ; F086 A5 98
    clc             ; F088 18
    adc <$1F     ; F089 65 1F
    iny             ; F08B C8
    sta (.L_0080),y                   ; F08C 91 80
    iny             ; F08E C8
    lda <$82     ; F08F A5 82
    sta (.L_0080),y                   ; F091 91 80
    lda <$83     ; F093 A5 83
    iny             ; F095 C8
    sta (.L_0080),y                   ; F096 91 80
    jmp textd.draw_in_box           ; F098 4C FA EE
; ----------------------------------------------------------------------------
.L_F09B:
  bne .L_F0F0   ; F09B D0 53
.L_F09D:
  lda <$84     ; F09D A5 84
    beq .L_F0ED   ; F09F F0 4C
.L_F0A1:
  lda <$90     ; F0A1 A5 90
    pha             ; F0A3 48
    jsr textd.save_text_ptr         ; F0A4 20 E4 F3
    lda #$18    ; F0A7 A9 18
    jsr call_switchFirst2Banks      ; F0A9 20 03 FF
    lda <$84     ; F0AC A5 84
    asl a       ; F0AE 0A
    tax             ; F0AF AA
    bcs .L_F0BD   ; F0B0 B0 0B
    lda $8800,x ; F0B2 BD 00 88
    sta <$3E     ; F0B5 85 3E
    lda $8801,x ; F0B7 BD 01 88
    jmp .L_F0C5   ; F0BA 4C C5 F0
; ----------------------------------------------------------------------------
.L_F0BD:
  lda $8900,x ; F0BD BD 00 89
    sta <$3E     ; F0C0 85 3E
    lda $8901,x ; F0C2 BD 01 89
.L_F0C5:
  pha             ; F0C5 48
    and #$1F    ; F0C6 29 1F
    ora #$80    ; F0C8 09 80
    sta <$3F     ; F0CA 85 3F
    pla             ; F0CC 68
    lsr a       ; F0CD 4A
    lsr a       ; F0CE 4A
    lsr a       ; F0CF 4A
    lsr a       ; F0D0 4A
    lsr a       ; F0D1 4A
    clc             ; F0D2 18
    adc #$18    ; F0D3 69 18
    jsr call_switchFirst2Banks      ; F0D5 20 03 FF
    jsr textd.draw_in_box           ; F0D8 20 FA EE
    jsr textd.restore_text_ptr      ; F0DB 20 ED F3
    pla             ; F0DE 68
    tax             ; F0DF AA
    lda <$B9     ; F0E0 A5 B9
    beq .L_F0ED   ; F0E2 F0 09
    lda #$00    ; F0E4 A9 00
    sta <$B9     ; F0E6 85 B9
    lda #$73    ; F0E8 A9 73
    sta $07A0,x ; F0EA 9D A0 07
.L_F0ED:
  jmp textd.draw_in_box           ; F0ED 4C FA EE
; ----------------------------------------------------------------------------
.L_F0F0:
  cmp #$19    ; F0F0 C9 19
    bne .L_F114   ; F0F2 D0 20
    ldx <$84     ; F0F4 A6 84
    lda $7B80,x ; F0F6 BD 80 7B
    sta <$84     ; F0F9 85 84
    bne .L_F10A   ; F0FB D0 0D
    lda $79F1   ; F0FD AD F1 79
    sec             ; F100 38
    sbc #$04    ; F101 E9 04
    sta $79F1   ; F103 8D F1 79
    lda #$FF    ; F106 A9 FF
    clc             ; F108 18
    rts             ; F109 60
; ----------------------------------------------------------------------------
.L_F10A:
  lda #$00    ; F10A A9 00
    sta <$B9     ; F10C 85 B9
    jmp .L_F09D   ; F10E 4C 9D F0
; ----------------------------------------------------------------------------
.L_F111:
  jmp textd.draw_in_box           ; F111 4C FA EE
; ----------------------------------------------------------------------------
.L_F114:
  cmp #$1A    ; F114 C9 1A
    bne .L_F128   ; F116 D0 10
    lda #$00    ; F118 A9 00
    sta <$B9     ; F11A 85 B9
    ldx <$84     ; F11C A6 84
    lda $60C0,x ; F11E BD C0 60
    beq .L_F111   ; F121 F0 EE
    sta <$84     ; F123 85 84
    jmp .L_F09D   ; F125 4C 9D F0
; ----------------------------------------------------------------------------
.L_F128:
  cmp #$1B    ; F128 C9 1B
    bne .L_F13F   ; F12A D0 13
    jsr textd.setup_output_ptr_to_next_column; F12C 20 AC F3
    ldx <$84     ; F12F A6 84
    lda $7C00,x ; F131 BD 00 7C
    beq .L_F111   ; F134 F0 DB
    sta <$84     ; F136 85 84
    lda #$00    ; F138 A9 00
    sta <$B9     ; F13A 85 B9
    jmp .L_F09D   ; F13C 4C 9D F0
; ----------------------------------------------------------------------------
.L_F13F:
  cmp #$1C    ; F13F C9 1C
    bne .L_F14C   ; F141 D0 09
    ldx <$84     ; F143 A6 84
    lda $60E0,x ; F145 BD E0 60
    beq .L_F111   ; F148 F0 C7
    bne .L_F166   ; F14A D0 1A
.L_F14C:
  cmp #$1D    ; F14C C9 1D
    bne .L_F17A   ; F14E D0 2A
    lda <$84     ; F150 A5 84
    lsr a       ; F152 4A
    lda #$0A    ; F153 A9 0A
    bcc .L_F159   ; F155 90 02
    lda #$18    ; F157 A9 18
.L_F159:
  sta <$90     ; F159 85 90
    ldx <$84     ; F15B A6 84
    lda $7C00,x ; F15D BD 00 7C
    beq .L_F111   ; F160 F0 AF
    tax             ; F162 AA
    lda $6300,x ; F163 BD 00 63
.L_F166:
  sta .L_0080   ; F166 85 80
    ldx <$90     ; F168 A6 90
    inc <$90     ; F16A E6 90
    lda #$C8    ; F16C A9 C8
    sta $07A0,x ; F16E 9D A0 07
    jsr switch_to_character_logics_bank ; F171 20 27 F7
    jsr .L_8B29   ; F174 20 29 8B
    jmp .L_F291   ; F177 4C 91 F2
; ----------------------------------------------------------------------------
.L_F17A:
  cmp #$1E    ; F17A C9 1E
    bne .L_F19A   ; F17C D0 1C
    jsr field.get_max_available_job_id  ; F17E 20 8A F3
    cmp <$84     ; F181 C5 84
    bcs .L_F192   ; F183 B0 0D
    lda $78F1   ; F185 AD F1 78
    sec             ; F188 38
    sbc #$04    ; F189 E9 04
    sta $78F1   ; F18B 8D F1 78
    lda #$FF    ; F18E A9 FF
    clc             ; F190 18
    rts             ; F191 60
; ----------------------------------------------------------------------------
.L_F192:
  lda <$84     ; F192 A5 84
    clc             ; F194 18
    adc #$E2    ; F195 69 E2
    jmp .L_F2D8   ; F197 4C D8 F2
; ----------------------------------------------------------------------------
.L_F19A:
  cmp #$1F    ; F19A C9 1F
    bne .L_F1BB   ; F19C D0 1D
    ldx <$84     ; F19E A6 84
    lda $7200,x ; F1A0 BD 00 72
    sta .L_0080   ; F1A3 85 80
    ldx <$90     ; F1A5 A6 90
    inc <$90     ; F1A7 E6 90
    lda #$C8    ; F1A9 A9 C8
    sta $07A0,x ; F1AB 9D A0 07
    lda #$00    ; F1AE A9 00
    sta <$81     ; F1B0 85 81
    jsr switch_to_character_logics_bank ; F1B2 20 27 F7
    jsr .L_8B57   ; F1B5 20 57 8B
    jmp .L_F291   ; F1B8 4C 91 F2
; ----------------------------------------------------------------------------
.L_F1BB:
  cmp #$20    ; F1BB C9 20
    bne .L_F1D1   ; F1BD D0 12
    ldx <$84     ; F1BF A6 84
    lda $60C0,x ; F1C1 BD C0 60
    beq .L_F1F6   ; F1C4 F0 30
    sta <$84     ; F1C6 85 84
    tax             ; F1C8 AA
    lda $7200,x ; F1C9 BD 00 72
    sta <$B9     ; F1CC 85 B9
    jmp .L_F09D   ; F1CE 4C 9D F0
; ----------------------------------------------------------------------------
.L_F1D1:
  cmp #$21    ; F1D1 C9 21
    bne .L_F1F9   ; F1D3 D0 24
    ldx <$84     ; F1D5 A6 84
    lda $7B80,x ; F1D7 BD 80 7B
    beq .L_F1F6   ; F1DA F0 1A
    lda $7B90,x ; F1DC BD 90 7B
    sta .L_0080   ; F1DF 85 80
    lda $7B98,x ; F1E1 BD 98 7B
    sta <$81     ; F1E4 85 81
    lda $7BA0,x ; F1E6 BD A0 7B
    sta <$82     ; F1E9 85 82
    jsr switch_to_character_logics_bank ; F1EB 20 27 F7
    jsr .L_8B78   ; F1EE 20 78 8B
    lda <$93     ; F1F1 A5 93
    jsr call_switchFirst2Banks      ; F1F3 20 03 FF
.L_F1F6:
  jmp textd.draw_in_box           ; F1F6 4C FA EE
; ----------------------------------------------------------------------------
.L_F1F9:
  cmp #$22    ; F1F9 C9 22
    bne .L_F1F6   ; F1FB D0 F9
    lda #$00    ; F1FD A9 00
    sta <$B9     ; F1FF 85 B9
    ldx <$84     ; F201 A6 84
    lda $60C0,x ; F203 BD C0 60
    beq .L_F1F6   ; F206 F0 EE
    sta <$84     ; F208 85 84
    lda <$90     ; F20A A5 90
    pha             ; F20C 48
    jsr textd.save_text_ptr         ; F20D 20 E4 F3
    lda #$18    ; F210 A9 18
    jsr call_switchFirst2Banks      ; F212 20 03 FF
    lda <$84     ; F215 A5 84
    asl a       ; F217 0A
    tax             ; F218 AA
    bcs .L_F229   ; F219 B0 0E
    lda $8800,x ; F21B BD 00 88
    clc             ; F21E 18
    adc #$01    ; F21F 69 01
    sta <$3E     ; F221 85 3E
    lda $8801,x ; F223 BD 01 88
    jmp .L_F234   ; F226 4C 34 F2
; ----------------------------------------------------------------------------
.L_F229:
  lda $8900,x ; F229 BD 00 89
    clc             ; F22C 18
    adc #$01    ; F22D 69 01
    sta <$3E     ; F22F 85 3E
    lda $8901,x ; F231 BD 01 89
.L_F234:
  adc #$00    ; F234 69 00
    jmp .L_F0C5   ; F236 4C C5 F0
; ----------------------------------------------------------------------------
; bank $3f
field.string.eval_code_10_13:
    lsr a       ; F239 4A
    ror a       ; F23A 6A
    ror a       ; F23B 6A
    and #$C0    ; F23C 29 C0
    sta <$67     ; F23E 85 67
    lda <$84     ; F240 A5 84
    cmp #$30    ; F242 C9 30
    bcc .L_F299   ; F244 90 53
.L_F246:
  cmp #$FF    ; F246 C9 FF
    bne .L_F289   ; F248 D0 3F
    ldx <$67     ; F24A A6 67
    lda $6101,x ; F24C BD 01 61
    cmp #$62    ; F24F C9 62
    bcs .L_F291   ; F251 B0 3E
    sta .L_0080   ; F253 85 80
    asl a       ; F255 0A
    clc             ; F256 18
    adc .L_0080   ; F257 65 80
    sta <$84     ; F259 85 84
    lda #$00    ; F25B A9 00
    adc #$80    ; F25D 69 80
    sta <$85     ; F25F 85 85
    lda #$39    ; F261 A9 39
    jsr call_switch1stBank          ; F263 20 06 FF
    ldy #$B0    ; F266 A0 B0
    lda [$84],y ; F268 B1 84
    sec             ; F26A 38
    sbc $6103,x ; F26B FD 03 61
    sta .L_0080   ; F26E 85 80
    iny             ; F270 C8
    lda [$84],y ; F271 B1 84
    sbc $6104,x ; F273 FD 04 61
    sta <$81     ; F276 85 81
    iny             ; F278 C8
    lda [$84],y ; F279 B1 84
    sbc $6105,x ; F27B FD 05 61
    sta <$82     ; F27E 85 82
    jsr switch_to_character_logics_bank ; F280 20 27 F7
    jsr .L_8B78   ; F283 20 78 8B
    jmp .L_F291   ; F286 4C 91 F2
; ----------------------------------------------------------------------------
.L_F289:
  pha             ; F289 48
    jsr switch_to_character_logics_bank ; F28A 20 27 F7
    pla             ; F28D 68
    jsr .L_8998   ; F28E 20 98 89
.L_F291:
  lda <$93     ; F291 A5 93
    jsr call_switchFirst2Banks      ; F293 20 03 FF
    jmp textd.draw_in_box           ; F296 4C FA EE
; ----------------------------------------------------------------------------
.L_F299:
  cmp #$00    ; F299 C9 00
    bne .L_F301   ; F29B D0 64
    ldx <$67     ; F29D A6 67
    lda $6102,x ; F29F BD 02 61
    and #$FE    ; F2A2 29 FE
    bne .L_F2BB   ; F2A4 D0 15
    ldx <$90     ; F2A6 A6 90
    inc <$90     ; F2A8 E6 90
    inc <$90     ; F2AA E6 90
    lda #$5E    ; F2AC A9 5E
    sta $07A0,x ; F2AE 9D A0 07
    lda #$5F    ; F2B1 A9 5F
    sta $07A1,x ; F2B3 9D A1 07
    lda #$3E    ; F2B6 A9 3E
    jmp .L_F246   ; F2B8 4C 46 F2
; ----------------------------------------------------------------------------
.L_F2BB:
  ldy #$16    ; F2BB A0 16
    asl a       ; F2BD 0A
    bcs .L_F2D7   ; F2BE B0 17
    ldy #$17    ; F2C0 A0 17
    asl a       ; F2C2 0A
    bcs .L_F2D7   ; F2C3 B0 12
    ldy #$1B    ; F2C5 A0 1B
    asl a       ; F2C7 0A
    bcs .L_F2D7   ; F2C8 B0 0D
    iny             ; F2CA C8
    asl a       ; F2CB 0A
    bcs .L_F2D7   ; F2CC B0 09
    iny             ; F2CE C8
    asl a       ; F2CF 0A
    bcs .L_F2D7   ; F2D0 B0 05
    iny             ; F2D2 C8
    asl a       ; F2D3 0A
    bcs .L_F2D7   ; F2D4 B0 01
    iny             ; F2D6 C8
.L_F2D7:
  tya             ; F2D7 98
.L_F2D8:
  tax             ; F2D8 AA
    jsr textd.save_text_ptr         ; F2D9 20 E4 F3
    lda #$18    ; F2DC A9 18
    jsr call_switchFirst2Banks      ; F2DE 20 03 FF
    txa             ; F2E1 8A
    asl a       ; F2E2 0A
    tax             ; F2E3 AA
    bcs .L_F2F1   ; F2E4 B0 0B
    lda $8200,x ; F2E6 BD 00 82
    sta <$3E     ; F2E9 85 3E
    lda $8201,x ; F2EB BD 01 82
    jmp .L_F2F9   ; F2EE 4C F9 F2
; ----------------------------------------------------------------------------
.L_F2F1:
  lda $8300,x ; F2F1 BD 00 83
    sta <$3E     ; F2F4 85 3E
    lda $8301,x ; F2F6 BD 01 83
.L_F2F9:
  tax             ; F2F9 AA
    lda <$90     ; F2FA A5 90
    pha             ; F2FC 48
    txa             ; F2FD 8A
    jmp .L_F0C5   ; F2FE 4C C5 F0
; ----------------------------------------------------------------------------
.L_F301:
  cmp #$01    ; F301 C9 01
    bne .L_F310   ; F303 D0 0B
    ldx <$67     ; F305 A6 67
    lda $6100,x ; F307 BD 00 61
    clc             ; F30A 18
    adc #$E2    ; F30B 69 E2
    jmp .L_F2D8   ; F30D 4C D8 F2
; ----------------------------------------------------------------------------
.L_F310:
  cmp #$02    ; F310 C9 02
    bne .L_F348   ; F312 D0 34
    ldx <$67     ; F314 A6 67
.L_F316:
  lda $6106,x ; F316 BD 06 61
    sta <$5A     ; F319 85 5A
    lda $6107,x ; F31B BD 07 61
    sta <$5B     ; F31E 85 5B
    lda $6108,x ; F320 BD 08 61
    sta <$5C     ; F323 85 5C
    lda $6109,x ; F325 BD 09 61
    sta <$5D     ; F328 85 5D
    lda $610A,x ; F32A BD 0A 61
    sta <$5E     ; F32D 85 5E
    lda $610B,x ; F32F BD 0B 61
    sta <$5F     ; F332 85 5F
    jsr textd.save_text_ptr         ; F334 20 E4 F3
    lda #$5A    ; F337 A9 5A
    sta <$3E     ; F339 85 3E
    lda #$00    ; F33B A9 00
    sta <$3F     ; F33D 85 3F
    jsr textd.draw_in_box           ; F33F 20 FA EE
    jsr textd.restore_text_ptr      ; F342 20 ED F3
    jmp textd.draw_in_box           ; F345 4C FA EE
; ----------------------------------------------------------------------------
.L_F348:
  cmp #$08    ; F348 C9 08
    bcs .L_F373   ; F34A B0 27
    sec             ; F34C 38
    sbc #$03    ; F34D E9 03
    cmp #$04    ; F34F C9 04
    bne .L_F356   ; F351 D0 03
    clc             ; F353 18
    adc #$01    ; F354 69 01
.L_F356:
  ora <$67     ; F356 05 67
    tax             ; F358 AA
    lda $6200,x ; F359 BD 00 62
    bne .L_F368   ; F35C D0 0A
    txa             ; F35E 8A
    and #$07    ; F35F 29 07
    tax             ; F361 AA
    lda .L_F36D,x ; F362 BD 6D F3
    jmp .L_F2D8   ; F365 4C D8 F2
; ----------------------------------------------------------------------------
.L_F368:
  sta <$84     ; F368 85 84
    jmp .L_F0A1   ; F36A 4C A1 F0
; ----------------------------------------------------------------------------
.L_F36D:
  cmp .L_DFDE,x ; F36D DD DE DF
    cpx #$E1    ; F370 E0 E1
    .byte   <$E1     ; F372 E1
.L_F373:
  sec             ; F373 38
    sbc #$08    ; F374 E9 08
    tax             ; F376 AA
    lda $7C00,x ; F377 BD 00 7C
    beq .L_F387   ; F37A F0 0B
    sta <$84     ; F37C 85 84
    tax             ; F37E AA
    lda $7200,x ; F37F BD 00 72
    sta <$B9     ; F382 85 B9
    jmp .L_F09D   ; F384 4C 9D F0
; ----------------------------------------------------------------------------
.L_F387:
  jmp textd.draw_in_box           ; F387 4C FA EE
; ----------------------------------------------------------------------------
; bank $3f
field.get_max_available_job_id:
    lda $6021   ; F38A AD 21 60
    and #$1F    ; F38D 29 1F
    ldx #$00    ; F38F A2 00
    lsr a       ; F391 4A
    bcc .L_F3AA   ; F392 90 16
    ldx #$05    ; F394 A2 05
    lsr a       ; F396 4A
    bcc .L_F3AA   ; F397 90 11
    ldx #$09    ; F399 A2 09
    lsr a       ; F39B 4A
    bcc .L_F3AA   ; F39C 90 0C
    ldx #$10    ; F39E A2 10
    lsr a       ; F3A0 4A
    bcc .L_F3AA   ; F3A1 90 07
    ldx #$13    ; F3A3 A2 13
    lsr a       ; F3A5 4A
    bcc .L_F3AA   ; F3A6 90 02
    ldx #$30    ; F3A8 A2 30
.L_F3AA:
  txa             ; F3AA 8A
    rts             ; F3AB 60
; ----------------------------------------------------------------------------
; bank $3f
textd.setup_output_ptr_to_next_column:
    lda <$84     ; F3AC A5 84
    lsr a       ; F3AE 4A
    lda #$01    ; F3AF A9 01
    bcc .L_F3B5   ; F3B1 90 02
    lda #$0F    ; F3B3 A9 0F
.L_F3B5:
  sta <$90     ; F3B5 85 90
    ldx $7AF1   ; F3B7 AE F1 7A
    lda <$1E     ; F3BA A5 1E
    bne .L_F3C2   ; F3BC D0 04
    inc <$1E     ; F3BE E6 1E
    ldx #$00    ; F3C0 A2 00
.L_F3C2:
  txa             ; F3C2 8A
    clc             ; F3C3 18
    adc #$04    ; F3C4 69 04
    sta $7AF1   ; F3C6 8D F1 7A
    lda <$90     ; F3C9 A5 90
    clc             ; F3CB 18
    adc <$97     ; F3CC 65 97
    sta $7A00,x ; F3CE 9D 00 7A
    lda <$98     ; F3D1 A5 98
    clc             ; F3D3 18
    adc <$1F     ; F3D4 65 1F
    sta $7A01,x ; F3D6 9D 01 7A
    lda #$1B    ; F3D9 A9 1B
    sta $7A02,x ; F3DB 9D 02 7A
    lda <$84     ; F3DE A5 84
    sta $7A03,x ; F3E0 9D 03 7A
    rts             ; F3E3 60
; ----------------------------------------------------------------------------
; bank $3f
textd.save_text_ptr:
    lda <$3E     ; F3E4 A5 3E
    sta <$99     ; F3E6 85 99
    lda <$3F     ; F3E8 A5 3F
    sta <$9A     ; F3EA 85 9A
    rts             ; F3EC 60
; ----------------------------------------------------------------------------
; bank $3f
textd.restore_text_ptr:
    lda <$99     ; F3ED A5 99
    sta <$3E     ; F3EF 85 3E
    lda <$9A     ; F3F1 A5 9A
    sta <$3F     ; F3F3 85 3F
    lda <$93     ; F3F5 A5 93
    jmp call_switchFirst2Banks      ; F3F7 4C 03 FF
; ----------------------------------------------------------------------------
; bank $3f
textd.trim_name_left:
    ldx #$05    ; F3FA A2 05
.L_F3FC:
  lda <$5A,x   ; F3FC B5 5A
    cmp #$FF    ; F3FE C9 FF
    bne .L_F409   ; F400 D0 07
    lda #$00    ; F402 A9 00
    sta <$5A,x   ; F404 95 5A
    dex             ; F406 CA
    bpl .L_F3FC   ; F407 10 F3
.L_F409:
  rts             ; F409 60
; ----------------------------------------------------------------------------
; bank $3f
field.set_vram_addr_for_window:
    lda $2002   ; F40A AD 02 20
    ldx <$3A     ; F40D A6 3A
    ldy <$3B     ; F40F A4 3B
    cpx #$20    ; F411 E0 20
    bcs .L_F423   ; F413 B0 0E
    lda .L_F4C1,y ; F415 B9 C1 F4
    sta $2006   ; F418 8D 06 20
    txa             ; F41B 8A
    ora .L_F4A1,y ; F41C 19 A1 F4
    sta $2006   ; F41F 8D 06 20
    rts             ; F422 60
; ----------------------------------------------------------------------------
.L_F423:
  lda .L_F4C1,y ; F423 B9 C1 F4
    ora #$04    ; F426 09 04
    sta $2006   ; F428 8D 06 20
    txa             ; F42B 8A
    and #$1F    ; F42C 29 1F
    ora .L_F4A1,y ; F42E 19 A1 F4
    sta $2006   ; F431 8D 06 20
    rts             ; F434 60
; ----------------------------------------------------------------------------
; bank $3f
field.get_vram_addr_of_line_above:
    ldx <$3B     ; F435 A6 3B
    dex             ; F437 CA
    bpl .L_F43C   ; F438 10 02
    ldx <$3B     ; F43A A6 3B
.L_F43C:
  lda <$3A     ; F43C A5 3A
    and #$1F    ; F43E 29 1F
    ora .L_F4A1,x ; F440 1D A1 F4
    sta <$54     ; F443 85 54
    .byte   <$BD     ; F445 BD
    .byte   <$C1     ; F446 C1
.L_F447:
  .byte   <$F4     ; F447 F4
    sta <$55     ; F448 85 55
    rts             ; F44A 60
; ----------------------------------------------------------------------------
; bank $3f
menu.savefile.erase_windows:
    lda #$02    ; F44B A9 02
    sta <$39     ; F44D 85 39
.L_F44F:
  sta <$3B     ; F44F 85 3B
    lda #$09    ; F451 A9 09
    sta <$38     ; F453 85 38
    lda #$16    ; F455 A9 16
.L_F457:
  sta <$3C     ; F457 85 3C
    lda #$04    ; F459 A9 04
    sta <$3D     ; F45B 85 3D
    lda #$02    ; F45D A9 02
.L_F45F:
  bne menu.erase_box_from_bottom  ; F45F D0 19
; bank $3f
menu.erase_box_1e_x_14:
    lda #$14    ; F461 A9 14
    bne menu.erase_box_of_width_1e  ; F463 D0 02
; bank $3f
menu.erase_box_1e_x_1c:
    lda #$1C    ; F465 A9 1C
; bank $3f
menu.erase_box_of_width_1e:
    sta <$3D     ; F467 85 3D
    lda #$1B    ; F469 A9 1B
    sta <$39     ; F46B 85 39
    sta <$3B     ; F46D 85 3B
    lda #$01    ; F46F A9 01
    sta <$38     ; F471 85 38
    lda #$1E    ; F473 A9 1E
    .byte   <$85     ; F475 85
.L_F476:
  bit $3DA5,x ; F476 3C A5 3D
    lsr a       ; F479 4A
; bank $3f
menu.erase_box_from_bottom:
    pha             ; F47A 48
    lda <$3C     ; F47B A5 3C
    sta <$90     ; F47D 85 90
    sta <$91     ; F47F 85 91
    ldy #$1D    ; F481 A0 1D
    lda #$00    ; F483 A9 00
.L_F485:
  sta $0780,y ; F485 99 80 07
    sta $07A0,y ; F488 99 A0 07
    dey             ; F48B 88
    bpl .L_F485   ; F48C 10 F7
    jsr field.draw_window_content   ; F48E 20 92 F6
    lda <$3B     ; F491 A5 3B
    sec             ; F493 38
    sbc #$04    ; F494 E9 04
    sta <$3B     ; F496 85 3B
    pla             ; F498 68
    sec             ; F499 38
    sbc #$01    ; F49A E9 01
    bne menu.erase_box_from_bottom  ; F49C D0 DC
    jmp restore_banks_by_$57        ; F49E 4C F5 EC
; ----------------------------------------------------------------------------
.L_F4A1:
  brk             ; F4A1 00
    jsr .L_6040   ; F4A2 20 40 60
    bra .L_F447   ; F4A5 80 A0
    cpy #$E0    ; F4A7 C0 E0
    brk             ; F4A9 00
    jsr .L_6040   ; F4AA 20 40 60
    bra .L_F44F   ; F4AD 80 A0
    cpy #$E0    ; F4AF C0 E0
    brk             ; F4B1 00
    jsr .L_6040   ; F4B2 20 40 60
    bra .L_F457   ; F4B5 80 A0
    cpy #$E0    ; F4B7 C0 E0
    brk             ; F4B9 00
    jsr .L_6040   ; F4BA 20 40 60
    bra .L_F45F   ; F4BD 80 A0
    brk             ; F4BF 00
    .byte   <$20     ; F4C0 20
.L_F4C1:
  jsr .L_2020   ; F4C1 20 20 20
    jsr .L_2020   ; F4C4 20 20 20
    jsr .L_2120   ; F4C7 20 20 21
    and ($21,x) ; F4CA 21 21
    and ($21,x) ; F4CC 21 21
    and ($21,x) ; F4CE 21 21
    and ($22,x) ; F4D0 21 22
    .byte   <$22     ; F4D2 22
    .byte   <$22     ; F4D3 22
    .byte   <$22     ; F4D4 22
    .byte   <$22     ; F4D5 22
    .byte   <$22     ; F4D6 22
    .byte   <$22     ; F4D7 22
    .byte   <$22     ; F4D8 22
    .byte   <$23     ; F4D9 23
    .byte   <$23     ; F4DA 23
    .byte   <$23     ; F4DB 23
    .byte   <$23     ; F4DC 23
    .byte   <$23     ; F4DD 23
    .byte   <$23     ; F4DE 23
    .byte   <$20     ; F4DF 20
    .byte   <$20     ; F4E0 20
.L_F4E1:
  brk             ; F4E1 00
    bbs0    $90,.L_F476                   ; F4E2 8F 90 91
    sta ($93)   ; F4E5 92 93
    sty <$95,x   ; F4E7 94 95
    stx $97,y   ; F4E9 96 97
    tya             ; F4EB 98
    sta $9B9A,y ; F4EC 99 9A 9B
    stz .L_A39D   ; F4EF 9C 9D A3
    ldy <$A5     ; F4F2 A4 A5
    ldx <$A7     ; F4F4 A6 A7
    .byte   <$A3     ; F4F6 A3
    ldy <$A5     ; F4F7 A4 A5
    ldx <$A7     ; F4F9 A6 A7
    cpy .L_D0CF   ; F4FB CC CF D0
    cmp [$D2],y ; F4FE D1 D2
    .byte   <$D3     ; F500 D3
    .byte   <$D4     ; F501 D4
    cmp <$D6,x   ; F502 D5 D6
    smb5    <$D8     ; F504 D7
    cld             ; F505 D8
    cmp .L_DBDA,y ; F506 D9 DA DB
    .byte   <$DC     ; F509 DC
    cmp .L_E4E3,x ; F50A DD E3 E4
    sbc <$A6     ; F50D E5 A6
    smb6    <$E3     ; F50F E7
    .byte   <$E3     ; F510 E3
    cpx <$E5     ; F511 E4 E5
    ldx <$E7     ; F513 A6 E7
.L_F515:
  brk             ; F515 00
    cpy #$C0    ; F516 C0 C0
    cpy #$C0    ; F518 C0 C0
    cpy #$C0    ; F51A C0 C0
    cpy #$C0    ; F51C C0 C0
    cpy #$C0    ; F51E C0 C0
    cpy #$C0    ; F520 C0 C0
    cpy #$C0    ; F522 C0 C0
    cpy #$C0    ; F524 C0 C0
    cpy #$C0    ; F526 C0 C0
    cpy #$C0    ; F528 C0 C0
    cmp ($C1,x) ; F52A C1 C1
    cmp ($C1,x) ; F52C C1 C1
    cmp ($C0,x) ; F52E C1 C0
    cpy #$C0    ; F530 C0 C0
    cpy #$C0    ; F532 C0 C0
    cpy #$C0    ; F534 C0 C0
    cpy #$C0    ; F536 C0 C0
    cpy #$C0    ; F538 C0 C0
    cpy #$C0    ; F53A C0 C0
    cpy #$C0    ; F53C C0 C0
    cpy #$C0    ; F53E C0 C0
    cpy #$C0    ; F540 C0 C0
    cpy #$C0    ; F542 C0 C0
    cmp ($C1,x) ; F544 C1 C1
    cmp ($C1,x) ; F546 C1 C1
    .byte   <$C1     ; F548 C1
; bank $3f
floor.get_treasure:
    lda <$45     ; F549 A5 45
    and #$0F    ; F54B 29 0F
    tax             ; F54D AA
    lda $0710,x ; F54E BD 10 07
    sta <$8F     ; F551 85 8F
    tax             ; F553 AA
    lda <$BA     ; F554 A5 BA
    bne .L_F55C   ; F556 D0 04
    lda <$49     ; F558 A5 49
    bne .L_F5B2   ; F55A D0 56
.L_F55C:
  jsr floor.get_treasure_item_id  ; F55C 20 C4 F5
    sta .L_0080   ; F55F 85 80
    ldx #$01    ; F561 A2 01
    stx <$81     ; F563 86 81
    cmp #$57    ; F565 C9 57
    bcs .L_F571   ; F567 B0 08
    cmp #$4F    ; F569 C9 4F
    bcc .L_F571   ; F56B 90 04
    lda #$14    ; F56D A9 14
    sta <$81     ; F56F 85 81
.L_F571:
  jsr switch_to_character_logics_bank ; F571 20 27 F7
    lda .L_0080   ; F574 A5 80
    sta <$BB     ; F576 85 BB
    jsr floor.searchSpaceForItem    ; F578 20 7E 93
    bcs .L_F5AF   ; F57B B0 32
    lda .L_0080   ; F57D A5 80
    sta $60C0,x ; F57F 9D C0 60
    lda $60E0,x ; F582 BD E0 60
    clc             ; F585 18
    adc <$81     ; F586 65 81
    cmp #$63    ; F588 C9 63
    bcc .L_F58E   ; F58A 90 02
    lda #$63    ; F58C A9 63
.L_F58E:
  sta $60E0,x ; F58E 9D E0 60
    jsr invert_treasure_loot_flag   ; F591 20 40 F6
    bit <$BA     ; F594 24 BA
    bmi .L_F5AC   ; F596 30 14
    lda <$8F     ; F598 A5 8F
    cmp #$E0    ; F59A C9 E0
    bcs .L_F5A1   ; F59C B0 03
    lda #$59    ; F59E A9 59
    rts             ; F5A0 60
; ----------------------------------------------------------------------------
.L_F5A1:
  lda #$20    ; F5A1 A9 20
    sta <$AB     ; F5A3 85 AB
    lda <$8F     ; F5A5 A5 8F
    sta <$6A     ; F5A7 85 6A
    lda #$02    ; F5A9 A9 02
    rts             ; F5AB 60
; ----------------------------------------------------------------------------
.L_F5AC:
  lda #$76    ; F5AC A9 76
    rts             ; F5AE 60
; ----------------------------------------------------------------------------
.L_F5AF:
  lda #$50    ; F5AF A9 50
    rts             ; F5B1 60
; ----------------------------------------------------------------------------
.L_F5B2:
  jsr floor.get_treasure_item_id  ; F5B2 20 C4 F5
    tax             ; F5B5 AA
    stx <$BB     ; F5B6 86 BB
    jsr floor.get_item_price        ; F5B8 20 D4 F5
    jsr increment_gil               ; F5BB 20 FF F5
    jsr invert_treasure_loot_flag   ; F5BE 20 40 F6
    lda #$01    ; F5C1 A9 01
    rts             ; F5C3 60
; ----------------------------------------------------------------------------
; bank $3f
floor.get_treasure_item_id:
    lda #$01    ; F5C4 A9 01
    jsr call_switch1stBank          ; F5C6 20 06 FF
    lda $9C00,x ; F5C9 BD 00 9C
    ldy <$78     ; F5CC A4 78
    beq .L_F5D3   ; F5CE F0 03
    lda $9D00,x ; F5D0 BD 00 9D
.L_F5D3:
  rts             ; F5D3 60
; ----------------------------------------------------------------------------
; bank $3f
floor.get_item_price:
    lda #$10    ; F5D4 A9 10
    jsr call_switch1stBank          ; F5D6 20 06 FF
    txa             ; F5D9 8A
    asl a       ; F5DA 0A
    tax             ; F5DB AA
    bcs .L_F5E9   ; F5DC B0 0B
    lda $9E00,x ; F5DE BD 00 9E
    sta .L_0080   ; F5E1 85 80
    lda $9E01,x ; F5E3 BD 01 9E
    jmp .L_F5F1   ; F5E6 4C F1 F5
; ----------------------------------------------------------------------------
.L_F5E9:
  lda .L_9F00,x ; F5E9 BD 00 9F
    sta .L_0080   ; F5EC 85 80
    lda .L_9F01,x ; F5EE BD 01 9F
.L_F5F1:
  sta <$81     ; F5F1 85 81
    lda #$00    ; F5F3 A9 00
    sta <$82     ; F5F5 85 82
    txa             ; F5F7 8A
    lsr a       ; F5F8 4A
    tax             ; F5F9 AA
    lda #$3C    ; F5FA A9 3C
    jmp call_switch1stBank          ; F5FC 4C 06 FF
; ----------------------------------------------------------------------------
; bank $3f
increment_gil:
    lda $601C   ; F5FF AD 1C 60
    clc             ; F602 18
    adc .L_0080   ; F603 65 80
    sta $601C   ; F605 8D 1C 60
    lda $601D   ; F608 AD 1D 60
    adc <$81     ; F60B 65 81
    sta $601D   ; F60D 8D 1D 60
    lda $601E   ; F610 AD 1E 60
    adc <$82     ; F613 65 82
    sta $601E   ; F615 8D 1E 60
    cmp #$98    ; F618 C9 98
    bcs .L_F630   ; F61A B0 14
    bcc .L_F63F   ; F61C 90 21
    lda $601D   ; F61E AD 1D 60
    cmp #$96    ; F621 C9 96
    bcc .L_F63F   ; F623 90 1A
    beq .L_F629   ; F625 F0 02
    bcs .L_F630   ; F627 B0 07
.L_F629:
  lda $601C   ; F629 AD 1C 60
    cmp #$80    ; F62C C9 80
    bcc .L_F63F   ; F62E 90 0F
.L_F630:
  lda #$7F    ; F630 A9 7F
    sta $601C   ; F632 8D 1C 60
    lda #$96    ; F635 A9 96
    sta $601D   ; F637 8D 1D 60
    lda #$98    ; F63A A9 98
    sta $601E   ; F63C 8D 1E 60
.L_F63F:
  rts             ; F63F 60
; ----------------------------------------------------------------------------
; bank $3f
invert_treasure_loot_flag:
    lda <$45     ; F640 A5 45
    and #$0F    ; F642 29 0F
    tax             ; F644 AA
    lda $0710,x ; F645 BD 10 07
    pha             ; F648 48
    and #$07    ; F649 29 07
    tax             ; F64B AA
    lda .L_F668,x ; F64C BD 68 F6
    sta .L_0080   ; F64F 85 80
    pla             ; F651 68
    lsr a       ; F652 4A
    lsr a       ; F653 4A
    lsr a       ; F654 4A
    tax             ; F655 AA
    lda <$78     ; F656 A5 78
    beq .L_F65F   ; F658 F0 05
    txa             ; F65A 8A
    clc             ; F65B 18
    adc #$20    ; F65C 69 20
    tax             ; F65E AA
.L_F65F:
  lda .L_0080   ; F65F A5 80
    eor .L_6040,x ; F661 5D 40 60
    sta .L_6040,x ; F664 9D 40 60
    rts             ; F667 60
; ----------------------------------------------------------------------------
.L_F668:
  ora ($02,x) ; F668 01 02
    tsb <$08     ; F66A 04 08
    bpl .L_F68E   ; F66C 10 20
    rti             ; F66E 40
; ----------------------------------------------------------------------------
    .byte   <$80     ; F66F 80
; bank $3f
field.calc_draw_width_and_init_window_tile_buffer:
    lda <$3C     ; F670 A5 3C
    sta <$91     ; F672 85 91
    lda <$38     ; F674 A5 38
    and #$1F    ; F676 29 1F
    eor #$1F    ; F678 49 1F
    clc             ; F67A 18
    adc #$01    ; F67B 69 01
    cmp <$3C     ; F67D C5 3C
    bcs field.init_window_tile_buffer   ; F67F B0 02
    sta <$91     ; F681 85 91
; bank $3f
field.init_window_tile_buffer:
    ldy #$1D    ; F683 A0 1D
    lda #$FF    ; F685 A9 FF
.L_F687:
  sta $0780,y ; F687 99 80 07
    sta $07A0,y ; F68A 99 A0 07
    dey             ; F68D 88
.L_F68E:
  bpl .L_F687   ; F68E 10 F7
    clc             ; F690 18
    rts             ; F691 60
; ----------------------------------------------------------------------------
; bank $3f
field.draw_window_content:
    pha             ; F692 48
    jsr thunk_await_nmi_by_set_handler  ; F693 20 00 FF
    inc <$F0     ; F696 E6 F0
    pla             ; F698 68
    jsr field.upload_window_content ; F699 20 AA F6
    jsr field.sync_ppu_scroll       ; F69C 20 E1 ED
    jsr field.call_sound_driver     ; F69F 20 50 C7
    lda <$93     ; F6A2 A5 93
    jsr call_switchFirst2Banks      ; F6A4 20 03 FF
    jmp field.init_window_tile_buffer   ; F6A7 4C 83 F6
; ----------------------------------------------------------------------------
; bank $3f
field.upload_window_content:
    cmp #$09    ; F6AA C9 09
    beq .L_F6E5   ; F6AC F0 37
    lda <$38     ; F6AE A5 38
    sta <$3A     ; F6B0 85 3A
    jsr field.set_vram_addr_for_window  ; F6B2 20 0A F4
    ldx #$00    ; F6B5 A2 00
.L_F6B7:
  lda $0780,x ; F6B7 BD 80 07
    sta $2007   ; F6BA 8D 07 20
    inx             ; F6BD E8
    cpx <$91     ; F6BE E4 91
    bcc .L_F6B7   ; F6C0 90 F5
    cpx <$3C     ; F6C2 E4 3C
    bcs .L_F6DE   ; F6C4 B0 18
    lda <$3A     ; F6C6 A5 3A
    and #$20    ; F6C8 29 20
    eor #$20    ; F6CA 49 20
    sta <$3A     ; F6CC 85 3A
    jsr field.set_vram_addr_for_window  ; F6CE 20 0A F4
    ldx <$91     ; F6D1 A6 91
.L_F6D3:
  lda $0780,x ; F6D3 BD 80 07
    sta $2007   ; F6D6 8D 07 20
    inx             ; F6D9 E8
    cpx <$3C     ; F6DA E4 3C
    bcc .L_F6D3   ; F6DC 90 F5
.L_F6DE:
  lda <$3B     ; F6DE A5 3B
    clc             ; F6E0 18
    adc #$01    ; F6E1 69 01
    sta <$3B     ; F6E3 85 3B
.L_F6E5:
  lda <$38     ; F6E5 A5 38
    sta <$3A     ; F6E7 85 3A
    jsr field.set_vram_addr_for_window  ; F6E9 20 0A F4
    ldx #$00    ; F6EC A2 00
.L_F6EE:
  lda $07A0,x ; F6EE BD A0 07
    sta $2007   ; F6F1 8D 07 20
    inx             ; F6F4 E8
    cpx <$91     ; F6F5 E4 91
    bcc .L_F6EE   ; F6F7 90 F5
    cpx <$3C     ; F6F9 E4 3C
    bcs .L_F715   ; F6FB B0 18
    lda <$3A     ; F6FD A5 3A
    and #$20    ; F6FF 29 20
    eor #$20    ; F701 49 20
    sta <$3A     ; F703 85 3A
    jsr field.set_vram_addr_for_window  ; F705 20 0A F4
    ldx <$91     ; F708 A6 91
.L_F70A:
  lda $07A0,x ; F70A BD A0 07
    sta $2007   ; F70D 8D 07 20
    inx             ; F710 E8
    cpx <$3C     ; F711 E4 3C
    bcc .L_F70A   ; F713 90 F5
.L_F715:
  lda #$00    ; F715 A9 00
    sta <$90     ; F717 85 90
    lda <$3B     ; F719 A5 3B
    clc             ; F71B 18
    adc #$01    ; F71C 69 01
    cmp #$1E    ; F71E C9 1E
    bcc .L_F724   ; F720 90 02
    sbc #$1E    ; F722 E9 1E
.L_F724:
  sta <$3B     ; F724 85 3B
    rts             ; F726 60
; ----------------------------------------------------------------------------
; bank $3f
switch_to_character_logics_bank:
    lda #$3C    ; F727 A9 3C
    jmp call_switchFirst2Banks      ; F729 4C 03 FF
; ----------------------------------------------------------------------------
.L_F72C:
  lda $600E   ; F72C AD 0E 60
    clc             ; F72F 18
    adc #$40    ; F730 69 40
    sta $600E   ; F732 8D 0E 60
    tax             ; F735 AA
    lda $6102,x ; F736 BD 02 61
    and #$C0    ; F739 29 C0
    bne .L_F72C   ; F73B D0 EF
    lda #$3A    ; F73D A9 3A
    jsr call_switch1stBank          ; F73F 20 06 FF
    jsr .L_8530   ; F742 20 30 85
    lda #$00    ; F745 A9 00
.L_F747:
  pha             ; F747 48
    lda #$0E    ; F748 A9 0E
    jsr call_switchFirst2Banks      ; F74A 20 03 FF
    jsr thunk_await_nmi_by_set_handler  ; F74D 20 00 FF
    pla             ; F750 68
    pha             ; F751 48
    jsr .L_F77B   ; F752 20 7B F7
    jsr .L_F770   ; F755 20 70 F7
    jsr field.call_sound_driver     ; F758 20 50 C7
    pla             ; F75B 68
    clc             ; F75C 18
    adc #$01    ; F75D 69 01
    cmp #$08    ; F75F C9 08
    bcc .L_F747   ; F761 90 E4
    jsr thunk_await_nmi_by_set_handler  ; F763 20 00 FF
    jsr .L_D308   ; F766 20 08 D3
    jsr .L_F770   ; F769 20 70 F7
    jsr field.call_sound_driver     ; F76C 20 50 C7
    rts             ; F76F 60
; ----------------------------------------------------------------------------
.L_F770:
  lda <$2D     ; F770 A5 2D
    lsr a       ; F772 4A
    bcs .L_F778   ; F773 B0 03
    jmp field_setScroll             ; F775 4C 98 C3
; ----------------------------------------------------------------------------
.L_F778:
  jmp .L_E571   ; F778 4C 71 E5
; ----------------------------------------------------------------------------
.L_F77B:
  tay             ; F77B A8
    ldx $600E   ; F77C AE 0E 60
    lda $6102,x ; F77F BD 02 61
    and #$20    ; F782 29 20
    cmp #$20    ; F784 C9 20
    lda #$16    ; F786 A9 16
    bcs .L_F798   ; F788 B0 0E
    lda $6102,x ; F78A BD 02 61
    and #$08    ; F78D 29 08
    cmp #$08    ; F78F C9 08
    lda #$17    ; F791 A9 17
    bcs .L_F798   ; F793 B0 03
    lda $6100,x ; F795 BD 00 61
.L_F798:
  and #$3F    ; F798 29 3F
    clc             ; F79A 18
    adc #$80    ; F79B 69 80
    sta <$3F     ; F79D 85 3F
    lda #$00    ; F79F A9 00
    sta <$3E     ; F7A1 85 3E
    bit $2002   ; F7A3 2C 02 20
.L_F7A6:
  lda #$10    ; F7A6 A9 10
    sta $2006   ; F7A8 8D 06 20
    sty $2006   ; F7AB 8C 06 20
    lda [$3E],y ; F7AE B1 3E
    sta $2007   ; F7B0 8D 07 20
    tya             ; F7B3 98
    clc             ; F7B4 18
    adc #$08    ; F7B5 69 08
    tay             ; F7B7 A8
    bcc .L_F7A6   ; F7B8 90 EC
    rts             ; F7BA 60
; ----------------------------------------------------------------------------
.L_F7BB:
  lda $2002   ; F7BB AD 02 20
    lda #$20    ; F7BE A9 20
    sta $2006   ; F7C0 8D 06 20
    lda #$00    ; F7C3 A9 00
    sta $2006   ; F7C5 8D 06 20
    ldy #$00    ; F7C8 A0 00
    tya             ; F7CA 98
    ldx #$03    ; F7CB A2 03
.L_F7CD:
  sta $2007   ; F7CD 8D 07 20
    iny             ; F7D0 C8
    bne .L_F7CD   ; F7D1 D0 FA
    dex             ; F7D3 CA
    bne .L_F7CD   ; F7D4 D0 F7
.L_F7D6:
  sta $2007   ; F7D6 8D 07 20
    iny             ; F7D9 C8
    cpy #$C0    ; F7DA C0 C0
    bcc .L_F7D6   ; F7DC 90 F8
    lda #$FF    ; F7DE A9 FF
.L_F7E0:
  .byte   <$8D     ; F7E0 8D
    rmb0    <$20     ; F7E1 07
.L_F7E2:
  jsr $D0C8   ; F7E2 20 C8 D0
    plx             ; F7E5 FA
    rts             ; F7E6 60
; ----------------------------------------------------------------------------
    plx             ; F7E7 FA
    dex             ; F7E8 CA
    bne .L_F7E2   ; F7E9 D0 F7
.L_F7EB:
  sta $2007   ; F7EB 8D 07 20
    iny             ; F7EE C8
    cpy #$C0    ; F7EF C0 C0
    bcc .L_F7EB   ; F7F1 90 F8
    lda #$FF    ; F7F3 A9 FF
.L_F7F5:
  sta $2007   ; F7F5 8D 07 20
    iny             ; F7F8 C8
    bne .L_F7F5   ; F7F9 D0 FA
    rts             ; F7FB 60
; ----------------------------------------------------------------------------
    brk             ; F7FC 00
    brk             ; F7FD 00
    brk             ; F7FE 00
.L_F7FF:
  brk             ; F7FF 00
; bank $3f
call_doBattle:
    jmp doBattle; F800 4C 26 FA
; ----------------------------------------------------------------------------
.L_F803:
  jmp .L_F820   ; F803 4C 20 F8
; ----------------------------------------------------------------------------
.L_F806:
  jmp .L_F817   ; F806 4C 17 F8
; ----------------------------------------------------------------------------
    ldy #$00    ; F809 A0 00
.L_F80B:
  nop             ; F80B EA
    nop             ; F80C EA
    nop             ; F80D EA
    nop             ; F80E EA
    nop             ; F80F EA
    nop             ; F810 EA
    nop             ; F811 EA
    nop             ; F812 EA
    dey             ; F813 88
    bne .L_F80B   ; F814 D0 F5
    rts             ; F816 60
; ----------------------------------------------------------------------------
.L_F817:
  jsr .L_F82C   ; F817 20 2C F8
    jsr .L_8009   ; F81A 20 09 80
    jmp .L_F826   ; F81D 4C 26 F8
; ----------------------------------------------------------------------------
.L_F820:
  jsr .L_F82C   ; F820 20 2C F8
    jsr .L_8006   ; F823 20 06 80
.L_F826:
  pha             ; F826 48
    jsr restoreFieldVariables       ; F827 20 3B F8
    pla             ; F82A 68
    rts             ; F82B 60
; ----------------------------------------------------------------------------
.L_F82C:
  pha             ; F82C 48
    txa             ; F82D 8A
    pha             ; F82E 48
    jsr saveFieldVars               ; F82F 20 17 FB
    lda #$1A    ; F832 A9 1A
    jsr switch_16k_synchronized     ; F834 20 87 FB
    pla             ; F837 68
    tax             ; F838 AA
    pla             ; F839 68
    rts             ; F83A 60
; ----------------------------------------------------------------------------
; bank $3f
restoreFieldVariables:
    ldx #$00    ; F83B A2 00
.L_F83D:
  lda $7480,x ; F83D BD 80 74
    sta a:.L_0000,x                   ; F840 9D 00 00
    inx             ; F843 E8
    cpx #$D0    ; F844 E0 D0
    bne .L_F83D   ; F846 D0 F5
    ldx #$E0    ; F848 A2 E0
.L_F84A:
  lda $7470,x ; F84A BD 70 74
    sta a:.L_0000,x                   ; F84D 9D 00 00
    inx             ; F850 E8
    bne .L_F84A   ; F851 D0 F7
    rts             ; F853 60
; ----------------------------------------------------------------------------
; bank $3f
call_32_8000:
    sta <$96     ; F854 85 96
    stx <$97     ; F856 86 97
    txa             ; F858 8A
    pha             ; F859 48
    lda $7CF6   ; F85A AD F6 7C
    pha             ; F85D 48
    lda #$19    ; F85E A9 19
    sta $7CF6   ; F860 8D F6 7C
    jsr switch_16k_synchronized     ; F863 20 87 FB
    lda <$96     ; F866 A5 96
    ldx <$97     ; F868 A6 97
    jsr menu.select_pc.put_pc_sprites   ; F86A 20 00 80
    pla             ; F86D 68
    sta $7CF6   ; F86E 8D F6 7C
    jsr switch_16k_synchronized     ; F871 20 87 FB
    pla             ; F874 68
    tax             ; F875 AA
    rts             ; F876 60
; ----------------------------------------------------------------------------
    lda #$00    ; F877 A9 00
    jsr switch_16k_synchronized     ; F879 20 87 FB
    ldx $7CEF   ; F87C AE EF 7C
    lda $9100,x ; F87F BD 00 91
    sta $7CF0   ; F882 8D F0 7C
    lda $9200,x ; F885 BD 00 92
    sta $7CF1   ; F888 8D F1 7C
    lda $9300,x ; F88B BD 00 93
    sta $7CF2   ; F88E 8D F2 7C
.L_F891:
  lda $7CF6   ; F891 AD F6 7C
    jmp switch_16k_synchronized     ; F894 4C 87 FB
; ----------------------------------------------------------------------------
; bank $3f
ppud.upload_palette:
    lda #$3F    ; F897 A9 3F
    ldx #$00    ; F899 A2 00
    jsr ppud.set_vram_addr          ; F89B 20 E0 F8
.L_F89E:
  lda $7CF7,x ; F89E BD F7 7C
    sta $2007   ; F8A1 8D 07 20
    inx             ; F8A4 E8
    cpx #$20    ; F8A5 E0 20
    bne .L_F89E   ; F8A7 D0 F5
    rts             ; F8A9 60
; ----------------------------------------------------------------------------
; bank $3f
do_sprite_dma_from_0200:
    lda #$02    ; F8AA A9 02
    sta $4014   ; F8AC 8D 14 40
    rts             ; F8AF 60
; ----------------------------------------------------------------------------
; bank $3f
ppud.update_sprites_and_palette_after_nmi:
    jsr ppud.await_nmi_completion   ; F8B0 20 80 FB
    jsr do_sprite_dma_from_0200     ; F8B3 20 AA F8
    jsr ppud.upload_palette         ; F8B6 20 97 F8
    jmp ppud.sync_registers_with_cache  ; F8B9 4C CB F8
; ----------------------------------------------------------------------------
; bank $3f
ppud.update_palette_after_nmi:
    jsr ppud.await_nmi_completion   ; F8BC 20 80 FB
    jsr ppud.upload_palette         ; F8BF 20 97 F8
    jmp ppud.sync_registers_with_cache  ; F8C2 4C CB F8
; ----------------------------------------------------------------------------
; bank $3f
ppud.update_sprites_after_nmi:
    jsr ppud.await_nmi_completion   ; F8C5 20 80 FB
    jsr do_sprite_dma_from_0200     ; F8C8 20 AA F8
; bank $3f
ppud.sync_registers_with_cache:
    lda <$06     ; F8CB A5 06
    sta $2000   ; F8CD 8D 00 20
    lda <$09     ; F8D0 A5 09
    sta $2001   ; F8D2 8D 01 20
    lda <$0C     ; F8D5 A5 0C
    sta $2005   ; F8D7 8D 05 20
    lda <$0D     ; F8DA A5 0D
    sta $2005   ; F8DC 8D 05 20
    rts             ; F8DF 60
; ----------------------------------------------------------------------------
; bank $3f
ppud.set_vram_addr:
    bit $2002   ; F8E0 2C 02 20
    sta $2006   ; F8E3 8D 06 20
    stx $2006   ; F8E6 8E 06 20
    rts             ; F8E9 60
; ----------------------------------------------------------------------------
; bank $3f
mul8x8_reg:
    jsr mul8x8  ; F8EA 20 D6 FC
    lda <$1A     ; F8ED A5 1A
    ldx <$1B     ; F8EF A6 1B
    rts             ; F8F1 60
; ----------------------------------------------------------------------------
; bank $3f
offset$7e_16:
    clc             ; F8F2 18
    adc <$7E     ; F8F3 65 7E
    sta <$7E     ; F8F5 85 7E
    lda <$7F     ; F8F7 A5 7F
    adc #$00    ; F8F9 69 00
    sta <$7F     ; F8FB 85 7F
    rts             ; F8FD 60
; ----------------------------------------------------------------------------
; bank $3f
offset$80_16:
    clc             ; F8FE 18
    adc .L_0080   ; F8FF 65 80
    sta .L_0080   ; F901 85 80
    lda <$81     ; F903 A5 81
    adc #$00    ; F905 69 00
    sta <$81     ; F907 85 81
    rts             ; F909 60
; ----------------------------------------------------------------------------
    lda #$15    ; F90A A9 15
    jsr switch_16k_synchronized     ; F90C 20 87 FB
    lda #$0C    ; F90F A9 0C
    sta <$82     ; F911 85 82
.L_F913:
  ldy #$00    ; F913 A0 00
.L_F915:
  lda [$7E],y ; F915 B1 7E
    sta (.L_0080),y                   ; F917 91 80
    iny             ; F919 C8
    cpy #$12    ; F91A C0 12
    bne .L_F915   ; F91C D0 F7
    lda #$20    ; F91E A9 20
    jsr offset$80_16                ; F920 20 FE F8
    lda #$12    ; F923 A9 12
    jsr offset$7e_16                ; F925 20 F2 F8
    dec <$82     ; F928 C6 82
    bne .L_F913   ; F92A D0 E7
    jmp .L_F891   ; F92C 4C 91 F8
; ----------------------------------------------------------------------------
; bank $3f
memcpy: lda <$84     ; F92F A5 84
    jsr switch_16k_synchronized     ; F931 20 87 FB
    ldy #$00    ; F934 A0 00
.L_F936:
  lda [$7E],y ; F936 B1 7E
    sta (.L_0080),y                   ; F938 91 80
    iny             ; F93A C8
    dec <$82     ; F93B C6 82
    bne .L_F936   ; F93D D0 F7
    jmp .L_F891   ; F93F 4C 91 F8
; ----------------------------------------------------------------------------
; bank $3f
copy_to_vram_with_encounter_mode:
    lda $78C3   ; F942 AD C3 78
    cmp #$88    ; F945 C9 88
    bne .L_F94C   ; F947 D0 03
    jmp .L_F94F   ; F949 4C 4F F9
; ----------------------------------------------------------------------------
.L_F94C:
  jmp copyToVramDirect            ; F94C 4C 69 F9
; ----------------------------------------------------------------------------
.L_F94F:
  ldx #$00    ; F94F A2 00
.L_F951:
  ldy #$08    ; F951 A0 08
    txa             ; F953 8A
.L_F954:
  asl a       ; F954 0A
    ror <$18     ; F955 66 18
    dey             ; F957 88
    bne .L_F954   ; F958 D0 FA
    lda <$18     ; F95A A5 18
    sta $7300,x ; F95C 9D 00 73
    inx             ; F95F E8
    bne .L_F951   ; F960 D0 EF
    lda #$01    ; F962 A9 01
    sta <$92     ; F964 85 92
    jmp copyToVram                  ; F966 4C 70 F9
; ----------------------------------------------------------------------------
; bank $3f
copyToVramDirect:
    lda #$00    ; F969 A9 00
    sta <$92     ; F96B 85 92
    jmp copyToVram                  ; F96D 4C 70 F9
; ----------------------------------------------------------------------------
; bank $3f
copyToVram:
    lda <$82     ; F970 A5 82
    and #$03    ; F972 29 03
    sta <$83     ; F974 85 83
    lsr <$82     ; F976 46 82
    lsr <$82     ; F978 46 82
.L_F97A:
  lda <$84     ; F97A A5 84
    jsr switch_16k_synchronized     ; F97C 20 87 FB
    lda $7CF3   ; F97F AD F3 7C
    beq .L_F987   ; F982 F0 03
    jsr ppud.await_nmi_completion   ; F984 20 80 FB
.L_F987:
  lda <$81     ; F987 A5 81
    ldx .L_0080   ; F989 A6 80
    jsr ppud.set_vram_addr          ; F98B 20 E0 F8
    ldy #$00    ; F98E A0 00
.L_F990:
  lda [$7E],y ; F990 B1 7E
    ldx <$92     ; F992 A6 92
    beq .L_F99A   ; F994 F0 04
    tax             ; F996 AA
    lda $7300,x ; F997 BD 00 73
.L_F99A:
  sta $2007   ; F99A 8D 07 20
    iny             ; F99D C8
    cpy #$40    ; F99E C0 40
    bne .L_F990   ; F9A0 D0 EE
    lda $7CF3   ; F9A2 AD F3 7C
    beq .L_F9AA   ; F9A5 F0 03
    jsr ppud.sync_registers_with_cache  ; F9A7 20 CB F8
.L_F9AA:
  lda #$00    ; F9AA A9 00
    sta $2005   ; F9AC 8D 05 20
    sta $2005   ; F9AF 8D 05 20
    lda #$40    ; F9B2 A9 40
    jsr offset$7e_16                ; F9B4 20 F2 F8
    lda #$40    ; F9B7 A9 40
    jsr offset$80_16                ; F9B9 20 FE F8
    dec <$82     ; F9BC C6 82
    bne .L_F97A   ; F9BE D0 BA
    lda <$83     ; F9C0 A5 83
    beq .L_F9FE   ; F9C2 F0 3A
    ldx #$10    ; F9C4 A2 10
    jsr mul8x8_reg                  ; F9C6 20 EA F8
    sta <$82     ; F9C9 85 82
    lda $7CF3   ; F9CB AD F3 7C
    beq .L_F9D3   ; F9CE F0 03
    jsr ppud.await_nmi_completion   ; F9D0 20 80 FB
.L_F9D3:
  lda <$81     ; F9D3 A5 81
    ldx .L_0080   ; F9D5 A6 80
    jsr ppud.set_vram_addr          ; F9D7 20 E0 F8
    ldy #$00    ; F9DA A0 00
.L_F9DC:
  lda [$7E],y ; F9DC B1 7E
    ldx <$92     ; F9DE A6 92
    beq .L_F9E6   ; F9E0 F0 04
    tax             ; F9E2 AA
    lda $7300,x ; F9E3 BD 00 73
.L_F9E6:
  sta $2007   ; F9E6 8D 07 20
    iny             ; F9E9 C8
    cpy <$82     ; F9EA C4 82
    bne .L_F9DC   ; F9EC D0 EE
    lda $7CF3   ; F9EE AD F3 7C
    beq .L_F9F6   ; F9F1 F0 03
    jsr ppud.sync_registers_with_cache  ; F9F3 20 CB F8
.L_F9F6:
  lda #$00    ; F9F6 A9 00
    sta $2005   ; F9F8 8D 05 20
    sta $2005   ; F9FB 8D 05 20
.L_F9FE:
  jmp .L_F891   ; F9FE 4C 91 F8
; ----------------------------------------------------------------------------
    lda #$1A    ; FA01 A9 1A
    jsr switch_16k_synchronized     ; FA03 20 87 FB
    jsr .L_800C   ; FA06 20 0C 80
    lda #$0F    ; FA09 A9 0F
    jmp switch_16k_synchronized     ; FA0B 4C 87 FB
; ----------------------------------------------------------------------------
; bank $3f
call_2e_9d53:
    pha             ; FA0E 48
    lda #$17    ; FA0F A9 17
    jsr switch_16k_synchronized     ; FA11 20 87 FB
    pla             ; FA14 68
    jsr .L_9D53   ; FA15 20 53 9D
    lda #$1A    ; FA18 A9 1A
    jmp switch_16k_synchronized     ; FA1A 4C 87 FB
; ----------------------------------------------------------------------------
; bank $3f
blackOutScreen:
    lda #$00    ; FA1D A9 00
    sta $2000   ; FA1F 8D 00 20
    sta $2001   ; FA22 8D 01 20
    rts             ; FA25 60
; ----------------------------------------------------------------------------
; bank $3f
doBattle:
    sta $7CED   ; FA26 8D ED 7C
    stx $7CEF   ; FA29 8E EF 7C
    sty $7ED8   ; FA2C 8C D8 7E
    jsr blackOutScreen              ; FA2F 20 1D FA
    sta <$A9     ; FA32 85 A9
    jsr saveFieldVars               ; FA34 20 17 FB
    jsr saveNmiIrqHandlerAndSetHandlerForBattle; FA37 20 B5 FA
    lda #$17    ; FA3A A9 17
    jsr switch_16k_synchronized     ; FA3C 20 87 FB
    jsr .L_9D56   ; FA3F 20 56 9D
    lda #$1A    ; FA42 A9 1A
    jsr switch_16k_synchronized     ; FA44 20 87 FB
    jsr .L_8003   ; FA47 20 03 80
    lda #$17    ; FA4A A9 17
    jsr switch_16k_synchronized     ; FA4C 20 87 FB
    jsr .L_9D50   ; FA4F 20 50 9D
    cli             ; FA52 58
    lda #$1A    ; FA53 A9 1A
    jsr switch_16k_synchronized     ; FA55 20 87 FB
    jsr menu.select_pc.put_pc_sprites   ; FA58 20 00 80
    lda #$00    ; FA5B A9 00
    sta <$B6     ; FA5D 85 B6
.L_FA5F:
  jsr ppud.update_sprites_and_palette_after_nmi; FA5F 20 B0 F8
    lda <$B6     ; FA62 A5 B6
    and #$03    ; FA64 29 03
    bne .L_FA6B   ; FA66 D0 03
    jsr .L_FA87   ; FA68 20 87 FA
.L_FA6B:
  inc <$B6     ; FA6B E6 B6
    lda <$B6     ; FA6D A5 B6
    cmp #$14    ; FA6F C9 14
    bne .L_FA5F   ; FA71 D0 EC
    jsr blackOutScreen              ; FA73 20 1D FA
    jsr restoreIrqHandlerAndNmiHandler  ; FA76 20 DD FA
    jsr restoreFieldVariables       ; FA79 20 3B F8
    sei             ; FA7C 78
    asl $78D3   ; FA7D 0E D3 78
    rts             ; FA80 60
; ----------------------------------------------------------------------------
.L_FA81:
  brk             ; FA81 00
.L_FA82:
  jsr .L_1000   ; FA82 20 00 10
    bpl .L_FAA7   ; FA85 10 20
.L_FA87:
  asl a       ; FA87 0A
    tay             ; FA88 A8
    lda .L_FA82,y ; FA89 B9 82 FA
    sta .L_0080   ; FA8C 85 80
    ldx .L_FA81,y ; FA8E BE 81 FA
.L_FA91:
  lda $7CF7,x ; FA91 BD F7 7C
    cmp #$0F    ; FA94 C9 0F
    beq .L_FAAC   ; FA96 F0 14
    pha             ; FA98 48
    and #$0F    ; FA99 29 0F
    sta <$7E     ; FA9B 85 7E
    pla             ; FA9D 68
    and #$30    ; FA9E 29 30
    bne .L_FAA7   ; FAA0 D0 05
    lda #$0F    ; FAA2 A9 0F
    jmp .L_FAAC   ; FAA4 4C AC FA
; ----------------------------------------------------------------------------
.L_FAA7:
  sec             ; FAA7 38
    sbc #$10    ; FAA8 E9 10
    ora <$7E     ; FAAA 05 7E
.L_FAAC:
  sta $7CF7,x ; FAAC 9D F7 7C
    inx             ; FAAF E8
    cpx .L_0080   ; FAB0 E4 80
    bne .L_FA91   ; FAB2 D0 DD
    rts             ; FAB4 60
; ----------------------------------------------------------------------------
; bank $3f
saveNmiIrqHandlerAndSetHandlerForBattle:
    ldx #$06    ; FAB5 A2 06
.L_FAB7:
  lda a:$FF,x ; FAB7 BD FF 00
    sta $7ED8,x ; FABA 9D D8 7E
    dex             ; FABD CA
    bne .L_FAB7   ; FABE D0 F7
    lda #$57    ; FAC0 A9 57
    sta $0101   ; FAC2 8D 01 01
    lda #$FB    ; FAC5 A9 FB
    sta $0102   ; FAC7 8D 02 01
    lda #$4C    ; FACA A9 4C
    sta $0100   ; FACC 8D 00 01
    sta $0103   ; FACF 8D 03 01
    lda #$30    ; FAD2 A9 30
    sta $0104   ; FAD4 8D 04 01
    lda #$FB    ; FAD7 A9 FB
    sta $0105   ; FAD9 8D 05 01
    rts             ; FADC 60
; ----------------------------------------------------------------------------
; bank $3f
restoreIrqHandlerAndNmiHandler:
    ldx #$06    ; FADD A2 06
.L_FADF:
  lda $7ED8,x ; FADF BD D8 7E
    sta a:$FF,x ; FAE2 9D FF 00
    dex             ; FAE5 CA
    bne .L_FADF   ; FAE6 D0 F7
    rts             ; FAE8 60
; ----------------------------------------------------------------------------
    sta $7F43   ; FAE9 8D 43 7F
    lda #$01    ; FAEC A9 01
    sta $7F42   ; FAEE 8D 42 7F
    rts             ; FAF1 60
; ----------------------------------------------------------------------------
.L_FAF2:
  txa             ; FAF2 8A
    pha             ; FAF3 48
    tya             ; FAF4 98
    pha             ; FAF5 48
    lda <$C9     ; FAF6 A5 C9
    beq .L_FB05   ; FAF8 F0 0B
    lda <$CA     ; FAFA A5 CA
    ora #$80    ; FAFC 09 80
    sta $7F49   ; FAFE 8D 49 7F
    lda #$00    ; FB01 A9 00
    sta <$C9     ; FB03 85 C9
.L_FB05:
  lda #$1B    ; FB05 A9 1B
    jsr switch_16k_synchronized_nocache ; FB07 20 89 FB
    jsr .L_8003   ; FB0A 20 03 80
    lda <$AB     ; FB0D A5 AB
    jsr switch_16k_synchronized_nocache ; FB0F 20 89 FB
    pla             ; FB12 68
    tay             ; FB13 A8
    pla             ; FB14 68
    tax             ; FB15 AA
    rts             ; FB16 60
; ----------------------------------------------------------------------------
; bank $3f
saveFieldVars:
    ldx #$00    ; FB17 A2 00
.L_FB19:
  lda a:.L_0000,x                   ; FB19 BD 00 00
    .byte   <$9D     ; FB1C 9D
.L_FB1D:
  bra $FB93   ; FB1D 80 74
    inx             ; FB1F E8
    cpx #$D0    ; FB20 E0 D0
    bne .L_FB19   ; FB22 D0 F5
    ldx #$E0    ; FB24 A2 E0
.L_FB26:
  lda a:.L_0000,x                   ; FB26 BD 00 00
    sta $7470,x ; FB29 9D 70 74
    inx             ; FB2C E8
    bne .L_FB26   ; FB2D D0 F7
    rts             ; FB2F 60
; ----------------------------------------------------------------------------
; bank $3f
irq_handler:
    pha             ; FB30 48
    lda a:$AA   ; FB31 AD AA 00
    bne .L_FB45   ; FB34 D0 0F
    lda <$08     ; FB36 A5 08
    sta $2000   ; FB38 8D 00 20
    lda <$10     ; FB3B A5 10
    sta $2005   ; FB3D 8D 05 20
    lda <$11     ; FB40 A5 11
    sta $2005   ; FB42 8D 05 20
.L_FB45:
  sta .L_E000   ; FB45 8D 00 E0
    lda #$00    ; FB48 A9 00
    sta .L_0000   ; FB4A 85 00
    lda <$AA     ; FB4C A5 AA
    ora <$A9     ; FB4E 05 A9
    bne .L_FB55   ; FB50 D0 03
    jsr .L_FAF2   ; FB52 20 F2 FA
.L_FB55:
  pla             ; FB55 68
    rti             ; FB56 40
; ----------------------------------------------------------------------------
; bank $3f
ppud.nmi_handler:
    pha             ; FB57 48
    txa             ; FB58 8A
    pha             ; FB59 48
    lda $7CF3   ; FB5A AD F3 7C
    beq .L_FB71   ; FB5D F0 12
    jsr ppud.sync_registers_with_cache  ; FB5F 20 CB F8
    lda <$03     ; FB62 A5 03
    sta <$02     ; FB64 85 02
    sta .L_C000   ; FB66 8D 00 C0
    sta .L_C001   ; FB69 8D 01 C0
    ldx <$01     ; FB6C A6 01
    sta .L_E000,x ; FB6E 9D 00 E0
.L_FB71:
  lda #$00    ; FB71 A9 00
    sta <$05     ; FB73 85 05
    pla             ; FB75 68
    tax             ; FB76 AA
    pla             ; FB77 68
    rti             ; FB78 40
; ----------------------------------------------------------------------------
    inc .L_0000   ; FB79 E6 00
.L_FB7B:
  lda .L_0000   ; FB7B A5 00
    bne .L_FB7B   ; FB7D D0 FC
    rts             ; FB7F 60
; ----------------------------------------------------------------------------
; bank $3f
ppud.await_nmi_completion:
    inc <$05     ; FB80 E6 05
.L_FB82:
  lda <$05     ; FB82 A5 05
    bne .L_FB82   ; FB84 D0 FC
    rts             ; FB86 60
; ----------------------------------------------------------------------------
; bank $3f
switch_16k_synchronized:
    sta <$AB     ; FB87 85 AB
; bank $3f
switch_16k_synchronized_nocache:
    asl a       ; FB89 0A
    pha             ; FB8A 48
    lda #$06    ; FB8B A9 06
    inc <$A9     ; FB8D E6 A9
    sta menu.select_pc.put_pc_sprites   ; FB8F 8D 00 80
    pla             ; FB92 68
    sta .L_8001   ; FB93 8D 01 80
    dec <$A9     ; FB96 C6 A9
    clc             ; FB98 18
    adc #$01    ; FB99 69 01
    pha             ; FB9B 48
    lda #$07    ; FB9C A9 07
    inc <$A9     ; FB9E E6 A9
    sta menu.select_pc.put_pc_sprites   ; FBA0 8D 00 80
    pla             ; FBA3 68
    sta .L_8001   ; FBA4 8D 01 80
    dec <$A9     ; FBA7 C6 A9
    rts             ; FBA9 60
; ----------------------------------------------------------------------------
; bank $3f
getPad1Input:
    lda <$13     ; FBAA A5 13
    sta <$12     ; FBAC 85 12
    lda #$01    ; FBAE A9 01
    sta $4016   ; FBB0 8D 16 40
    lda #$00    ; FBB3 A9 00
    sta $4016   ; FBB5 8D 16 40
    ldx #$08    ; FBB8 A2 08
.L_FBBA:
  lda $4016   ; FBBA AD 16 40
    ror a       ; FBBD 6A
    bcs .L_FBC1   ; FBBE B0 01
    ror a       ; FBC0 6A
.L_FBC1:
  ror <$13     ; FBC1 66 13
    dex             ; FBC3 CA
    bne .L_FBBA   ; FBC4 D0 F4
    lda <$12     ; FBC6 A5 12
    ora <$13     ; FBC8 05 13
    bne .L_FBD3   ; FBCA D0 07
    sta <$12     ; FBCC 85 12
    lda #$08    ; FBCE A9 08
    sta <$14     ; FBD0 85 14
    rts             ; FBD2 60
; ----------------------------------------------------------------------------
.L_FBD3:
  lda <$12     ; FBD3 A5 12
    and <$13     ; FBD5 25 13
    bne .L_FBE2   ; FBD7 D0 09
.L_FBD9:
  lda <$12     ; FBD9 A5 12
    eor #$FF    ; FBDB 49 FF
    and <$13     ; FBDD 25 13
    sta <$12     ; FBDF 85 12
    rts             ; FBE1 60
; ----------------------------------------------------------------------------
.L_FBE2:
  dec <$14     ; FBE2 C6 14
    bne .L_FBD9   ; FBE4 D0 F3
    lda #$04    ; FBE6 A9 04
    sta <$14     ; FBE8 85 14
    lda <$13     ; FBEA A5 13
    sta <$12     ; FBEC 85 12
    rts             ; FBEE 60
; ----------------------------------------------------------------------------
; bank $3f
getBattleRandom:
    stx <$20     ; FBEF 86 20
    cpx #$FF    ; FBF1 E0 FF
    bne .L_FBF8   ; FBF3 D0 03
    txa             ; FBF5 8A
    bne .L_FC26   ; FBF6 D0 2E
.L_FBF8:
  cmp #$00    ; FBF8 C9 00
    beq .L_FC26   ; FBFA F0 2A
    cmp <$20     ; FBFC C5 20
    beq .L_FC26   ; FBFE F0 26
    sec             ; FC00 38
    sbc <$20     ; FC01 E5 20
    sta <$18     ; FC03 85 18
    lda #$80    ; FC05 A9 80
    sta <$1A     ; FC07 85 1A
    asl a       ; FC09 0A
    sta <$19     ; FC0A 85 19
    ldx <$21     ; FC0C A6 21
    lda <$15,x   ; FC0E B5 15
    inc <$15,x   ; FC10 F6 15
    tax             ; FC12 AA
    lda $7BE3,x ; FC13 BD E3 7B
    sta <$1B     ; FC16 85 1B
    jsr mul16x16; FC18 20 F5 FC
    ldx <$1E     ; FC1B A6 1E
    lda <$1D     ; FC1D A5 1D
    bpl .L_FC22   ; FC1F 10 01
    inx             ; FC21 E8
.L_FC22:
  txa             ; FC22 8A
    clc             ; FC23 18
    adc <$20     ; FC24 65 20
.L_FC26:
  rts             ; FC26 60
; ----------------------------------------------------------------------------
; bank $3f
initBattleRandom:
    ldx #$00    ; FC27 A2 00
.L_FC29:
  adc .L_0000,x ; FC29 75 00
    inx             ; FC2B E8
    bne .L_FC29   ; FC2C D0 FB
    sta <$15     ; FC2E 85 15
    sta <$16     ; FC30 85 16
    sta <$17     ; FC32 85 17
    and #$02    ; FC34 29 02
    clc             ; FC36 18
    adc #$03    ; FC37 69 03
    sta <$22     ; FC39 85 22
    lda #$01    ; FC3B A9 01
    sta <$20     ; FC3D 85 20
    lda #$00    ; FC3F A9 00
    sta <$21     ; FC41 85 21
    tay             ; FC43 A8
.L_FC44:
  lda <$22     ; FC44 A5 22
    sta <$18     ; FC46 85 18
    lda #$00    ; FC48 A9 00
    sta <$19     ; FC4A 85 19
    lda <$20     ; FC4C A5 20
    sta <$1A     ; FC4E 85 1A
    lda <$21     ; FC50 A5 21
    sta <$1B     ; FC52 85 1B
    jsr mul16x16; FC54 20 F5 FC
    lda <$1C     ; FC57 A5 1C
    sta <$18     ; FC59 85 18
    lda <$1D     ; FC5B A5 1D
    sta <$19     ; FC5D 85 19
    lda #$00    ; FC5F A9 00
    sta <$1A     ; FC61 85 1A
    lda #$04    ; FC63 A9 04
    sta <$1B     ; FC65 85 1B
    jsr div     ; FC67 20 92 FC
    sec             ; FC6A 38
    lda <$1F     ; FC6B A5 1F
    sbc #$02    ; FC6D E9 02
    ora <$1E     ; FC6F 05 1E
    beq .L_FC81   ; FC71 F0 0E
    bcc .L_FC81   ; FC73 90 0C
    lda #$00    ; FC75 A9 00
    sbc <$1E     ; FC77 E5 1E
    sta <$1E     ; FC79 85 1E
    lda #$04    ; FC7B A9 04
    sbc <$1F     ; FC7D E5 1F
    sta <$1F     ; FC7F 85 1F
.L_FC81:
  lda <$1F     ; FC81 A5 1F
    sta <$21     ; FC83 85 21
    lsr a       ; FC85 4A
    lda <$1E     ; FC86 A5 1E
    sta <$20     ; FC88 85 20
    ror a       ; FC8A 6A
    sta $7BE3,y ; FC8B 99 E3 7B
    iny             ; FC8E C8
    bne .L_FC44   ; FC8F D0 B3
    rts             ; FC91 60
; ----------------------------------------------------------------------------
; bank $3f
div:    lda #$00    ; FC92 A9 00
    sta <$1D     ; FC94 85 1D
    sta <$1C     ; FC96 85 1C
    sta <$1F     ; FC98 85 1F
    sta <$1E     ; FC9A 85 1E
    lda <$18     ; FC9C A5 18
    ora <$19     ; FC9E 05 19
    beq .L_FCD5   ; FCA0 F0 33
    lda <$1A     ; FCA2 A5 1A
    ora <$1B     ; FCA4 05 1B
    beq .L_FCD5   ; FCA6 F0 2D
    ldx #$10    ; FCA8 A2 10
.L_FCAA:
  rol <$18     ; FCAA 26 18
    rol <$19     ; FCAC 26 19
    rol <$1E     ; FCAE 26 1E
    rol <$1F     ; FCB0 26 1F
    sec             ; FCB2 38
    lda <$1E     ; FCB3 A5 1E
    sbc <$1A     ; FCB5 E5 1A
    sta <$1E     ; FCB7 85 1E
    lda <$1F     ; FCB9 A5 1F
    sbc <$1B     ; FCBB E5 1B
    sta <$1F     ; FCBD 85 1F
    bcs .L_FCCE   ; FCBF B0 0D
    lda <$1E     ; FCC1 A5 1E
    adc <$1A     ; FCC3 65 1A
    sta <$1E     ; FCC5 85 1E
    lda <$1F     ; FCC7 A5 1F
    adc <$1B     ; FCC9 65 1B
    sta <$1F     ; FCCB 85 1F
    clc             ; FCCD 18
.L_FCCE:
  rol <$1C     ; FCCE 26 1C
    rol <$1D     ; FCD0 26 1D
    dex             ; FCD2 CA
    bne .L_FCAA   ; FCD3 D0 D5
.L_FCD5:
  rts             ; FCD5 60
; ----------------------------------------------------------------------------
; bank $3f
mul8x8: sta <$18     ; FCD6 85 18
    stx <$19     ; FCD8 86 19
    ldx #$08    ; FCDA A2 08
    lda #$00    ; FCDC A9 00
    sta <$1B     ; FCDE 85 1B
    sta <$1A     ; FCE0 85 1A
.L_FCE2:
  ror <$19     ; FCE2 66 19
    bcc .L_FCED   ; FCE4 90 07
    clc             ; FCE6 18
    lda <$18     ; FCE7 A5 18
    adc <$1B     ; FCE9 65 1B
    sta <$1B     ; FCEB 85 1B
.L_FCED:
  ror <$1B     ; FCED 66 1B
    ror <$1A     ; FCEF 66 1A
    dex             ; FCF1 CA
    bne .L_FCE2   ; FCF2 D0 EE
    rts             ; FCF4 60
; ----------------------------------------------------------------------------
; bank $3f
mul16x16:
    ldx #$10    ; FCF5 A2 10
    lda #$00    ; FCF7 A9 00
    sta <$1D     ; FCF9 85 1D
    sta <$1C     ; FCFB 85 1C
    sta <$1F     ; FCFD 85 1F
    sta <$1E     ; FCFF 85 1E
.L_FD01:
  ror <$1B     ; FD01 66 1B
    ror <$1A     ; FD03 66 1A
    bcc .L_FD14   ; FD05 90 0D
    clc             ; FD07 18
    lda <$18     ; FD08 A5 18
    adc <$1E     ; FD0A 65 1E
    sta <$1E     ; FD0C 85 1E
    lda <$19     ; FD0E A5 19
    adc <$1F     ; FD10 65 1F
.L_FD12:
  sta <$1F     ; FD12 85 1F
.L_FD14:
  ror <$1F     ; FD14 66 1F
    ror <$1E     ; FD16 66 1E
    ror <$1D     ; FD18 66 1D
    ror <$1C     ; FD1A 66 1C
    dex             ; FD1C CA
    bne .L_FD01   ; FD1D D0 E2
    rts             ; FD1F 60
; ----------------------------------------------------------------------------
; bank $3f
flagTargetBit:
    ora .L_FD24,x ; FD20 1D 24 FD
    rts             ; FD23 60
; ----------------------------------------------------------------------------
.L_FD24:
  bra .L_FD66   ; FD24 80 40
    jsr .L_0810   ; FD26 20 10 08
    tsb <$02     ; FD29 04 02
    .byte   <$01     ; FD2B 01
; bank $3f
clearTargetBit:
    and .L_FD30,x ; FD2C 3D 30 FD
    rts             ; FD2F 60
; ----------------------------------------------------------------------------
.L_FD30:
  .byte   <$7F     ; FD30 7F
.L_FD31:
  bbs3    $DF,$DF ; FD31 BF DF EF
    smb7    <$FB     ; FD34 F7
    .byte   <$FB     ; FD35 FB
    .byte   <$FD     ; FD36 FD
    .byte   <$FE     ; FD37 FE
; bank $3f
maskTargetBit:
    and .L_FD24,x ; FD38 3D 24 FD
    rts             ; FD3B 60
; ----------------------------------------------------------------------------
; bank $3f
shiftLeftN:
    asl a       ; FD3C 0A
    asl a       ; FD3D 0A
    asl a       ; FD3E 0A
    asl a       ; FD3F 0A
    asl a       ; FD40 0A
    asl a       ; FD41 0A
    rts             ; FD42 60
; ----------------------------------------------------------------------------
; bank $3f
shiftRightN:
    lsr a       ; FD43 4A
    lsr a       ; FD44 4A
    lsr a       ; FD45 4A
    lsr a       ; FD46 4A
    lsr a       ; FD47 4A
    lsr a       ; FD48 4A
    rts             ; FD49 60
; ----------------------------------------------------------------------------
; bank $3f
copyTo_$7ad7_x_Until0:
    jsr switch_16k_synchronized     ; FD4A 20 87 FB
    ldy #$00    ; FD4D A0 00
.L_FD4F:
  lda [$18],y ; FD4F B1 18
    beq .L_FD5A   ; FD51 F0 07
    sta $7AD7,x ; FD53 9D D7 7A
    inx             ; FD56 E8
    iny             ; FD57 C8
    bne .L_FD4F   ; FD58 D0 F5
.L_FD5A:
  lda #$1A    ; FD5A A9 1A
    jsr switch_16k_synchronized     ; FD5C 20 87 FB
    rts             ; FD5F 60
; ----------------------------------------------------------------------------
; bank $3f
get2byteAtBank18:
    lda #$0C    ; FD60 A9 0C
    jsr switch_16k_synchronized     ; FD62 20 87 FB
    .byte   <$A9     ; FD65 A9
.L_FD66:
  brk             ; FD66 00
    sta <$1B     ; FD67 85 1B
    asl <$1A     ; FD69 06 1A
    rol <$1B     ; FD6B 26 1B
    clc             ; FD6D 18
    lda <$1A     ; FD6E A5 1A
    adc <$18     ; FD70 65 18
    sta <$1A     ; FD72 85 1A
    lda <$1B     ; FD74 A5 1B
    adc <$19     ; FD76 65 19
    sta <$1B     ; FD78 85 1B
    ldy #$00    ; FD7A A0 00
    lda [$1A],y ; FD7C B1 1A
    sta <$18     ; FD7E 85 18
    iny             ; FD80 C8
    lda [$1A],y ; FD81 B1 1A
    sta <$19     ; FD83 85 19
    lda #$1A    ; FD85 A9 1A
    jsr switch_16k_synchronized     ; FD87 20 87 FB
    rts             ; FD8A 60
; ----------------------------------------------------------------------------
    lda #$00    ; FD8B A9 00
    jsr switch_16k_synchronized     ; FD8D 20 87 FB
    lda $8900,x ; FD90 BD 00 89
    sta <$3B     ; FD93 85 3B
    inx             ; FD95 E8
    lda $8900,x ; FD96 BD 00 89
    sta <$3C     ; FD99 85 3C
    inx             ; FD9B E8
    lda $8900,x ; FD9C BD 00 89
    sta <$3D     ; FD9F 85 3D
    lda #$1A    ; FDA1 A9 1A
    jmp switch_16k_synchronized     ; FDA3 4C 87 FB
; ----------------------------------------------------------------------------
; bank $3f
loadTo7400Ex:
    jsr switch_16k_synchronized     ; FDA6 20 87 FB
    tya             ; FDA9 98
    pha             ; FDAA 48
    txa             ; FDAB 8A
    pha             ; FDAC 48
    lda <$1A     ; FDAD A5 1A
    pha             ; FDAF 48
    lda #$00    ; FDB0 A9 00
    sta <$19     ; FDB2 85 19
    sta <$1B     ; FDB4 85 1B
    jsr mul16x16; FDB6 20 F5 FC
    clc             ; FDB9 18
    lda <$1C     ; FDBA A5 1C
    .byte   <$65     ; FDBC 65
.L_FDBD:
  jsr $1C85   ; FDBD 20 85 1C
    lda <$1D     ; FDC0 A5 1D
    adc <$21     ; FDC2 65 21
    sta <$1D     ; FDC4 85 1D
    pla             ; FDC6 68
    sta <$1A     ; FDC7 85 1A
    pla             ; FDC9 68
    tax             ; FDCA AA
    ldy #$00    ; FDCB A0 00
.L_FDCD:
  lda [$1C],y ; FDCD B1 1C
    sta $7400,x ; FDCF 9D 00 74
    inx             ; FDD2 E8
    iny             ; FDD3 C8
    cpy <$1A     ; FDD4 C4 1A
    bne .L_FDCD   ; FDD6 D0 F5
    pla             ; FDD8 68
    jmp switch_16k_synchronized     ; FDD9 4C 87 FB
; ----------------------------------------------------------------------------
; bank $3f
copyTo7400:
    jsr switch_16k_synchronized     ; FDDC 20 87 FB
    ldx #$00    ; FDDF A2 00
.L_FDE1:
  ldy #$00    ; FDE1 A0 00
.L_FDE3:
  lda [$46],y ; FDE3 B1 46
    sta $7400,x ; FDE5 9D 00 74
    inx             ; FDE8 E8
    iny             ; FDE9 C8
    cpx <$4B     ; FDEA E4 4B
    bne .L_FDE3   ; FDEC D0 F5
    lda <$4A     ; FDEE A5 4A
    jmp switch_16k_synchronized     ; FDF0 4C 87 FB
; ----------------------------------------------------------------------------
; bank $3f
call_bank30_9e58:
    lda #$18    ; FDF3 A9 18
    jsr switch_16k_synchronized     ; FDF5 20 87 FB
    jsr .L_9E58   ; FDF8 20 58 9E
    lda #$1A    ; FDFB A9 1A
    jmp switch_16k_synchronized     ; FDFD 4C 87 FB
; ----------------------------------------------------------------------------
.L_FE00:
  bbr1    $A6,.L_FDE1                   ; FE00 1F A6 DE
    tsx             ; FE03 BA
    cpy $7D12   ; FE04 CC 12 7D
    stz <$1B,x   ; FE07 74 1B
    .byte   <$F3     ; FE09 F3
    ldy <$88,x   ; FE0A B4 88
    sed             ; FE0C F8
    eor ($F4)   ; FE0D 52 F4
.L_FE0F:
  rmb0    <$90     ; FE0F 07
    bcc .L_FDBD   ; FE10 90 AB
    .byte   <$B3     ; FE12 B3
    lda $55AA,x ; FE13 BD AA 55
    plp             ; FE16 28
    ldy $608A,x ; FE17 BC 8A 60
    asl $83C4   ; FE1A 0E C4 83
    lda #$3B    ; FE1D A9 3B
    ror <$20,x   ; FE1F 76 20
.L_FE21:
  jmp (.L_9209,x)                   ; FE21 7C 09 92
    sbc .L_A84A,x ; FE24 FD 4A A8
    beq .L_FE8A   ; FE27 F0 61
    .byte   <$E3     ; FE29 E3
    sbc ($69)   ; FE2A F2 69
    jmp (.L_38BB) ; FE2C 6C BB 38
; ----------------------------------------------------------------------------
    .byte   <$C3     ; FE2F C3
    ldx $43B7   ; FE30 AE B7 43
    sty <$78     ; FE33 84 78
    .byte   <$23     ; FE35 23
    .byte   <$7B     ; FE36 7B
    .byte   <$9B     ; FE37 9B
    and $3EDB   ; FE38 2D DB 3E
    sta [$CF],y ; FE3B 91 CF
    .byte   <$02     ; FE3D 02
    rol a       ; FE3E 2A
    ldx $86,y   ; FE3F B6 86
    inc $8E9C   ; FE41 EE 9C 8E
    clv             ; FE44 B8
    bbr6    $1A,.L_FE9F                   ; FE45 6F 1A 57
    ora <$E9     ; FE48 05 E9
    .byte   <$73     ; FE4A 73
    and [$D2],y ; FE4B 31 D2
    .byte   <$D9     ; FE4D D9
.L_FE4E:
  ora $94FB,x ; FE4E 1D FB 94
    sta $0AB1,x ; FE51 9D B1 0A
    dec a       ; FE54 3A
    ora [$5A],y ; FE55 11 5A
    rmb4    <$95     ; FE57 47
    sta <$2C,x   ; FE58 95 2C
    .byte   <$44     ; FE5A 44
    cpx #$6A    ; FE5B E0 6A
    sty $7A5B   ; FE5D 8C 5B 7A
    smb2    <$5D     ; FE60 A7
    eor $7036,x ; FE61 5D 36 70
    sbc <$C7     ; FE64 E5 C7
    eor #$DC    ; FE66 49 DC
    pla             ; FE68 68
    smb1    <$D8     ; FE69 97
    cld             ; FE6A D8
    ror <$A3     ; FE6B 66 A3
    .byte   <$0F     ; FE6D 0F
.L_FE6E:
  bcs .L_FE0F   ; FE6E B0 9F
    .byte   <$03     ; FE70 03
    dec <$77,x   ; FE71 D6 77
    asl <$13,x   ; FE73 16 13
    bmi .L_FE9C   ; FE75 30 25
    bit $1710,x ; FE77 3C 10 17
    lda $6B98   ; FE7A AD 98 6B
    bbr2    $D7,.L_FE21                   ; FE7D 2F D7 A1
    bbs7    $A4,.L_FE6E                   ; FE80 FF A4 EB
    eor [$FE],y ; FE83 51 FE
    rmb2    <$8D     ; FE85 27
    sta .L_D593   ; FE86 8D 93 D5
    .byte   <$3D     ; FE89 3D
.L_FE8A:
  inc <$08,x   ; FE8A F6 08
    adc <$E1,x   ; FE8C 75 E1
    lda <$46     ; FE8E A5 46
    .byte   <$63     ; FE90 63
    sbc .L_004D,x ; FE91 F5 4D
    phx             ; FE93 DA
    and ($AF)   ; FE94 32 AF
    rti             ; FE96 40
; ----------------------------------------------------------------------------
    rmb3    <$D3     ; FE97 37
    .byte   <$D3     ; FE98 D3
    cpy #$89    ; FE99 C0 89
    rmb6    <$06     ; FE9B 67
.L_FE9C:
  asl <$21     ; FE9C 06 21
    .byte   <$6E     ; FE9E 6E
.L_FE9F:
  sta ($B5,x) ; FE9F 81 B5
    ldy #$4F    ; FEA1 A0 4F
    tsb .L_E72E   ; FEA3 0C 2E E7
    trb $8558   ; FEA6 1C 58 85
    inx             ; FEA9 E8
    eor $35CE,y ; FEAA 59 CE 35
    .byte   <$CB     ; FEAD CB
    asl $2BC6,x ; FEAE 1E C6 2B
    txs             ; FEB1 9A
    inc <$DD     ; FEB2 E6 DD
    sbc [$EC],y ; FEB4 F1 EC
    stx $CA,y   ; FEB6 96 CA
    ldy $5000   ; FEB8 AC 00 50
    cmp #$4C    ; FEBB C9 4C
    .byte   <$FC     ; FEBD FC
    trb <$7E     ; FEBE 14 7E
    lsr .L_0080,x ; FEC0 56 80
    bne .L_FF3D   ; FEC2 D0 79
    bbs3    $29,.L_FE4E                   ; FEC4 BF 29 87
    pha             ; FEC7 48
    bit <$19     ; FEC8 24 19
    cmp <$22     ; FECA C5 22
    adc [$7F],y ; FECC 71 7F
    adc ($0D)   ; FECE 72 0D
    cmp .L_BE8F   ; FED0 CD 8F BE
    bbr3    $90,.L_FF0A                   ; FED3 3F 90 34
    sbc $5453   ; FED6 ED 53 54
    tsb <$62     ; FED9 04 62
    ldx #$C2    ; FEDB A2 C2
    eor ($5E,x) ; FEDD 41 5E
    .byte   <$82     ; FEDF 82
    .byte   <$4B     ; FEE0 4B
    rol <$5C     ; FEE1 26 5C
    .byte   <$42     ; FEE3 42
    adc <$99     ; FEE4 65 99
    lsr $8B60   ; FEE6 4E 60 8B
    smb7    <$0B     ; FEE9 F7
    .byte   <$0B     ; FEEA 0B
    .byte   <$33     ; FEEB 33
    bbs5    $D1,.L_FF53                   ; FEEC DF D1 64
.L_FEEF:
  iny             ; FEEF C8
    cpy #$01    ; FEF0 C0 01
    bbs6    $F9,.L_FEEF                   ; FEF2 EF F9 FA
    cpx <$5F     ; FEF5 E4 5F
    clc             ; FEF7 18
    lda $39B2,y ; FEF8 B9 B2 39
    .byte   <$D4     ; FEFB D4
    ora <$E2,x   ; FEFC 15 E2
    nop             ; FEFE EA
    .byte   <$45     ; FEFF 45
; bank $3f
thunk_await_nmi_by_set_handler:
    jmp setNmiHandlerTo_ff2a_andWaitNmi ; FF00 4C 36 FF
; ----------------------------------------------------------------------------
; bank $3f
call_switchFirst2Banks:
    jmp switch_2pages               ; FF03 4C 17 FF
; ----------------------------------------------------------------------------
; bank $3f
call_switch1stBank:
    jmp switch_1st_page             ; FF06 4C 0C FF
; ----------------------------------------------------------------------------
; bank $3f
call_switch2ndBank:
    .byte   <$4C     ; FF09 4C
.L_FF0A:
  .byte   <$1F     ; FF0A 1F
    .byte   <$FF     ; FF0B FF
; bank $3f
switch_1st_page:
    pha             ; FF0C 48
    lda #$06    ; FF0D A9 06
    sta menu.select_pc.put_pc_sprites   ; FF0F 8D 00 80
    pla             ; FF12 68
    sta .L_8001   ; FF13 8D 01 80
    rts             ; FF16 60
; ----------------------------------------------------------------------------
; bank $3f
switch_2pages:
    pha             ; FF17 48
    jsr switch_1st_page             ; FF18 20 0C FF
    pla             ; FF1B 68
    clc             ; FF1C 18
    adc #$01    ; FF1D 69 01
; bank $3f
switch_2nd_page:
    pha             ; FF1F 48
    lda #$07    ; FF20 A9 07
    sta menu.select_pc.put_pc_sprites   ; FF22 8D 00 80
    pla             ; FF25 68
    sta .L_8001   ; FF26 8D 01 80
    rts             ; FF29 60
; ----------------------------------------------------------------------------
; bank $3f
nmi_handler_01:
    lda $2002   ; FF2A AD 02 20
    lda #$40    ; FF2D A9 40
    sta $0100   ; FF2F 8D 00 01
    pla             ; FF32 68
    pla             ; FF33 68
    pla             ; FF34 68
    rts             ; FF35 60
; ----------------------------------------------------------------------------
; bank $3f
setNmiHandlerTo_ff2a_andWaitNmi:
    lda #$2A    ; FF36 A9 2A
    sta $0101   ; FF38 8D 01 01
    lda #$FF    ; FF3B A9 FF
.L_FF3D:
  sta $0102   ; FF3D 8D 02 01
    lda #$4C    ; FF40 A9 4C
    sta $0100   ; FF42 8D 00 01
.L_FF45:
  jmp .L_FF45   ; FF45 4C 45 FF
; ----------------------------------------------------------------------------
    sei             ; FF48 78
    cld             ; FF49 D8
    lda #$00    ; FF4A A9 00
    sta $2000   ; FF4C 8D 00 20
    sta $2001   ; FF4F 8D 01 20
    .byte   <$8D     ; FF52 8D
.L_FF53:
  bpl .L_FF95   ; FF53 10 40
    ldx #$02    ; FF55 A2 02
.L_FF57:
  bit $2002   ; FF57 2C 02 20
    bpl .L_FF57   ; FF5A 10 FB
    dex             ; FF5C CA
    bne .L_FF57   ; FF5D D0 F8
    ldx #$FF    ; FF5F A2 FF
    txs             ; FF61 9A
    lda #$40    ; FF62 A9 40
    sta $0100   ; FF64 8D 00 01
    sta $0103   ; FF67 8D 03 01
    sta $4017   ; FF6A 8D 17 40
    lda #$00    ; FF6D A9 00
    sta .L_A000   ; FF6F 8D 00 A0
    lda #$80    ; FF72 A9 80
    sta .L_A001   ; FF74 8D 01 A0
    sta menu.select_pc.put_pc_sprites   ; FF77 8D 00 80
    lda #$00    ; FF7A A9 00
    sta .L_8001   ; FF7C 8D 01 80
    sta .L_E000   ; FF7F 8D 00 E0
    lda $2002   ; FF82 AD 02 20
    lda #$10    ; FF85 A9 10
    tax             ; FF87 AA
.L_FF88:
  sta $2006   ; FF88 8D 06 20
    sta $2006   ; FF8B 8D 06 20
    eor #$10    ; FF8E 49 10
    dex             ; FF90 CA
    bne .L_FF88   ; FF91 D0 F5
    .byte   <$8D     ; FF93 8D
    brk             ; FF94 00
.L_FF95:
  cpx #$A2    ; FF95 E0 A2
    brk             ; FF97 00
.L_FF98:
  stx menu.select_pc.put_pc_sprites   ; FF98 8E 00 80
    lda .L_FFB3,x ; FF9B BD B3 FF
    sta .L_8001   ; FF9E 8D 01 80
    inx             ; FFA1 E8
    cpx #$06    ; FFA2 E0 06
    bcc .L_FF98   ; FFA4 90 F2
    lda #$40    ; FFA6 A9 40
    sta .L_A000   ; FFA8 8D 00 A0
    lda #$80    ; FFAB A9 80
    sta .L_A001   ; FFAD 8D 01 A0
    jmp .L_C000   ; FFB0 4C 00 C0
; ----------------------------------------------------------------------------
.L_FFB3:
  brk             ; FFB3 00
    .byte   <$02     ; FFB4 02
    tsb <$05     ; FFB5 04 05
    asl <$07     ; FFB7 06 07
    brk             ; FFB9 00
    ora ($5F,x) ; FFBA 01 5F
    .byte   <$FF     ; FFBC FF
    .byte   <$FD     ; FFBD FD
.L_FFBE:
  bbs7    $7D,$7D ; FFBE FF 7D FF
    bbs5    $FF,$FF ; FFC1 DF FF 7D
.L_FFC4:
  bbs7    $7D,$7D ; FFC4 FF 7D FF
    sbc <$FF,x   ; FFC7 F5 FF
    .byte   <$5D     ; FFC9 5D
.L_FFCA:
  bbs7    $DF,$DF ; FFCA FF DF FF
    bbr7    $FF,$FF ; FFCD 7F FF 5F
.L_FFD0:
  bbs7    $77,$77 ; FFD0 FF 77 FF
    .byte   <$55     ; FFD3 55
.L_FFD4:
  bbs7    $D7,$D7 ; FFD4 FF D7 FF
.L_FFD7:
  .byte   <$D5     ; FFD7 D5
.L_FFD8:
  bbs7    $75,$75 ; FFD8 FF 75 FF
    rmb7    <$FF     ; FFDB 77
    .byte   <$FF     ; FFDC FF
    .byte   <$DF     ; FFDD DF
.L_FFDE:
  bbs7    $5F,$5F ; FFDE FF 5F FF
    sbc <$FF,x   ; FFE1 F5 FF
    rmb7    <$FF     ; FFE3 77
.L_FFE4:
  bbs7    $7D,$7D ; FFE4 FF 7D FF
    bbr5    $FF,$FF ; FFE7 5F FF 75
.L_FFEA:
  bbs7    $57,$57 ; FFEA FF 57 FF
    .byte   <$FF     ; FFED FF
.L_FFEE:
  .byte   <$FF     ; FFEE FF
    .byte   <$5D     ; FFEF 5D
; bank $3f
hardware_vectors:
    .byte   <$FF     ; FFF0 FF
    .byte   <$D6     ; FFF1 D6
.L_FFF2:
  bbs7    $75,$75 ; FFF2 FF 75 FF
    sbc <$BF,x   ; FFF5 F5 BF
    smb5    <$03     ; FFF7 D7
    .byte   <$03     ; FFF8 03
    ora (.L_0000,x)                   ; FFF9 01 00
    ora ($48,x) ; FFFB 01 48
    .byte   <$FF     ; FFFD FF
    .byte   <$03     ; FFFE 03
