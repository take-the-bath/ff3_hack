<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">
<head>
	<meta http-equiv="content-type" content="text/html; charset=shift_jis">
	<meta http-equiv="content-style-type" content="text/css; charset=shift_jis">
	<meta http-equiv="content-script-type" content="text/javascript; charset=shift_jis">
	<title>
		FC版FF3プチDS化パッチ readme
	</title>
	<style type="text/css"><!--
		body {
			font-size:10pt;
			line-height:12pt;
			background:#FFE4C4;
		}
		.title {
			font-size:14pt;
			font-weight:bold;
		}
		.heading {
			font-size:12pt;
			font-weight:bold;
		}
		.specHead {
			font-size:10pt;
			font-weight:bold;
		}
		.highlight {
			font-weight:bold;
			color:#0000c0;
		}
		.text {
			margin-left:12pt;
		}
		.ipsName {
			font-size:11pt;
			font-weight:bold;
		}
		.differences {
			font-size:11pt;
			line-height:13pt;
		}
		.detailText {
			margin-left:12pt;
			padding:4px;
			font-size:10pt;
			display:none;
			background:#fff0f0;
		}

		.detailExpanded {
			margin:1px;
			padding:2px;
			text-decoration:none;
			font-size:11pt;
			line-height:14pt;
			color:#503000;
		}

		.detailCaption {
			margin:1px;
			padding:2px;
			font-size:11pt;
			line-height:14pt;
			color:#5030ff;
		}

		.footer {
			border-top:solid 1px;
		}

	--></style>
	<script type="text/javascript"><!--
	
	function EventWrapper() {
		this.ev = event;
		this.target = event.srcElement;
	}
	EventWrapper.prototype = {
		preventDefault : function () {
			this.ev.returnValue = false;
		}
	};
	
	function eventHandler( handler ) {
		return function ( ev ) {
			//ev == undefined then ie6
			ev = ev ? ev : new EventWrapper();
			return handler( ev );
		};
	}

	function getDetailContainer( expander ) {
		//<a><br><div>
		var elt = expander;
		while ( (elt = elt.nextSibling).tagName != "DIV" ) {}
		return elt;
	}

	function toggleDetail( cont ) {
		if (cont.style.display != "block") { 
			cont.style.display = "block";
			//src.className = "detailExpanded";
		} else {
			cont.style.display = "none";
			//src.className = "detailCaption";
		}
	}

	function createExpanderHandler( /*cont*/ ) {
		return eventHandler(
			function _OnExpanderClicked( ev ) {
				try {
					toggleDetail( ev.target.detailContainer );
				} catch (e) {
					//oops!
					alert(e);
				}
				ev.preventDefault();
			}
		);
	}

	function getExpanderTags() {
		var cont = document.getElementById("diffContainer");
		return cont.getElementsByTagName("A");
	}

	function initExpander() {
		var handler = createExpanderHandler( null );
		var tags = getExpanderTags();
		for (var i = 0;i < tags.length;i++) {
			var a = tags[i];
			a.className = "detailCaption";
			a.href = "javascript:void 0;";
			//attachEvent( a, "click", handler );
			a.onclick = handler;	//dom level-0
			a.hideFocus = true;	//non-w3c
			//cache container node
			a.detailContainer = getDetailContainer( a );
			//toggleDetail( a );
		}
	}
	//-->
	</script>
</head>
<body onload="initExpander();">
<div style="border-bottom:solid 1px;">
	<span class="title">FC版FF3プチDS化パッチ readme</span><br>
	<span class="version">v0.7.9 (2007-08-31)</span><br>
</div>
<div class="toc">
	<p>
		<a href="#overview">概要</a><br>
		<a href="#versions">各ファイルの説明</a><br>
		<a href="#differences">本家オリジナル版との違い</a><br>
		<a href="#knownBugs">未修正の問題</a><br>
		<a href="#todo">今後の予定</a><br>
	</p>
</div>
<a name="overview"></a>
<div class="overview">
	<span class="heading">概要</span><br>
	<div class="text">
		このパッチはDS版FF3発売時まだDSを所持していなかった作者が、<br>
		一部のジョブにDS版で新たに実装されたジョブ特性や固有コマンドを実装したり、<br>
		FC版でプレイ上の障害になるバグを修正したり、機能改善を行ったものです。<br>
		DS化と銘打ってはありますが、アイテム、敵モンスター、マップなど、
		<span style="font-weight:bold;">基本はFC版FF3そのもの</span>です。<br>
		本家オリジナル版との詳しい違いは下記の<a href="#differences">「本家オリジナル版との違い」</a>をご覧下さい。<br>
		なお、それなりにテストはしてありますが、最悪の場合プレイ中にフリーズする可能性があります。
	</div>
</div>
<br>

<a name="versions"></a>
<div class="versions">
	<span class="heading">各ファイルの説明</span><br>
	<div class="text">
		ipsファイルはお好みに応じてどれか一つあててください。
		<ul>
			<li><span class="ipsName"> ff3_hack </span>:
			安定版。<span style="font-weight:bold;">現在同梱していません。</span></li>
			<li><span class="ipsName"> ff3_hack_beta </span>:
			新たに実装してテストが十分でない機能も含む版。</li>
			<li><span class="ipsName"> ff3_hack_another </span>:
			betaを基本に挑発の仕様が「敵全体・使用ターンのみ」から「味敵単体・3ターン継続」になる版。</li>
			<li><span class="ipsName"> ff3_soundtest </span>:
			サウンドテスト機能がついてるおまけ版。テスト後フリーズするので通常プレイには全く不向き。</li>
		</ul>
	</div>
</div>
<br>

<a name="differences"></a>
<div class="differences">
	<span class="heading">本家オリジナル版との違い</span><br>
	<div class="text" id="diffContainer">
		各項目をクリックすると詳しい説明が表示されます。<br>
		<noscript>
			詳しい説明の表示のためにjavascriptが必要です。
			有効にするか、<a href="release_notes.txt">同梱のtxt版</a>をご覧下さい。<br>
		</noscript>
		<br>
		<a>
		新規実装:戦士に「ふみこむ」</a><br>
		<div class="detailText" id="detail_raid">
			敵の懐に潜り込んで渾身の一撃を叩き込みます。<br>
			DS版とは違い、攻撃後、敵が行動可能な場合は即反撃を受けます。<br>
			熟練するとより効果的な一撃を繰り出せるようになります。<br>
			<span class="specHead">仕様</span><br>
			<div class="spec">
			攻撃力倍率(%) = 100 * (8 + (熟練度/8)) / 16<br>
			ダメージ上限65535<br>
			</div>
		</div>

		<a>
		新規実装:狩人に「みだれうち」</a><br>
		<div class="detailText" id="detail_disordered_shot">
			対象を定めずランダムに4回攻撃します。威力と命中率は通常時に比べ低下します。<br>
			熟練するに従い通常時と遜色がなくなります。<br>
			<span class="specHead">仕様</span><br>
			<div class="spec">
			補正率(%) = 70 + 熟練度/4<br>
			</div>
		</div>

		<a>
		新規実装:バイキングに「ちょうはつ」</a><br>
		<div class="detailText" id="detail_provoke">
			敵全体を挑発し使用ターン中自分を狙うように仕向けます。<br>
			盾を持ったり後列に下がったりしていると実は怖がっているのがばれます。<br>
			<span class="specHead">仕様</span><br>
			<div class="spec">
			成功率(%) = max(1, (100 + 使用者Lv + 使用者熟練度 - 対象Lv - 盾装備数*20)/後列補正 )<br>
			後列補正は後列なら2，前列なら1<br>
			成功時対象のクリティカル率 = 75%<br>
			</div>
		</div>

		<a>
		新規実装:魔剣士に「あんこく」</a><br>
		<div class="detailText" id="detail_darkness">
			HPを消費し敵全体に暗黒のオーラで攻撃します。<br>
			闇の力を受けた対象は<span class="highlight">分裂する能力を失います。</span><br>
			<span class="specHead">仕様</span><br>
			<div class="spec">
			回数 = 1 + 熟練度/16 + 精神/8<br>
			威力 =75 + 熟練度 + 精神 (max255)<br>
			</div>
		</div>

		<a>
		新規実装:モンクの特性としてカウンター</a><br>
		<div class="detailText" id="detail_passive_counter">
			打撃被弾時に一定の確率で反撃します。<br>
			熟練すると相手の攻撃をよく見切るようになります。<br>
			<span class="specHead">仕様</span><br>
			<div class="spec">
			反撃率(%) = 25 + 熟練度/2<br>
			クリティカル率 = 50%<br>
			</div>
		</div>

		<a>
		新規実装:学者がアイテムを使用すると効果2倍</a><br>
		<div class="detailText" id="detail_passive_double_effect">
			戦闘中のみアイテムの効果が2倍になります。何が2倍になるかはアイテムによります。<br>
			<span class="specHead">仕様</span><br>
			魔法攻撃回数 = 魔法攻撃回数*2
		</div>

		<a>
		仕様変更:「ためる」</a><br>
		<div class="detailText" id="detail_charge">
			<div class="originalSpec">
				<span class="specHead">本家仕様</span><br>
				1回ためるごとに<span class="highlight">右手分のダメージが2倍→3倍</span>と増加。<br>
				全攻撃に対して防御0回避0で2倍ダメージを受ける。<br>
				ダメージ上限65535<br>
			</div>
			<div class="spec">
				<span class="specHead">パッチ版仕様</span><br>
				1回ためるごとに<span class="highlight">両手の攻撃力が2.25倍→3.5倍</span>と増加。<br>
				全攻撃に対して防御0回避0で2倍ダメージを受ける。<br>
				ダメージ上限65535<br>
			</div>
		</div>
		<a>
		仕様変更:「ジャンプ」</a><br>
		<div class="detailText" id="detail_jump">
			<div class="originalSpec">
				<span class="specHead">本家仕様</span><br>
				着地時に<span class="highlight">右手分のダメージが3倍。</span><br>
				ダメージ上限65535<br>
			</div>
			<div class="spec">
				<span class="specHead">パッチ版仕様</span><br>
				着地時に<span class="highlight">両手の攻撃力が2.5倍。</span><br>
				ダメージ上限65535<br>
			</div>
		</div>
		<a>
		仕様変更:「ちけい」をやや強化</a><br>
		<div class="detailText" id="detail_geomance">
			熟練度の影響が若干大きくなっています。<br>
			<div class="originalSpec">
			<span class="specHead">本家仕様</span><br>
			魔法攻撃回数 = <span class="highlight">Lv/16</span> + 熟練度/32 + 精神or知性/16 + 1<br>
			</div>
			<div class="spec">
			<span class="specHead">パッチ版仕様</span><br>
			魔法攻撃回数 = <span class="highlight">(Lv+熟練度)/16</span> + 熟練度/32 + 精神or知性/16 + 1<br>
			</div>
		</div>
		<a>
		仕様変更:「おどかす」を強化</a><br>
		<div class="detailText" id="detail_intimidate">
			<div class="originalSpec">
			<span class="specHead">本家仕様</span><br>
			敵全員のLv = 一番左上の敵Lv - 3<br>
			</div>
			<div class="spec">
			<span class="specHead">パッチ版仕様</span><br>
			各敵のLv = 各敵自身のLvの3/4<br>
			</div>
		</div>
		<a>
		仕様変更:「おうえん」を強化</a><br>
		<div class="detailText" id="detail_cheer">
			<div class="originalSpec">
			<span class="specHead">本家仕様</span><br>
			1回ごとに味方全員の<span class="highlight">右手攻撃力+10</span><br>
			</div>
			<div class="spec">
			<span class="specHead">パッチ版仕様</span><br>
			1回ごとに味方全員の<span class="highlight">追加攻撃力+32</span><br>
			追加攻撃力というのは両手に追加されるステータス画面では見る事のできないもうひとつの攻撃力。<br>
			手裏剣やオニオンソードが数字以上に強い理由。<br>
			</div>
		</div>

		<a>
		仕様変更:打撃モーションの速度が可変</a><br>
		<div class="detailText" id="detail_blow_motion">
		  ヒット数が多くなると振りが速くなります。<br>
		  本家版にあった片手あたりの制限回数も大幅に緩和。<br>
		  竪琴・弓矢・ブーメラン・円月輪はもとのままです。<br>
		</div>

		<a>
		仕様変更:属性ボーナス("xxのまりょくアップ!")が反映されるように変更</a><br>
		<div class="detailText" id="detail_attr_boost">
		  ボーナスがついてる属性の魔法攻撃を行った場合、<br>
		  <span class="highlight">ヒット回数が20%増加</span>します(端数は切り捨て=5回未満なら無意味)<br>
		  本家版では実装はされていますが、正しく機能するようになっていません。<br>
		</div>

		<a>
		仕様変更:戦闘中のアイテムウインドウ</a><br>
		<div class="detailText" id="detail_item_window">
		  スクロール速度が倍。<br>
		  装備変更したとき同種のアイテムがあればカーソル位置によらず重なります。<br>
		  装備変更してもウインドウが閉じません。(続けて変更可能)<br>
		</div>

		<a>
		仕様変更/修正:吸収属性</a><br>
		<div class="detailText" id="detail_absorb">
		  不死属性に対して吸収属性の攻撃を行うと相手が逆に回復します。<br>
		  本家版では攻撃側がダメージを食らうのみです。<br>
		  また現HPにかかわらず攻撃側はダメージを数字通りにうけます。<br>
		  本家版ではHPが残ったまま死亡する事があります。<br>
		</div>

		<a>
		機能強化:戦闘中のウインドウの描画速度変更</a><br>
		<div class="detailText" id="detail_window_drawing">
		オリジナルでは1フレーム(1/60秒)に1行ずつ描画していた(計10フレ)ものを可能な限り速く描画します。
		</div>

		<a>
		修正:戦闘時の乱数を変更</a><br>
		<div class="detailText" id="detail_random_lcg">
			本家版とは違う乱数列を生成しています。<br>
			これによりドロップ率が1に設定されているモンスター(3色ドラゴン以外全て)でも<br>
			ドロップテーブルにある8種のアイテム全てを落とす可能性があります。<br>
			本家版は乱数の性質により確率の高い上位3種のみしか落としません。<br>
			敵のターゲット選択時の乱数の使い方も変わっています。
		</div>

		<a>
		修正:ウインドウイレースバグ</a><br>
		<div class="detailText" id="detail_fix_window_erase">
		  装備を変更しない限り、プロテス・ヘイストの効果が消えることはありません。<br>
		  変更した場合は当該キャラのみ消えます。<br>
		</div>

		<a>
		修正:アイテム99個バグ</a><br>
		<div class="detailText" id="detail_fix_item99">
			アイテムが変化したり、先頭キャラのジョブが変化したり。<br>
			アイテムが99個ある時に同種のアイテムを戦利品として獲得する事により引き起こされるあの有名なバグ。<br>
		</div>
	
		<a>
		修正:LvUp時の最大HP上昇量を9bit精度に変更 </a><br>
		<div class="detailText" id="detail_fix_hp_growth">
			本家版は体力とLvが高すぎると逆に上昇量が低くなることがあります。<br>
		</div>

		<a>
		修正:逃走試行中に敵の攻撃がミスするとターゲットの次の打撃ダメージが255倍になるバグ</a><br>
		<div class="detailText" id="detail_fix_escape_damage_255x">
		  バックアタックを食らったときに逃げようとしてやっぱりあきらめるとたまになるアレです。
		</div>

		<a>
		仕様変更:特定フロアでの「降りる」移動回数が37回程度に制限</a><br>
		<div class="detailText" id="detail_fix_floor_stack_overflow">
		  オリジナルでは45回程度<br>
		  (とはいえ40回程度移動すると正常動作は期待できなくなります、最悪セーブデータも消えます)<br>
		  MAP切り替え時の音が両側で同じ場所が該当します。<br>
		</div>

		<a>
		仕様変更:逃走禁止に設定された戦闘において「にげる」「とんずら」を選択できないように変更</a><br>
		<div class="detailText" id="detail_prevent_escape">
		  ボス戦や暗黒の洞窟の敵が該当します。選択しようとすると警告音がなります。
		</div>

		<a>
		バランス調整:赤魔道士を強化</a><br>
		<div class="detailText" id="detail_redmage">
		  Lv5の魔法を使用可能。
		  Lv20ぐらいから徐々にLv5のMPが増加(最大で5)。
		  ディフェンダーとブレイクブレイドが装備可能。
		</div>
  	</div>
</div>
<br>

<a name="knownBugs"></a>
<div class="knownBugs">
	<span class="heading">未修正の問題</span><br>
	<div class="text">
		<p>
		混乱と素手エフェクトに問題あり？
		</p>
		<p>
		乱れ撃ち中に装備が変わった(矢が切れた)場合、次ターン以降攻撃力が矢装備時のものになってしまう。<br>
		</p>
	</div>
</div>
<br>

<a name="todo"></a>
<div class="todo">
	<span class="heading">今後の予定</span><br>
	<div class="text">
		<p>
		「ちけい」にランダム性を持たせる(一つの地形で複数の効果をランダムに出す)<br>
		実装は出来てるが容量が勿体無いので当分保留
		</p>
		<p>
		フィールドのウインドウも高速化する<br>
		課題が多すぎる
		</p>
		<p>
		ジョブチェンジ時に装備がある場合は自動解除するようにする
		</p>
		<p>
		「ジャンプ」の攻撃力調整。
		</p>
		<p>
		敵の行動決定処理を賢くする。可能ならば思考パターンを何種類か導入。
		</p>
	</div>
</div>
<br>

<div class="footer">
</div>
</body>
</html>
